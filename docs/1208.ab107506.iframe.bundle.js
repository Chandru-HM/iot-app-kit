"use strict";(self.webpackChunk_iot_app_kit_doc_site=self.webpackChunk_iot_app_kit_doc_site||[]).push([[1208],{"../packages/components/dist/esm/active-router-36401ad8.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ActiveRouter});var _index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../packages/components/dist/esm/index-7d5b2a6a.js");const ActiveRouter=((defaultState,consumerRender)=>{let listeners=new Map,currentState=defaultState;const updateListener=(fields,instance)=>{Array.isArray(fields)?[...fields].forEach((fieldName=>{instance[fieldName]=currentState[fieldName]})):instance[fields]=Object.assign({},currentState)},subscribe=(instance,propList)=>(listeners.has(instance)||(listeners.set(instance,propList),updateListener(propList,instance)),()=>{listeners.has(instance)&&listeners.delete(instance)});return{Provider:({state},children)=>(currentState=state,listeners.forEach(updateListener),children),Consumer:(props,children)=>consumerRender(subscribe,children[0]),injectProps:(Cstr,fieldList)=>{const CstrPrototype=Cstr.prototype,cstrConnectedCallback=CstrPrototype.connectedCallback,cstrDisconnectedCallback=CstrPrototype.disconnectedCallback;CstrPrototype.connectedCallback=function(){if(subscribe(this,fieldList),cstrConnectedCallback)return cstrConnectedCallback.call(this)},CstrPrototype.disconnectedCallback=function(){listeners.delete(this),cstrDisconnectedCallback&&cstrDisconnectedCallback.call(this)}}}})({historyType:"browser",location:{pathname:"",query:{},key:""},titleSuffix:"",root:"/",routeViewsUpdated:()=>{}},((subscribe,child)=>(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)("context-consumer",{subscribe,renderer:child})))},"../packages/components/dist/esm/dom-utils-97f33dea.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>matchesAreEqual,b:()=>supportsHistory,c:()=>supportsPopStateOnHashChange,d:()=>stripTrailingSlash,e:()=>addLeadingSlash,f:()=>createLocation,g:()=>createKey,h:()=>hasBasename,i:()=>stripBasename,j:()=>createPath,k:()=>getConfirmation,l:()=>isExtraneousPopstateEvent,m:()=>matchPath,n:()=>supportsGoWithoutReloadUsingHash,o:()=>stripLeadingSlash,p:()=>locationsAreEqual,q:()=>isModifiedEvent,s:()=>storageAvailable});const PATH_REGEXP=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),escapeString=str=>str.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),escapeGroup=group=>group.replace(/([=!:$/()])/g,"\\$1"),flags=options=>options&&options.sensitive?"":"i",stringToRegexp=(path,keys,options)=>tokensToRegExp(((str,options)=>{for(var res,tokens=[],key=0,index=0,path="",defaultDelimiter=options&&options.delimiter||"/",delimiters=options&&options.delimiters||"./",pathEscaped=!1;null!==(res=PATH_REGEXP.exec(str));){var m=res[0],escaped=res[1],offset=res.index;if(path+=str.slice(index,offset),index=offset+m.length,escaped)path+=escaped[1],pathEscaped=!0;else{var prev="",next=str[index],name=res[2],capture=res[3],group=res[4],modifier=res[5];if(!pathEscaped&&path.length){var k=path.length-1;delimiters.indexOf(path[k])>-1&&(prev=path[k],path=path.slice(0,k))}path&&(tokens.push(path),path="",pathEscaped=!1);var partial=""!==prev&&void 0!==next&&next!==prev,repeat="+"===modifier||"*"===modifier,optional="?"===modifier||"*"===modifier,delimiter=prev||defaultDelimiter,pattern=capture||group;tokens.push({name:name||key++,prefix:prev,delimiter,optional,repeat,partial,pattern:pattern?escapeGroup(pattern):"[^"+escapeString(delimiter)+"]+?"})}}return(path||index<str.length)&&tokens.push(path+str.substr(index)),tokens})(path,options),keys,options),tokensToRegExp=(tokens,keys,options)=>{for(var strict=(options=options||{}).strict,end=!1!==options.end,delimiter=escapeString(options.delimiter||"/"),delimiters=options.delimiters||"./",endsWith=[].concat(options.endsWith||[]).map(escapeString).concat("$").join("|"),route="",isEndDelimited=!1,i=0;i<tokens.length;i++){var token=tokens[i];if("string"==typeof token)route+=escapeString(token),isEndDelimited=i===tokens.length-1&&delimiters.indexOf(token[token.length-1])>-1;else{var prefix=escapeString(token.prefix||""),capture=token.repeat?"(?:"+token.pattern+")(?:"+prefix+"(?:"+token.pattern+"))*":token.pattern;keys&&keys.push(token),token.optional?token.partial?route+=prefix+"("+capture+")?":route+="(?:"+prefix+"("+capture+"))?":route+=prefix+"("+capture+")"}}return end?(strict||(route+="(?:"+delimiter+")?"),route+="$"===endsWith?"$":"(?="+endsWith+")"):(strict||(route+="(?:"+delimiter+"(?="+endsWith+"))?"),isEndDelimited||(route+="(?="+delimiter+"|"+endsWith+")")),new RegExp("^"+route,flags(options))},pathToRegexp=(path,keys,options)=>path instanceof RegExp?((path,keys)=>{if(!keys)return path;var groups=path.source.match(/\((?!\?)/g);if(groups)for(var i=0;i<groups.length;i++)keys.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return path})(path,keys):Array.isArray(path)?((path,keys,options)=>{for(var parts=[],i=0;i<path.length;i++)parts.push(pathToRegexp(path[i],keys,options).source);return new RegExp("(?:"+parts.join("|")+")",flags(options))})(path,keys,options):stringToRegexp(path,keys,options),hasBasename=(path,prefix)=>new RegExp("^"+prefix+"(\\/|\\?|#|$)","i").test(path),stripBasename=(path,prefix)=>hasBasename(path,prefix)?path.substr(prefix.length):path,stripTrailingSlash=path=>"/"===path.charAt(path.length-1)?path.slice(0,-1):path,addLeadingSlash=path=>"/"===path.charAt(0)?path:"/"+path,stripLeadingSlash=path=>"/"===path.charAt(0)?path.substr(1):path,createPath=location=>{const{pathname,search,hash}=location;let path=pathname||"/";return search&&"?"!==search&&(path+="?"===search.charAt(0)?search:`?${search}`),hash&&"#"!==hash&&(path+="#"===hash.charAt(0)?hash:`#${hash}`),path},isAbsolute=pathname=>"/"===pathname.charAt(0),createKey=keyLength=>Math.random().toString(36).substr(2,keyLength),spliceOne=(list,index)=>{for(let i=index,k=i+1,n=list.length;k<n;i+=1,k+=1)list[i]=list[k];list.pop()},valueEqual=(a,b)=>{if(a===b)return!0;if(null==a||null==b)return!1;if(Array.isArray(a))return Array.isArray(b)&&a.length===b.length&&a.every(((item,index)=>valueEqual(item,b[index])));const aType=typeof a;if(aType!==typeof b)return!1;if("object"===aType){const aValue=a.valueOf(),bValue=b.valueOf();if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);const aKeys=Object.keys(a),bKeys=Object.keys(b);return aKeys.length===bKeys.length&&aKeys.every((key=>valueEqual(a[key],b[key])))}return!1},locationsAreEqual=(a,b)=>a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&a.key===b.key&&valueEqual(a.state,b.state),createLocation=(path,state,key,currentLocation)=>{let location;"string"==typeof path?(location=(path=>{let pathname=path||"/",search="",hash="";const hashIndex=pathname.indexOf("#");-1!==hashIndex&&(hash=pathname.substr(hashIndex),pathname=pathname.substr(0,hashIndex));const searchIndex=pathname.indexOf("?");return-1!==searchIndex&&(search=pathname.substr(searchIndex),pathname=pathname.substr(0,searchIndex)),{pathname,search:"?"===search?"":search,hash:"#"===hash?"":hash,query:{},key:""}})(path),void 0!==state&&(location.state=state)):(location=Object.assign({pathname:""},path),location.search&&"?"!==location.search.charAt(0)&&(location.search="?"+location.search),location.hash&&"#"!==location.hash.charAt(0)&&(location.hash="#"+location.hash),void 0!==state&&void 0===location.state&&(location.state=state));try{location.pathname=decodeURI(location.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+location.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}var query;return location.key=key,currentLocation?location.pathname?"/"!==location.pathname.charAt(0)&&(location.pathname=((to,from="")=>{let hasTrailingSlash,fromParts=from&&from.split("/")||[],up=0;const toParts=to&&to.split("/")||[],isToAbs=to&&isAbsolute(to),isFromAbs=from&&isAbsolute(from),mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)?fromParts=toParts:toParts.length&&(fromParts.pop(),fromParts=fromParts.concat(toParts)),!fromParts.length)return"/";if(fromParts.length){const last=fromParts[fromParts.length-1];hasTrailingSlash="."===last||".."===last||""===last}else hasTrailingSlash=!1;for(let i=fromParts.length;i>=0;i--){const part=fromParts[i];"."===part?spliceOne(fromParts,i):".."===part?(spliceOne(fromParts,i),up++):up&&(spliceOne(fromParts,i),up--)}if(!mustEndAbs)for(;up--;up)fromParts.unshift("..");!mustEndAbs||""===fromParts[0]||fromParts[0]&&isAbsolute(fromParts[0])||fromParts.unshift("");let result=fromParts.join("/");return hasTrailingSlash&&"/"!==result.substr(-1)&&(result+="/"),result})(location.pathname,currentLocation.pathname)):location.pathname=currentLocation.pathname:location.pathname||(location.pathname="/"),location.query=(query=location.search||"")?(/^[?#]/.test(query)?query.slice(1):query).split("&").reduce(((params,param)=>{let[key,value]=param.split("=");return params[key]=value?decodeURIComponent(value.replace(/\+/g," ")):"",params}),{}):{},location};let cacheCount=0;const patternCache={},matchPath=(pathname,options={})=>{"string"==typeof options&&(options={path:options});const{path="/",exact=!1,strict=!1}=options,{re,keys}=((pattern,options)=>{const cacheKey=`${options.end}${options.strict}`,cache=patternCache[cacheKey]||(patternCache[cacheKey]={}),cachePattern=JSON.stringify(pattern);if(cache[cachePattern])return cache[cachePattern];const keys=[],compiledPattern={re:pathToRegexp(pattern,keys,options),keys};return cacheCount<1e4&&(cache[cachePattern]=compiledPattern,cacheCount+=1),compiledPattern})(path,{end:exact,strict}),match=re.exec(pathname);if(!match)return null;const[url,...values]=match,isExact=pathname===url;return exact&&!isExact?null:{path,url:"/"===path&&""===url?"/":url,isExact,params:keys.reduce(((memo,key,index)=>(memo[key.name]=values[index],memo)),{})}},matchesAreEqual=(a,b)=>null==a&&null==b||null!=b&&(a&&b&&a.path===b.path&&a.url===b.url&&valueEqual(a.params,b.params)),getConfirmation=(win,message,callback)=>callback(win.confirm(message)),isModifiedEvent=ev=>ev.metaKey||ev.altKey||ev.ctrlKey||ev.shiftKey,supportsHistory=win=>{const ua=win.navigator.userAgent;return(-1===ua.indexOf("Android 2.")&&-1===ua.indexOf("Android 4.0")||-1===ua.indexOf("Mobile Safari")||-1!==ua.indexOf("Chrome")||-1!==ua.indexOf("Windows Phone"))&&(win.history&&"pushState"in win.history)},supportsPopStateOnHashChange=nav=>-1===nav.userAgent.indexOf("Trident"),supportsGoWithoutReloadUsingHash=nav=>-1===nav.userAgent.indexOf("Firefox"),isExtraneousPopstateEvent=(nav,event)=>void 0===event.state&&-1===nav.userAgent.indexOf("CriOS"),storageAvailable=(win,type)=>{const storage=win[type],x="__storage_test__";try{return storage.setItem(x,x),storage.removeItem(x),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==storage.length}}},"../packages/components/dist/esm/iot-test-routes_4.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{iot_test_routes:()=>IotTestRoutes,stencil_route:()=>Route,stencil_route_switch:()=>RouteSwitch,stencil_router:()=>Router});var _index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../packages/components/dist/esm/index-7d5b2a6a.js"),_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../packages/components/dist/esm/dom-utils-97f33dea.js"),_active_router_36401ad8_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../packages/components/dist/esm/active-router-36401ad8.js");const routes=[{url:"/resource-explorer/tree-table",component:"iot-tree-table-demo"},{url:"/",component:"iot-resource-explorer-demo"}],IotTestRoutes=class{constructor(hostRef){(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef)}render(){return(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)("stencil-router",null,(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)("stencil-route-switch",{scrollTopOffset:0},routes.map((r=>(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)("stencil-route",{key:r.url,url:r.url,component:r.component,exact:!0})))))}},Route=class{constructor(hostRef){(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(newLocation){const isGrouped=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(newLocation&&!isGrouped)return this.previousMatch=this.match,this.match=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.m)(newLocation.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let routeViewOptions={};this.history&&this.history.location.hash?routeViewOptions={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(routeViewOptions={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(routeViewOptions):this.match&&!(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.a)(this.match,this.previousMatch)&&this.routeViewsUpdated&&this.routeViewsUpdated(routeViewOptions)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const childProps=Object.assign({},this.componentProps,{history:this.history,match:this.match});if(this.routeRender)return this.routeRender(Object.assign({},childProps,{component:this.component}));if(this.component){const ChildComponent=this.component;return(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)(ChildComponent,Object.assign({},childProps))}}get el(){return(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}static get watchers(){return{location:["computeMatch"]}}};_active_router_36401ad8_js__WEBPACK_IMPORTED_MODULE_2__.A.injectProps(Route,["location","history","historyType","routeViewsUpdated"]),Route.style="stencil-route.inactive{display:none}";const isHTMLStencilRouteElement=elm=>"STENCIL-ROUTE"===elm.tagName,RouteSwitch=class{constructor(hostRef){(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(newLocation){if(null==newLocation)return;let newActiveIndex=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(isHTMLStencilRouteElement).map(((childElement,index)=>{const match=(pathname=newLocation.pathname,url=childElement.url,exact=childElement.exact,(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.m)(pathname,{path:url,exact,strict:!0}));var pathname,url,exact;return match&&-1===newActiveIndex&&(newActiveIndex=index),{el:childElement,match}})),-1===newActiveIndex)return;if(this.activeIndex===newActiveIndex)return void(this.subscribers[newActiveIndex].el.match=this.subscribers[newActiveIndex].match);this.activeIndex=newActiveIndex;const activeChild=this.subscribers[this.activeIndex];this.scrollTopOffset&&(activeChild.el.scrollTopOffset=this.scrollTopOffset),activeChild.el.group=this.group,activeChild.el.match=activeChild.match,activeChild.el.componentUpdated=routeViewUpdatedOptions=>{this.queue.write((()=>{this.subscribers.forEach(((child,index)=>{if(child.el.componentUpdated=void 0,index===this.activeIndex)return child.el.style.display="";this.scrollTopOffset&&(child.el.scrollTopOffset=this.scrollTopOffset),child.el.group=this.group,child.el.match=null,child.el.style.display="none"}))})),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},routeViewUpdatedOptions))}}render(){return(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",null)}get el(){return(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};_active_router_36401ad8_js__WEBPACK_IMPORTED_MODULE_2__.A.injectProps(RouteSwitch,["location","routeViewsUpdated"]);const warning=(value,...args)=>{value||console.warn(...args)},createTransitionManager=()=>{let prompt,listeners=[];return{setPrompt:nextPrompt=>(warning(null==prompt,"A history supports only one prompt at a time"),prompt=nextPrompt,()=>{prompt===nextPrompt&&(prompt=null)}),confirmTransitionTo:(location,action,getUserConfirmation,callback)=>{if(null!=prompt){const result="function"==typeof prompt?prompt(location,action):prompt;"string"==typeof result?"function"==typeof getUserConfirmation?getUserConfirmation(result,callback):(warning(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),callback(!0)):callback(!1!==result)}else callback(!0)},appendListener:fn=>{let isActive=!0;const listener=(...args)=>{isActive&&fn(...args)};return listeners.push(listener),()=>{isActive=!1,listeners=listeners.filter((item=>item!==listener))}},notifyListeners:(...args)=>{listeners.forEach((listener=>listener(...args)))}}},createScrollHistory=(win,applicationScrollKey="scrollPositions")=>{let scrollPositions=new Map;const set=(key,value)=>{if(scrollPositions.set(key,value),(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.s)(win,"sessionStorage")){const arrayData=[];scrollPositions.forEach(((value,key)=>{arrayData.push([key,value])})),win.sessionStorage.setItem("scrollPositions",JSON.stringify(arrayData))}};if((0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.s)(win,"sessionStorage")){const scrollData=win.sessionStorage.getItem(applicationScrollKey);scrollPositions=scrollData?new Map(JSON.parse(scrollData)):scrollPositions}return"scrollRestoration"in win.history&&(history.scrollRestoration="manual"),{set,get:key=>scrollPositions.get(key),has:key=>scrollPositions.has(key),capture:key=>{set(key,[win.scrollX,win.scrollY])}}},HashPathCoders={hashbang:{encodePath:path=>"!"===path.charAt(0)?path:"!/"+(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.o)(path),decodePath:path=>"!"===path.charAt(0)?path.substr(1):path},noslash:{encodePath:_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.o,decodePath:_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.e},slash:{encodePath:_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.e,decodePath:_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.e}},getLocation=(location,root)=>{const pathname=0==location.pathname.indexOf(root)?"/"+location.pathname.slice(root.length):location.pathname;return Object.assign({},location,{pathname})},HISTORIES={browser:(win,props={})=>{let forceNextPop=!1;const globalHistory=win.history,globalLocation=win.location,globalNavigator=win.navigator,canUseHistory=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.b)(win),needsHashChangeListener=!(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.c)(globalNavigator),scrollHistory=createScrollHistory(win),forceRefresh=null!=props.forceRefresh&&props.forceRefresh,getUserConfirmation=null!=props.getUserConfirmation?props.getUserConfirmation:_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.k,keyLength=null!=props.keyLength?props.keyLength:6,basename=props.basename?(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.d)((0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.e)(props.basename)):"",getHistoryState=()=>{try{return win.history.state||{}}catch(e){return{}}},getDOMLocation=historyState=>{historyState=historyState||{};const{key,state}=historyState,{pathname,search,hash}=globalLocation;let path=pathname+search+hash;return warning(!basename||(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.h)(path,basename),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+path+'" to begin with "'+basename+'".'),basename&&(path=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.i)(path,basename)),(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.f)(path,state,key||(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.g)(keyLength))},transitionManager=createTransitionManager(),setState=nextState=>{scrollHistory.capture(history.location.key),Object.assign(history,nextState),history.location.scrollPosition=scrollHistory.get(history.location.key),history.length=globalHistory.length,transitionManager.notifyListeners(history.location,history.action)},handlePopState=event=>{(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.l)(globalNavigator,event)||handlePop(getDOMLocation(event.state))},handleHashChange=()=>{handlePop(getDOMLocation(getHistoryState()))},handlePop=location=>{if(forceNextPop)forceNextPop=!1,setState();else{const action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,(ok=>{ok?setState({action,location}):revertPop(location)}))}},revertPop=fromLocation=>{const toLocation=history.location;let toIndex=allKeys.indexOf(toLocation.key),fromIndex=allKeys.indexOf(fromLocation.key);-1===toIndex&&(toIndex=0),-1===fromIndex&&(fromIndex=0);const delta=toIndex-fromIndex;delta&&(forceNextPop=!0,go(delta))},initialLocation=getDOMLocation(getHistoryState());let allKeys=[initialLocation.key],listenerCount=0,isBlocked=!1;const createHref=location=>basename+(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(location),go=n=>{globalHistory.go(n)},checkDOMListeners=delta=>{listenerCount+=delta,1===listenerCount?(win.addEventListener("popstate",handlePopState),needsHashChangeListener&&win.addEventListener("hashchange",handleHashChange)):0===listenerCount&&(win.removeEventListener("popstate",handlePopState),needsHashChangeListener&&win.removeEventListener("hashchange",handleHashChange))},history={length:globalHistory.length,action:"POP",location:initialLocation,createHref,push:(path,state)=>{warning(!("object"==typeof path&&void 0!==path.state&&void 0!==state),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const location=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.f)(path,state,(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.g)(keyLength),history.location);transitionManager.confirmTransitionTo(location,"PUSH",getUserConfirmation,(ok=>{if(!ok)return;const href=createHref(location),{key,state}=location;if(canUseHistory)if(globalHistory.pushState({key,state},"",href),forceRefresh)globalLocation.href=href;else{const prevIndex=allKeys.indexOf(history.location.key),nextKeys=allKeys.slice(0,-1===prevIndex?0:prevIndex+1);nextKeys.push(location.key),allKeys=nextKeys,setState({action:"PUSH",location})}else warning(void 0===state,"Browser history cannot push state in browsers that do not support HTML5 history"),globalLocation.href=href}))},replace:(path,state)=>{warning(!("object"==typeof path&&void 0!==path.state&&void 0!==state),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const location=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.f)(path,state,(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.g)(keyLength),history.location);transitionManager.confirmTransitionTo(location,"REPLACE",getUserConfirmation,(ok=>{if(!ok)return;const href=createHref(location),{key,state}=location;if(canUseHistory)if(globalHistory.replaceState({key,state},"",href),forceRefresh)globalLocation.replace(href);else{const prevIndex=allKeys.indexOf(history.location.key);-1!==prevIndex&&(allKeys[prevIndex]=location.key),setState({action:"REPLACE",location})}else warning(void 0===state,"Browser history cannot replace state in browsers that do not support HTML5 history"),globalLocation.replace(href)}))},go,goBack:()=>go(-1),goForward:()=>go(1),block:(prompt="")=>{const unblock=transitionManager.setPrompt(prompt);return isBlocked||(checkDOMListeners(1),isBlocked=!0),()=>(isBlocked&&(isBlocked=!1,checkDOMListeners(-1)),unblock())},listen:listener=>{const unlisten=transitionManager.appendListener(listener);return checkDOMListeners(1),()=>{checkDOMListeners(-1),unlisten()}},win};return history},hash:(win,props={})=>{let forceNextPop=!1,ignorePath=null,listenerCount=0,isBlocked=!1;const globalLocation=win.location,globalHistory=win.history,canGoWithoutReload=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.n)(win.navigator),keyLength=null!=props.keyLength?props.keyLength:6,{getUserConfirmation=_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.k,hashType="slash"}=props,basename=props.basename?(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.d)((0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.e)(props.basename)):"",{encodePath,decodePath}=HashPathCoders[hashType],getHashPath=()=>{const href=globalLocation.href,hashIndex=href.indexOf("#");return-1===hashIndex?"":href.substring(hashIndex+1)},replaceHashPath=path=>{const hashIndex=globalLocation.href.indexOf("#");globalLocation.replace(globalLocation.href.slice(0,hashIndex>=0?hashIndex:0)+"#"+path)},getDOMLocation=()=>{let path=decodePath(getHashPath());return warning(!basename||(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.h)(path,basename),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+path+'" to begin with "'+basename+'".'),basename&&(path=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.i)(path,basename)),(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.f)(path,void 0,(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.g)(keyLength))},transitionManager=createTransitionManager(),setState=nextState=>{Object.assign(history,nextState),history.length=globalHistory.length,transitionManager.notifyListeners(history.location,history.action)},handleHashChange=()=>{const path=getHashPath(),encodedPath=encodePath(path);if(path!==encodedPath)replaceHashPath(encodedPath);else{const location=getDOMLocation(),prevLocation=history.location;if(!forceNextPop&&(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.p)(prevLocation,location))return;if(ignorePath===(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(location))return;ignorePath=null,handlePop(location)}},handlePop=location=>{if(forceNextPop)forceNextPop=!1,setState();else{const action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,(ok=>{ok?setState({action,location}):revertPop(location)}))}},revertPop=fromLocation=>{const toLocation=history.location;let toIndex=allPaths.lastIndexOf((0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(toLocation)),fromIndex=allPaths.lastIndexOf((0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(fromLocation));-1===toIndex&&(toIndex=0),-1===fromIndex&&(fromIndex=0);const delta=toIndex-fromIndex;delta&&(forceNextPop=!0,go(delta))},path=getHashPath(),encodedPath=encodePath(path);path!==encodedPath&&replaceHashPath(encodedPath);const initialLocation=getDOMLocation();let allPaths=[(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(initialLocation)];const go=n=>{warning(canGoWithoutReload,"Hash history go(n) causes a full page reload in this browser"),globalHistory.go(n)},checkDOMListeners=(win,delta)=>{listenerCount+=delta,1===listenerCount?win.addEventListener("hashchange",handleHashChange):0===listenerCount&&win.removeEventListener("hashchange",handleHashChange)},history={length:globalHistory.length,action:"POP",location:initialLocation,createHref:location=>"#"+encodePath(basename+(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(location)),push:(path,state)=>{warning(void 0===state,"Hash history cannot push state; it is ignored");const location=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.f)(path,void 0,(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.g)(keyLength),history.location);transitionManager.confirmTransitionTo(location,"PUSH",getUserConfirmation,(ok=>{if(!ok)return;const path=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(location),encodedPath=encodePath(basename+path);if(getHashPath()!==encodedPath){ignorePath=path,(path=>{globalLocation.hash=path})(encodedPath);const prevIndex=allPaths.lastIndexOf((0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(history.location)),nextPaths=allPaths.slice(0,-1===prevIndex?0:prevIndex+1);nextPaths.push(path),allPaths=nextPaths,setState({action:"PUSH",location})}else warning(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),setState()}))},replace:(path,state)=>{warning(void 0===state,"Hash history cannot replace state; it is ignored");const location=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.f)(path,void 0,(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.g)(keyLength),history.location);transitionManager.confirmTransitionTo(location,"REPLACE",getUserConfirmation,(ok=>{if(!ok)return;const path=(0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(location),encodedPath=encodePath(basename+path);getHashPath()!==encodedPath&&(ignorePath=path,replaceHashPath(encodedPath));const prevIndex=allPaths.indexOf((0,_dom_utils_97f33dea_js__WEBPACK_IMPORTED_MODULE_1__.j)(history.location));-1!==prevIndex&&(allPaths[prevIndex]=path),setState({action:"REPLACE",location})}))},go,goBack:()=>go(-1),goForward:()=>go(1),block:(prompt="")=>{const unblock=transitionManager.setPrompt(prompt);return isBlocked||(checkDOMListeners(win,1),isBlocked=!0),()=>(isBlocked&&(isBlocked=!1,checkDOMListeners(win,-1)),unblock())},listen:listener=>{const unlisten=transitionManager.appendListener(listener);return checkDOMListeners(win,1),()=>{checkDOMListeners(win,-1),unlisten()}},win};return history}},Router=class{constructor(hostRef){(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(options={})=>{if(this.history&&options.scrollToId&&"browser"===this.historyType){const elm=this.history.win.document.getElementById(options.scrollToId);if(elm)return elm.scrollIntoView()}this.scrollTo(options.scrollTopOffset||this.scrollTopOffset)},this.isServer=(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,"isServer"),this.queue=(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,"queue")}componentWillLoad(){this.history=HISTORIES[this.historyType](this.el.ownerDocument.defaultView),this.history.listen((location=>{location=getLocation(location,this.root),this.location=location})),this.location=getLocation(this.history.location,this.root)}scrollTo(scrollToLocation){const history=this.history;if(null!=scrollToLocation&&!this.isServer&&history)return"POP"===history.action&&Array.isArray(history.location.scrollPosition)?this.queue.write((()=>{history&&history.location&&Array.isArray(history.location.scrollPosition)&&history.win.scrollTo(history.location.scrollPosition[0],history.location.scrollPosition[1])})):this.queue.write((()=>{history.win.scrollTo(0,scrollToLocation)}))}render(){if(!this.location||!this.history)return;const state={historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated};return(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)(_active_router_36401ad8_js__WEBPACK_IMPORTED_MODULE_2__.A.Provider,{state},(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",null))}get el(){return(0,_index_7d5b2a6a_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}}}}]);