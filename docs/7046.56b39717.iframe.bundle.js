"use strict";(self.webpackChunk_iot_app_kit_doc_site=self.webpackChunk_iot_app_kit_doc_site||[]).push([[7046],{"../node_modules/@synchro-charts/core/dist/esm-es5/webglContext-da311040.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>index,r:()=>rectScrollFixed,w:()=>webGLRenderer});var _predicates_67461267_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/@synchro-charts/core/dist/esm-es5/predicates-67461267.js"),_three_module_06da257a_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/@synchro-charts/core/dist/esm-es5/three.module-06da257a.js"),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},MapShim=function(){if("undefined"!=typeof Map)return Map;function getIndex(arr,key){var result=-1;return arr.some((function(entry,index){return entry[0]===key&&(result=index,!0)})),result}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(key){var index=getIndex(this.__entries__,key),entry=this.__entries__[index];return entry&&entry[1]},class_1.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);~index?this.__entries__[index][1]=value:this.__entries__.push([key,value])},class_1.prototype.delete=function(key){var entries=this.__entries__,index=getIndex(entries,key);~index&&entries.splice(index,1)},class_1.prototype.has=function(key){return!!~getIndex(this.__entries__,key)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(callback,ctx){void 0===ctx&&(ctx=null);for(var _i=0,_a=this.__entries__;_i<_a.length;_i++){var entry=_a[_i];callback.call(ctx,entry[1],entry[0])}},class_1}()}(),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,global$1=void 0!==__webpack_require__.g&&__webpack_require__.g.Math===Math?__webpack_require__.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),requestAnimationFrame$1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(global$1):function(callback){return setTimeout((function(){return callback(Date.now())}),1e3/60)},trailingTimeout=2;var transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported="undefined"!=typeof MutationObserver,ResizeObserverController=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(callback,delay){var leadingCall=!1,trailingCall=!1,lastCallTime=0;function resolvePending(){leadingCall&&(leadingCall=!1,callback()),trailingCall&&proxy()}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<trailingTimeout)return;trailingCall=!0}else leadingCall=!0,trailingCall=!1,setTimeout(timeoutCallback,delay);lastCallTime=timeStamp}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(observer){~this.observers_.indexOf(observer)||this.observers_.push(observer),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_,index=observers.indexOf(observer);~index&&observers.splice(index,1),!observers.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter((function(observer){return observer.gatherActive(),observer.hasActive()}));return activeObservers.forEach((function(observer){return observer.broadcastActive()})),activeObservers.length>0},ResizeObserverController.prototype.connect_=function(){isBrowser&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){isBrowser&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(_a){var _b=_a.propertyName,propertyName=void 0===_b?"":_b;transitionKeys.some((function(key){return!!~propertyName.indexOf(key)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function(target,props){for(var _i=0,_a=Object.keys(props);_i<_a.length;_i++){var key=_a[_i];Object.defineProperty(target,key,{value:props[key],enumerable:!1,writable:!1,configurable:!0})}return target},getWindowOf=function(target){return target&&target.ownerDocument&&target.ownerDocument.defaultView||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){for(var positions=[],_i=1;_i<arguments.length;_i++)positions[_i-1]=arguments[_i];return positions.reduce((function(size,position){return size+toFloat(styles["border-"+position+"-width"])}),0)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight)return emptyRect;var styles=getWindowOf(target).getComputedStyle(target),paddings=function getPaddings(styles){for(var paddings={},_i=0,positions_1=["top","right","bottom","left"];_i<positions_1.length;_i++){var position=positions_1[_i],value=styles["padding-"+position];paddings[position]=toFloat(value)}return paddings}(styles),horizPad=paddings.left+paddings.right,vertPad=paddings.top+paddings.bottom,width=toFloat(styles.width),height=toFloat(styles.height);if("border-box"===styles.boxSizing&&(Math.round(width+horizPad)!==clientWidth&&(width-=getBordersSize(styles,"left","right")+horizPad),Math.round(height+vertPad)!==clientHeight&&(height-=getBordersSize(styles,"top","bottom")+vertPad)),!function isDocumentElement(target){return target===getWindowOf(target).document.documentElement}(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth,horizScrollbar=Math.round(height+vertPad)-clientHeight;1!==Math.abs(vertScrollbar)&&(width-=vertScrollbar),1!==Math.abs(horizScrollbar)&&(height-=horizScrollbar)}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement="undefined"!=typeof SVGGraphicsElement?function(target){return target instanceof getWindowOf(target).SVGGraphicsElement}:function(target){return target instanceof getWindowOf(target).SVGElement&&"function"==typeof target.getBBox};function getContentRect(target){return isBrowser?isSVGGraphicsElement(target)?function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}(target):getHTMLElementContentRect(target):emptyRect}function createRectInit(x,y,width,height){return{x,y,width,height}}var ResizeObservation=function(){function ResizeObservation(target){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=target}return ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);return this.contentRect_=rect,rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;return this.broadcastWidth=rect.width,this.broadcastHeight=rect.height,rect},ResizeObservation}(),ResizeObserverEntry=function ResizeObserverEntry(target,rectInit){var contentRect=function createReadOnlyRect(_a){var x=_a.x,y=_a.y,width=_a.width,height=_a.height,Constr="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,rect=Object.create(Constr.prototype);return defineConfigurable(rect,{x,y,width,height,top:y,right:x+width,bottom:height+y,left:x}),rect}(rectInit);defineConfigurable(this,{target,contentRect})},ResizeObserverSPI=function(){function ResizeObserverSPI(callback,controller,callbackCtx){if(this.activeObservations_=[],this.observations_=new MapShim,"function"!=typeof callback)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=callback,this.controller_=controller,this.callbackCtx_=callbackCtx}return ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)||(observations.set(target,new ResizeObservation(target)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(target instanceof getWindowOf(target).Element))throw new TypeError('parameter 1 is not of type "Element".');var observations=this.observations_;observations.has(target)&&(observations.delete(target),observations.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var _this=this;this.clearActive(),this.observations_.forEach((function(observation){observation.isActive()&&_this.activeObservations_.push(observation)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var ctx=this.callbackCtx_,entries=this.activeObservations_.map((function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())}));this.callback_.call(ctx,entries,ctx),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),observers="undefined"!=typeof WeakMap?new WeakMap:new MapShim,ResizeObserver=function ResizeObserver(callback){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var controller=ResizeObserverController.getInstance(),observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)};["observe","unobserve","disconnect"].forEach((function(method){ResizeObserver.prototype[method]=function(){var _a;return(_a=observers.get(this))[method].apply(_a,arguments)}}));var index=void 0!==global$1.ResizeObserver?global$1.ResizeObserver:ResizeObserver,rectScrollFixed=function(el){var domRect=el.getBoundingClientRect();return{width:domRect.width,height:domRect.height,left:domRect.left+window.scrollX,right:domRect.right+window.scrollX,bottom:domRect.bottom+window.scrollY,top:domRect.top+window.scrollY,x:domRect.x+window.scrollX,y:domRect.y+window.scrollY,density:window.devicePixelRatio}},ClipSpaceRectMap=function(){function ClipSpaceRectMap(canvas){this.rectMap={},this.canvas=canvas,this.updateCanvas()}return ClipSpaceRectMap.prototype.updateCanvas=function(){this.canvasRect=this.canvas.getBoundingClientRect()},ClipSpaceRectMap.prototype.updateChartScene=function(chartSceneId,rect){this.rectMap[chartSceneId]=rect},ClipSpaceRectMap.prototype.clipRect=function(chartSceneId){return this.rectMap[chartSceneId]?(containerRect=this.rectMap[chartSceneId],canvasRect=this.canvasRect,density=window.devicePixelRatio,left=containerRect.left,bottom=containerRect.bottom,width=containerRect.width,height=containerRect.height,positiveYUpBottom=canvasRect.bottom-(bottom-window.scrollY),{left:(left-canvasRect.left-window.scrollX)*density,bottom:positiveYUpBottom*density,width:width*density,height:height*density}):void 0;var containerRect,canvasRect,density,left,bottom,width,height,positiveYUpBottom},ClipSpaceRectMap.prototype.removeChartScene=function(chartSceneId){delete this.rectMap[chartSceneId]},ClipSpaceRectMap}(),ViewportHandler=function ViewportHandler(){var _this_1=this;this.viewportManagers=[],this.viewportMap={},this.viewportLiveId={},this.managers=function(){return __spreadArrays(_this_1.viewportManagers)},this.dispose=function(){_this_1.viewportManagers.forEach((function(_c){var id=_c.id;return _this_1.remove(id)}))},this.startTick=function(_c){var manager=_c.manager,duration=_c.duration,chartSize=_c.chartSize;if(null!=chartSize){var initStart=new Date((new Date).getTime()-duration),initEnd=new Date,viewPortMapKey=null!=manager.viewportGroup?manager.viewportGroup:manager.id,liveIdKey=manager.id,tickRate=1/chartSize.width*duration;liveIdKey in _this_1.viewportLiveId||(_this_1.viewportLiveId[liveIdKey]={viewportGroup:manager.viewportGroup},_this_1.viewportLiveId[liveIdKey].intervalId=setInterval((function(){var newStart=new Date(Date.now()-duration),newEnd=new Date;_this_1.viewportMap[viewPortMapKey]={start:newStart,end:newEnd};var isInLiveMode=Boolean(duration);manager.updateViewPort({start:newStart,end:newEnd,duration,shouldBlockDateRangeChangedEvent:isInLiveMode})}),tickRate),_this_1.viewportMap[viewPortMapKey]={start:initStart,end:initEnd},_this_1.syncViewPortGroup({start:initStart,end:initEnd,manager,duration}))}},this.stopTick=function(_c){var manager=_c.manager,viewportGroup=_c.viewportGroup;if(null!=manager||null!=viewportGroup){var clearInternalClock=function(liveId){null!=_this_1.viewportLiveId[liveId]&&(clearInterval(_this_1.viewportLiveId[liveId].intervalId),delete _this_1.viewportLiveId[liveId])};null!=viewportGroup?Object.entries(_this_1.viewportLiveId).filter((function(_c){return _c[1].viewportGroup===viewportGroup})).forEach((function(_c){var liveId=_c[0];return clearInternalClock(liveId)})):null!=manager&&clearInternalClock(manager.id)}},this.add=function(_c){var manager=_c.manager,chartSize=_c.chartSize,duration=_c.duration,_d=_c.shouldSync,shouldSync=void 0===_d||_d;if(_this_1.viewportManagers=__spreadArrays(_this_1.viewportManagers,[manager]),manager.viewportGroup&&_this_1.viewportMap[manager.viewportGroup]&&shouldSync){var shouldBlockDateRangeChangedEvent=Boolean(duration);manager.updateViewPort(Object.assign(Object.assign({},_this_1.viewportMap[manager.viewportGroup]),{duration,shouldBlockDateRangeChangedEvent}))}null!=duration&&_this_1.startTick({manager,duration,chartSize})},this.remove=function(managerId){var v=_this_1.viewportManagers.find((function(_c){return _c.id===managerId}));v&&v.dispose&&(_this_1.stopTick({manager:v}),v.dispose()),_this_1.viewportManagers=_this_1.viewportManagers.filter((function(_c){return _c.id!==managerId}))},this.syncViewPortGroup=function(_c){var start=_c.start,end=_c.end,manager=_c.manager,duration=_c.duration,key=manager.viewportGroup?manager.viewportGroup:manager.id;_this_1.viewportMap[key]={start,end},null==duration&&_this_1.stopTick({manager,viewportGroup:manager.viewportGroup});var updateViewPort=function(v){var isInLiveMode=Boolean(duration);v.updateViewPort({start,end,duration,shouldBlockDateRangeChangedEvent:isInLiveMode})};if(manager.viewportGroup){var managers=_this_1.viewportManagers.filter((function(_c){var group=_c.viewportGroup;return manager.viewportGroup===group}));managers.forEach(updateViewPort)}else updateViewPort(manager)}},isChartScene=(0,_predicates_67461267_js__WEBPACK_IMPORTED_MODULE_0__.i)((function(v){return null!=v.camera}));var viewportHandler,rectMap,renderer,canvas,viewFrame,viewFrameSizeObserver,fullClearAndRerender,onScroll,onResize,mustBeInitialized,render,webGLRenderer=(viewportHandler=new ViewportHandler,fullClearAndRerender=function(){renderer&&(renderer.setScissorTest(!1),renderer.setClearColor(16777215,0),renderer.clear(),renderer.setScissorTest(!0),viewportHandler.managers().filter(isChartScene).forEach(render))},onScroll=function(){if(renderer&&canvas){var x=0,y=0;if(!viewFrame)return;"scrollX"in viewFrame?(x=viewFrame.scrollX,y=viewFrame.scrollY):(x=viewFrame.scrollLeft,y=viewFrame.scrollTop);var transform="translate("+x+"px, "+y+"px)";renderer.domElement.style.transform=transform,rectMap.updateCanvas(),fullClearAndRerender()}},onResize=function(){mustBeInitialized(),renderer&&canvas&&(function resizeRendererToDisplaySize(renderer){var canvas=renderer.domElement,width=Math.floor(canvas.clientWidth*window.devicePixelRatio)||0,height=Math.floor(canvas.clientHeight*window.devicePixelRatio)||0,needResize=canvas.width!==width||canvas.height!==height;return needResize&&renderer.setSize(width,height,!1),needResize}(renderer),rectMap.updateCanvas(),fullClearAndRerender())},mustBeInitialized=function(){if(null==rectMap)throw new Error("webgl context must be initialized before it can be utilized. Please refer to https://synchrocharts.com/#/Setup to learn more about how to setup Synchro Charts.")},render=function(chartScene){mustBeInitialized();var clipSpaceRect=rectMap.clipRect(chartScene.id);renderer&&canvas&&clipSpaceRect&&function(renderer,_c,_d){var scene=_c.scene,camera=_c.camera,left=_d.left,bottom=_d.bottom,width=_d.width,height=_d.height;renderer.setScissor(left,bottom,width,height),renderer.setViewport(left,bottom,width,height),renderer.render(scene,camera)}(renderer,chartScene,clipSpaceRect)},{initRendering:function(renderCanvas,onContextInitialization,viewFrameRef){void 0===onContextInitialization&&(onContextInitialization=function(){}),rectMap=new ClipSpaceRectMap(renderCanvas),canvas=renderCanvas,renderer=new _three_module_06da257a_js__WEBPACK_IMPORTED_MODULE_1__.W({canvas,alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),viewFrame=viewFrameRef||window,onContextInitialization(renderer.getContext()),renderer.setScissorTest(!0),renderer.setClearColor(0,0),onScroll(),onResize(),viewFrame.addEventListener("scroll",onScroll),viewFrame instanceof Element?(viewFrameSizeObserver=new index(onResize)).observe(viewFrame):viewFrame.addEventListener("resize",onResize)},dispose:function(){renderer&&renderer.dispose(),viewportHandler.dispose(),viewFrame&&(viewFrame.removeEventListener("scroll",onScroll),viewFrame.removeEventListener("resize",onResize)),viewFrameSizeObserver&&viewFrameSizeObserver.disconnect()},render,addChartScene:function(_c){var manager=_c.manager,chartSize=_c.chartSize,duration=_c.duration,_d=_c.shouldSync,shouldSync=void 0===_d||_d;return viewportHandler.add({manager,chartSize,duration,shouldSync})},removeChartScene:function(chartSceneId){mustBeInitialized(),viewportHandler.remove(chartSceneId),rectMap.removeChartScene(chartSceneId),fullClearAndRerender()},setChartRect:function(sceneId,rect){mustBeInitialized(),rectMap.updateChartScene(sceneId,rect),fullClearAndRerender()},updateViewPorts:viewportHandler.syncViewPortGroup,startTick:viewportHandler.startTick,stopTick:viewportHandler.stopTick,onResolutionChange:function(){onResize()}})}}]);