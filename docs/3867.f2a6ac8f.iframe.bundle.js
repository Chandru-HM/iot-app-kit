/*! For license information please see 3867.f2a6ac8f.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_iot_app_kit_doc_site=self.webpackChunk_iot_app_kit_doc_site||[]).push([[3867],{"../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/dataTypes-aaacf3dd.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>AggregateType,S:()=>STREAM_ICON_STROKE_LINECAP,T:()=>TREND_ICON_DASH_ARRAY,a:()=>STREAM_ICON_STROKE_WIDTH,b:()=>STREAM_ICON_PATH_COMMAND});var STREAM_ICON_STROKE_LINECAP="round",STREAM_ICON_STROKE_WIDTH=3,STREAM_ICON_PATH_COMMAND="M 2 2 H 15",TREND_ICON_DASH_ARRAY="1, 5",AggregateType={AVERAGE:"AVERAGE",COUNT:"COUNT",MAXIMUM:"MAXIMUM",MINIMUM:"MINIMUM",STANDARD_DEVIATION:"STANDARD_DEVIATION",SUM:"SUM"}},"../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/iot-app-kit-vis-chart-icon_15.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{iot_app_kit_vis_chart_icon:()=>ScChartIcon,iot_app_kit_vis_data_stream_name:()=>ScDataStreamName,iot_app_kit_vis_error_badge:()=>ScErrorBadge,iot_app_kit_vis_expandable_input:()=>ScExpandableInput,iot_app_kit_vis_gesture_handler:()=>ScGestureHandler,iot_app_kit_vis_legend:()=>ScLegend,iot_app_kit_vis_legend_row:()=>ScLegendRow,iot_app_kit_vis_loading_spinner:()=>ScLoadingSpinner,iot_app_kit_vis_size_provider:()=>ScSizeProvider,iot_app_kit_vis_tooltip:()=>ScTooltip,iot_app_kit_vis_tooltip_row:()=>ScTooltipRow,iot_app_kit_vis_tooltip_rows:()=>ScTooltipRows,iot_app_kit_vis_webgl_axis:()=>ScWebglAxis,iot_app_kit_vis_webgl_base_chart:()=>ScWebglBaseChart,iot_app_kit_vis_webgl_context:()=>ScWebglContext});var _index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/index-c7728300.js"),_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/getDataPoints-1a3cf1be.js"),_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/webglContext-f702bea7.js"),_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/dataConstants-8e079f60.js"),_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/_commonjsHelpers-1d681858.js"),_time_33466212_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/time-33466212.js"),_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/constants-ebd051c2.js"),_common_a5fcad18_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/common-a5fcad18.js"),_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/dataTypes-aaacf3dd.js"),_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/chartDefaults-1d69f98e.js"),_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/@iot-app-kit-visualizations/core/dist/esm-es5/Value-bea966b5.js"),__spreadArrays=function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};var bisectRight=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.l)(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.n).right,e10=((0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.l)((function number(x){return null===x?NaN:+x})).center,Math.sqrt(50)),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}var icons={normal:function(color,size){return void 0===size&&(size=16),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{width:size+"px",height:size+"px",viewBox:"0 0 16 16",fill:color?""+color:"#1d8102"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M7 8.6l-2-2L3.6 8 7 11.4l4.9-4.9-1.4-1.4z"}))},active:function(color,size){return void 0===size&&(size=16),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{width:size+"px",height:size+"px",fill:color?""+color:"#d13212",viewBox:"0 0 16 16"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{fill:"none","fill-rule":"evenodd"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("circle",{cx:"8",cy:"8",r:"7",stroke:color?""+color:"#d13212","stroke-width":"2"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{transform:"translate(7 4)"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("mask",{id:"b",fill:"#fff"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{id:"a",d:"M2.00129021 6v2h-2V6h2zm0-6v5h-2V0h2z"})),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{mask:"url(#b)"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{fill:color?""+color:"#d13212",d:"M-7-5H9v16H-7z"})))))},acknowledged:function(color,size){return void 0===size&&(size=16),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{width:size+"px",height:size+"px",viewBox:"0 0 16 16",stroke:color?""+color:"#3184c2"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12.286h5.143L8.857 14l1.714-1.714H14V2H2v10.286z"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{fill:"none","stroke-linecap":"round","stroke-width":"2","stroke-miterlimit":"10",d:"M4.99 7H5v.01h-.01zM7.99 7H8v.01h-.01zM10.99 7H11v.01h-.01z"}))},disabled:function(color,size){return void 0===size&&(size=16),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{width:size+"px",height:size+"px",viewBox:"0 0 16 16",stroke:color?""+color:"#687078"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{fill:"none","stroke-width":"2"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("circle",{cx:"8",cy:"8",r:"7","stroke-linejoin":"round"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{"stroke-linecap":"square","stroke-miterlimit":"10",d:"M11 8H5"})))},latched:function(color,size){return void 0===size&&(size=16),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{width:size+"px",height:size+"px",viewBox:"0 0 16 16",fill:color?""+color:"#f89256"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M15.9 14.6l-7-14c-.3-.7-1.5-.7-1.8 0l-7 14c-.2.3-.1.7 0 1 .2.2.6.4.9.4h14c.3 0 .7-.2.9-.5.1-.3.1-.6 0-.9zM2.6 14L8 3.2 13.4 14H2.6z"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M7 11v2h2v-2zM7 6h2v4H7z"}))},snoozed:function(color,size){return void 0===size&&(size=16),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{width:size+"px",height:size+"px",viewBox:"0 0 16 16",stroke:color?""+color:"#879596"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{fill:"none","stroke-width":"2"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("circle",{cx:"8",cy:"8",r:"7","stroke-linejoin":"round"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{"stroke-linecap":"square","stroke-miterlimit":"10",d:"M8 5v4H5"})))},error:function(color,size){return void 0===size&&(size=16),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{width:size+"px",height:size+"px",viewBox:"0 0 16 16",fill:color?""+color:"#FF0000","data-test-tag":"error"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{class:"st4",d:"M13.7 2.3C12.1.8 10.1 0 8 0S3.9.8 2.3 2.3C.8 3.9 0 5.9 0 8s.8 4.1 2.3 5.7C3.9 15.2 5.9 16 8 16s4.1-.8 5.7-2.3C15.2 12.1 16 10.1 16 8s-.8-4.1-2.3-5.7zm-1.5 9.9C11.1 13.4 9.6 14 8 14s-3.1-.6-4.2-1.8S2 9.6 2 8s.6-3.1 1.8-4.2S6.4 2 8 2s3.1.6 4.2 1.8S14 6.4 14 8s-.6 3.1-1.8 4.2z"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{class:"st4",d:"M10.1 4.5L8 6.6 5.9 4.5 4.5 5.9 6.6 8l-2.1 2.1 1.4 1.4L8 9.4l2.1 2.1 1.4-1.4L9.4 8l2.1-2.1z"}))}},ScChartIcon=function(){function ScChartIcon(hostRef){(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.name=_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.b.NORMAL}return ScChartIcon.prototype.render=function(){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"sc-chart-icon"},function(name,color,size){if(icons[name])return icons[name](color,size);console.warn("Invalid status icon requested: "+name)}(this.name,this.color,this.size))},ScChartIcon}();ScChartIcon.style=".sc-chart-icon{position:relative;margin-right:3px;top:2px;padding:0.5rem 0;display:inline}";var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,timeoutDuration=function(){for(var longerTimeoutBrowsers=["Edge","Trident","Firefox"],i=0;i<longerTimeoutBrowsers.length;i+=1)if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0)return 1;return 0}();var debounce=isBrowser&&window.Promise?function microtaskDebounce(fn){var called=!1;return function(){called||(called=!0,window.Promise.resolve().then((function(){called=!1,fn()})))}}:function taskDebounce(fn){var scheduled=!1;return function(){scheduled||(scheduled=!0,setTimeout((function(){scheduled=!1,fn()}),timeoutDuration))}};function isFunction(functionToCheck){return functionToCheck&&"[object Function]"==={}.toString.call(functionToCheck)}function getStyleComputedProperty(element,property){if(1!==element.nodeType)return[];var css=element.ownerDocument.defaultView.getComputedStyle(element,null);return property?css[property]:css}function getParentNode(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function getScrollParent(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var _getStyleComputedProp=getStyleComputedProperty(element),overflow=_getStyleComputedProp.overflow,overflowX=_getStyleComputedProp.overflowX,overflowY=_getStyleComputedProp.overflowY;return/(auto|scroll|overlay)/.test(overflow+overflowY+overflowX)?element:getScrollParent(getParentNode(element))}function getReferenceNode(reference){return reference&&reference.referenceNode?reference.referenceNode:reference}var isIE11=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent);function isIE(version){return 11===version?isIE11:10===version?isIE10:isIE11||isIE10}function getOffsetParent(element){if(!element)return document.documentElement;for(var noOffsetParent=isIE(10)?document.body:null,offsetParent=element.offsetParent||null;offsetParent===noOffsetParent&&element.nextElementSibling;)offsetParent=(element=element.nextElementSibling).offsetParent;var nodeName=offsetParent&&offsetParent.nodeName;return nodeName&&"BODY"!==nodeName&&"HTML"!==nodeName?-1!==["TH","TD","TABLE"].indexOf(offsetParent.nodeName)&&"static"===getStyleComputedProperty(offsetParent,"position")?getOffsetParent(offsetParent):offsetParent:element?element.ownerDocument.documentElement:document.documentElement}function getRoot(node){return null!==node.parentNode?getRoot(node.parentNode):node}function findCommonOffsetParent(element1,element2){if(!(element1&&element1.nodeType&&element2&&element2.nodeType))return document.documentElement;var order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING,start=order?element1:element2,end=order?element2:element1,range=document.createRange();range.setStart(start,0),range.setEnd(end,0);var commonAncestorContainer=range.commonAncestorContainer;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end))return function isOffsetContainer(element){var nodeName=element.nodeName;return"BODY"!==nodeName&&("HTML"===nodeName||getOffsetParent(element.firstElementChild)===element)}(commonAncestorContainer)?commonAncestorContainer:getOffsetParent(commonAncestorContainer);var element1root=getRoot(element1);return element1root.host?findCommonOffsetParent(element1root.host,element2):findCommonOffsetParent(element1,getRoot(element2).host)}function getScroll(element){var upperSide="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName){var html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[upperSide]}return element[upperSide]}function getBordersSize(styles,axis){var sideA="x"===axis?"Left":"Top",sideB="Left"===sideA?"Right":"Bottom";return parseFloat(styles["border"+sideA+"Width"])+parseFloat(styles["border"+sideB+"Width"])}function getSize(axis,body,html,computedStyle){return Math.max(body["offset"+axis],body["scroll"+axis],html["client"+axis],html["offset"+axis],html["scroll"+axis],isIE(10)?parseInt(html["offset"+axis])+parseInt(computedStyle["margin"+("Height"===axis?"Top":"Left")])+parseInt(computedStyle["margin"+("Height"===axis?"Bottom":"Right")]):0)}function getWindowSizes(document){var body=document.body,html=document.documentElement,computedStyle=isIE(10)&&getComputedStyle(html);return{height:getSize("Height",body,html,computedStyle),width:getSize("Width",body,html,computedStyle)}}var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function getClientRect(offsets){return _extends({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height})}function getBoundingClientRect(element){var rect={};try{if(isIE(10)){rect=element.getBoundingClientRect();var scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left");rect.top+=scrollTop,rect.left+=scrollLeft,rect.bottom+=scrollTop,rect.right+=scrollLeft}else rect=element.getBoundingClientRect()}catch(e){}var result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},sizes="HTML"===element.nodeName?getWindowSizes(element.ownerDocument):{},width=sizes.width||element.clientWidth||result.width,height=sizes.height||element.clientHeight||result.height,horizScrollbar=element.offsetWidth-width,vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){var styles=getStyleComputedProperty(element);horizScrollbar-=getBordersSize(styles,"x"),vertScrollbar-=getBordersSize(styles,"y"),result.width-=horizScrollbar,result.height-=vertScrollbar}return getClientRect(result)}function getOffsetRectRelativeToArbitraryNode(children,parent){var fixedPosition=arguments.length>2&&void 0!==arguments[2]&&arguments[2],isIE10=isIE(10),isHTML="HTML"===parent.nodeName,childrenRect=getBoundingClientRect(children),parentRect=getBoundingClientRect(parent),scrollParent=getScrollParent(children),styles=getStyleComputedProperty(parent),borderTopWidth=parseFloat(styles.borderTopWidth),borderLeftWidth=parseFloat(styles.borderLeftWidth);fixedPosition&&isHTML&&(parentRect.top=Math.max(parentRect.top,0),parentRect.left=Math.max(parentRect.left,0));var offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,height:childrenRect.height});if(offsets.marginTop=0,offsets.marginLeft=0,!isIE10&&isHTML){var marginTop=parseFloat(styles.marginTop),marginLeft=parseFloat(styles.marginLeft);offsets.top-=borderTopWidth-marginTop,offsets.bottom-=borderTopWidth-marginTop,offsets.left-=borderLeftWidth-marginLeft,offsets.right-=borderLeftWidth-marginLeft,offsets.marginTop=marginTop,offsets.marginLeft=marginLeft}return(isIE10&&!fixedPosition?parent.contains(scrollParent):parent===scrollParent&&"BODY"!==scrollParent.nodeName)&&(offsets=function includeScroll(rect,element){var subtract=arguments.length>2&&void 0!==arguments[2]&&arguments[2],scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left"),modifier=subtract?-1:1;return rect.top+=scrollTop*modifier,rect.bottom+=scrollTop*modifier,rect.left+=scrollLeft*modifier,rect.right+=scrollLeft*modifier,rect}(offsets,parent)),offsets}function isFixed(element){var nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName)return!1;if("fixed"===getStyleComputedProperty(element,"position"))return!0;var parentNode=getParentNode(element);return!!parentNode&&isFixed(parentNode)}function getFixedPositionOffsetParent(element){if(!element||!element.parentElement||isIE())return document.documentElement;for(var el=element.parentElement;el&&"none"===getStyleComputedProperty(el,"transform");)el=el.parentElement;return el||document.documentElement}function getBoundaries(popper,reference,padding,boundariesElement){var fixedPosition=arguments.length>4&&void 0!==arguments[4]&&arguments[4],boundaries={top:0,left:0},offsetParent=fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,getReferenceNode(reference));if("viewport"===boundariesElement)boundaries=function getViewportOffsetRectRelativeToArtbitraryNode(element){var excludeScroll=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html),width=Math.max(html.clientWidth,window.innerWidth||0),height=Math.max(html.clientHeight,window.innerHeight||0),scrollTop=excludeScroll?0:getScroll(html),scrollLeft=excludeScroll?0:getScroll(html,"left");return getClientRect({top:scrollTop-relativeOffset.top+relativeOffset.marginTop,left:scrollLeft-relativeOffset.left+relativeOffset.marginLeft,width,height})}(offsetParent,fixedPosition);else{var boundariesNode=void 0;"scrollParent"===boundariesElement?"BODY"===(boundariesNode=getScrollParent(getParentNode(reference))).nodeName&&(boundariesNode=popper.ownerDocument.documentElement):boundariesNode="window"===boundariesElement?popper.ownerDocument.documentElement:boundariesElement;var offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent,fixedPosition);if("HTML"!==boundariesNode.nodeName||isFixed(offsetParent))boundaries=offsets;else{var _getWindowSizes=getWindowSizes(popper.ownerDocument),height=_getWindowSizes.height,width=_getWindowSizes.width;boundaries.top+=offsets.top-offsets.marginTop,boundaries.bottom=height+offsets.top,boundaries.left+=offsets.left-offsets.marginLeft,boundaries.right=width+offsets.left}}var isPaddingNumber="number"==typeof(padding=padding||0);return boundaries.left+=isPaddingNumber?padding:padding.left||0,boundaries.top+=isPaddingNumber?padding:padding.top||0,boundaries.right-=isPaddingNumber?padding:padding.right||0,boundaries.bottom-=isPaddingNumber?padding:padding.bottom||0,boundaries}function computeAutoPlacement(placement,refRect,popper,reference,boundariesElement){var padding=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===placement.indexOf("auto"))return placement;var boundaries=getBoundaries(popper,reference,padding,boundariesElement),rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,height:boundaries.height}},sortedAreas=Object.keys(rects).map((function(key){return _extends({key},rects[key],{area:(_ref=rects[key],_ref.width*_ref.height)});var _ref})).sort((function(a,b){return b.area-a.area})),filteredAreas=sortedAreas.filter((function(_ref2){var width=_ref2.width,height=_ref2.height;return width>=popper.clientWidth&&height>=popper.clientHeight})),computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key,variation=placement.split("-")[1];return computedPlacement+(variation?"-"+variation:"")}function getReferenceOffsets(state,popper,reference){var fixedPosition=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(reference,fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,getReferenceNode(reference)),fixedPosition)}function getOuterSizes(element){var styles=element.ownerDocument.defaultView.getComputedStyle(element),x=parseFloat(styles.marginTop||0)+parseFloat(styles.marginBottom||0),y=parseFloat(styles.marginLeft||0)+parseFloat(styles.marginRight||0);return{width:element.offsetWidth+y,height:element.offsetHeight+x}}function getOppositePlacement(placement){var hash={left:"right",right:"left",bottom:"top",top:"bottom"};return placement.replace(/left|right|bottom|top/g,(function(matched){return hash[matched]}))}function getPopperOffsets(popper,referenceOffsets,placement){placement=placement.split("-")[0];var popperRect=getOuterSizes(popper),popperOffsets={width:popperRect.width,height:popperRect.height},isHoriz=-1!==["right","left"].indexOf(placement),mainSide=isHoriz?"top":"left",secondarySide=isHoriz?"left":"top",measurement=isHoriz?"height":"width",secondaryMeasurement=isHoriz?"width":"height";return popperOffsets[mainSide]=referenceOffsets[mainSide]+referenceOffsets[measurement]/2-popperRect[measurement]/2,popperOffsets[secondarySide]=placement===secondarySide?referenceOffsets[secondarySide]-popperRect[secondaryMeasurement]:referenceOffsets[getOppositePlacement(secondarySide)],popperOffsets}function find(arr,check){return Array.prototype.find?arr.find(check):arr.filter(check)[0]}function runModifiers(modifiers,data,ends){return(void 0===ends?modifiers:modifiers.slice(0,function findIndex(arr,prop,value){if(Array.prototype.findIndex)return arr.findIndex((function(cur){return cur[prop]===value}));var match=find(arr,(function(obj){return obj[prop]===value}));return arr.indexOf(match)}(modifiers,"name",ends))).forEach((function(modifier){modifier.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var fn=modifier.function||modifier.fn;modifier.enabled&&isFunction(fn)&&(data.offsets.popper=getClientRect(data.offsets.popper),data.offsets.reference=getClientRect(data.offsets.reference),data=fn(data,modifier))})),data}function update(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=computeAutoPlacement(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=getPopperOffsets(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=runModifiers(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}function isModifierEnabled(modifiers,modifierName){return modifiers.some((function(_ref){var name=_ref.name;return _ref.enabled&&name===modifierName}))}function getSupportedPropertyName(property){for(var prefixes=[!1,"ms","Webkit","Moz","O"],upperProp=property.charAt(0).toUpperCase()+property.slice(1),i=0;i<prefixes.length;i++){var prefix=prefixes[i],toCheck=prefix?""+prefix+upperProp:property;if(void 0!==document.body.style[toCheck])return toCheck}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(element){var ownerDocument=element.ownerDocument;return ownerDocument?ownerDocument.defaultView:window}function attachToScrollParents(scrollParent,event,callback,scrollParents){var isBody="BODY"===scrollParent.nodeName,target=isBody?scrollParent.ownerDocument.defaultView:scrollParent;target.addEventListener(event,callback,{passive:!0}),isBody||attachToScrollParents(getScrollParent(target.parentNode),event,callback,scrollParents),scrollParents.push(target)}function setupEventListeners(reference,options,state,updateBound){state.updateBound=updateBound,getWindow(reference).addEventListener("resize",state.updateBound,{passive:!0});var scrollElement=getScrollParent(reference);return attachToScrollParents(scrollElement,"scroll",state.updateBound,state.scrollParents),state.scrollElement=scrollElement,state.eventsEnabled=!0,state}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(reference,state){return getWindow(reference).removeEventListener("resize",state.updateBound),state.scrollParents.forEach((function(target){target.removeEventListener("scroll",state.updateBound)})),state.updateBound=null,state.scrollParents=[],state.scrollElement=null,state.eventsEnabled=!1,state}(this.reference,this.state))}function isNumeric(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function setStyles(element,styles){Object.keys(styles).forEach((function(prop){var unit="";-1!==["width","height","top","right","bottom","left"].indexOf(prop)&&isNumeric(styles[prop])&&(unit="px"),element.style[prop]=styles[prop]+unit}))}var isFirefox=isBrowser&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(modifiers,requestingName,requestedName){var requesting=find(modifiers,(function(_ref){return _ref.name===requestingName})),isRequired=!!requesting&&modifiers.some((function(modifier){return modifier.name===requestedName&&modifier.enabled&&modifier.order<requesting.order}));if(!isRequired){var _requesting="`"+requestingName+"`",requested="`"+requestedName+"`";console.warn(requested+" modifier is required by "+_requesting+" modifier in order to work, be sure to include it before "+_requesting+"!")}return isRequired}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(placement){var counter=arguments.length>1&&void 0!==arguments[1]&&arguments[1],index=validPlacements.indexOf(placement),arr=validPlacements.slice(index+1).concat(validPlacements.slice(0,index));return counter?arr.reverse():arr}var BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function parseOffset(offset,popperOffsets,referenceOffsets,basePlacement){var offsets=[0,0],useHeight=-1!==["right","left"].indexOf(basePlacement),fragments=offset.split(/(\+|\-)/).map((function(frag){return frag.trim()})),divider=fragments.indexOf(find(fragments,(function(frag){return-1!==frag.search(/,|\s/)})));fragments[divider]&&-1===fragments[divider].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var splitRegex=/\s*,\s*|\s+/,ops=-1!==divider?[fragments.slice(0,divider).concat([fragments[divider].split(splitRegex)[0]]),[fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider+1))]:[fragments];return ops=ops.map((function(op,index){var measurement=(1===index?!useHeight:useHeight)?"height":"width",mergeWithPrevious=!1;return op.reduce((function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,mergeWithPrevious=!0,a):mergeWithPrevious?(a[a.length-1]+=b,mergeWithPrevious=!1,a):a.concat(b)}),[]).map((function(str){return function toValue(str,measurement,popperOffsets,referenceOffsets){var split=str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),value=+split[1],unit=split[2];if(!value)return str;if(0===unit.indexOf("%")){return getClientRect("%p"===unit?popperOffsets:referenceOffsets)[measurement]/100*value}if("vh"===unit||"vw"===unit)return("vh"===unit?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*value;return value}(str,measurement,popperOffsets,referenceOffsets)}))})),ops.forEach((function(op,index){op.forEach((function(frag,index2){isNumeric(frag)&&(offsets[index]+=frag*("-"===op[index2-1]?-1:1))}))})),offsets}var modifiers={shift:{order:100,enabled:!0,fn:function shift(data){var placement=data.placement,basePlacement=placement.split("-")[0],shiftvariation=placement.split("-")[1];if(shiftvariation){var _data$offsets=data.offsets,reference=_data$offsets.reference,popper=_data$offsets.popper,isVertical=-1!==["bottom","top"].indexOf(basePlacement),side=isVertical?"left":"top",measurement=isVertical?"width":"height",shiftOffsets={start:defineProperty({},side,reference[side]),end:defineProperty({},side,reference[side]+reference[measurement]-popper[measurement])};data.offsets.popper=_extends({},popper,shiftOffsets[shiftvariation])}return data}},offset:{order:200,enabled:!0,fn:function offset(data,_ref){var offset=_ref.offset,placement=data.placement,_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,basePlacement=placement.split("-")[0],offsets=void 0;return offsets=isNumeric(+offset)?[+offset,0]:parseOffset(offset,popper,reference,basePlacement),"left"===basePlacement?(popper.top+=offsets[0],popper.left-=offsets[1]):"right"===basePlacement?(popper.top+=offsets[0],popper.left+=offsets[1]):"top"===basePlacement?(popper.left+=offsets[0],popper.top-=offsets[1]):"bottom"===basePlacement&&(popper.left+=offsets[0],popper.top+=offsets[1]),data.popper=popper,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(data,options){var boundariesElement=options.boundariesElement||getOffsetParent(data.instance.popper);data.instance.reference===boundariesElement&&(boundariesElement=getOffsetParent(boundariesElement));var transformProp=getSupportedPropertyName("transform"),popperStyles=data.instance.popper.style,top=popperStyles.top,left=popperStyles.left,transform=popperStyles[transformProp];popperStyles.top="",popperStyles.left="",popperStyles[transformProp]="";var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,boundariesElement,data.positionFixed);popperStyles.top=top,popperStyles.left=left,popperStyles[transformProp]=transform,options.boundaries=boundaries;var order=options.priority,popper=data.offsets.popper,check={primary:function primary(placement){var value=popper[placement];return popper[placement]<boundaries[placement]&&!options.escapeWithReference&&(value=Math.max(popper[placement],boundaries[placement])),defineProperty({},placement,value)},secondary:function secondary(placement){var mainSide="right"===placement?"left":"top",value=popper[mainSide];return popper[placement]>boundaries[placement]&&!options.escapeWithReference&&(value=Math.min(popper[mainSide],boundaries[placement]-("right"===placement?popper.width:popper.height))),defineProperty({},mainSide,value)}};return order.forEach((function(placement){var side=-1!==["left","top"].indexOf(placement)?"primary":"secondary";popper=_extends({},popper,check[side](placement))})),data.offsets.popper=popper,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(data){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,placement=data.placement.split("-")[0],floor=Math.floor,isVertical=-1!==["top","bottom"].indexOf(placement),side=isVertical?"right":"bottom",opSide=isVertical?"left":"top",measurement=isVertical?"width":"height";return popper[side]<floor(reference[opSide])&&(data.offsets.popper[opSide]=floor(reference[opSide])-popper[measurement]),popper[opSide]>floor(reference[side])&&(data.offsets.popper[opSide]=floor(reference[side])),data}},arrow:{order:500,enabled:!0,fn:function arrow(data,options){var _data$offsets$arrow;if(!isModifierRequired(data.instance.modifiers,"arrow","keepTogether"))return data;var arrowElement=options.element;if("string"==typeof arrowElement){if(!(arrowElement=data.instance.popper.querySelector(arrowElement)))return data}else if(!data.instance.popper.contains(arrowElement))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var placement=data.placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isVertical=-1!==["left","right"].indexOf(placement),len=isVertical?"height":"width",sideCapitalized=isVertical?"Top":"Left",side=sideCapitalized.toLowerCase(),altSide=isVertical?"left":"top",opSide=isVertical?"bottom":"right",arrowElementSize=getOuterSizes(arrowElement)[len];reference[opSide]-arrowElementSize<popper[side]&&(data.offsets.popper[side]-=popper[side]-(reference[opSide]-arrowElementSize)),reference[side]+arrowElementSize>popper[opSide]&&(data.offsets.popper[side]+=reference[side]+arrowElementSize-popper[opSide]),data.offsets.popper=getClientRect(data.offsets.popper);var center=reference[side]+reference[len]/2-arrowElementSize/2,css=getStyleComputedProperty(data.instance.popper),popperMarginSide=parseFloat(css["margin"+sideCapitalized]),popperBorderSide=parseFloat(css["border"+sideCapitalized+"Width"]),sideValue=center-data.offsets.popper[side]-popperMarginSide-popperBorderSide;return sideValue=Math.max(Math.min(popper[len]-arrowElementSize,sideValue),0),data.arrowElement=arrowElement,data.offsets.arrow=(defineProperty(_data$offsets$arrow={},side,Math.round(sideValue)),defineProperty(_data$offsets$arrow,altSide,""),_data$offsets$arrow),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(data,options){if(isModifierEnabled(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,options.boundariesElement,data.positionFixed),placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement),variation=data.placement.split("-")[1]||"",flipOrder=[];switch(options.behavior){case BEHAVIORS.FLIP:flipOrder=[placement,placementOpposite];break;case BEHAVIORS.CLOCKWISE:flipOrder=clockwise(placement);break;case BEHAVIORS.COUNTERCLOCKWISE:flipOrder=clockwise(placement,!0);break;default:flipOrder=options.behavior}return flipOrder.forEach((function(step,index){if(placement!==step||flipOrder.length===index+1)return data;placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement);var popperOffsets=data.offsets.popper,refOffsets=data.offsets.reference,floor=Math.floor,overlapsRef="left"===placement&&floor(popperOffsets.right)>floor(refOffsets.left)||"right"===placement&&floor(popperOffsets.left)<floor(refOffsets.right)||"top"===placement&&floor(popperOffsets.bottom)>floor(refOffsets.top)||"bottom"===placement&&floor(popperOffsets.top)<floor(refOffsets.bottom),overflowsLeft=floor(popperOffsets.left)<floor(boundaries.left),overflowsRight=floor(popperOffsets.right)>floor(boundaries.right),overflowsTop=floor(popperOffsets.top)<floor(boundaries.top),overflowsBottom=floor(popperOffsets.bottom)>floor(boundaries.bottom),overflowsBoundaries="left"===placement&&overflowsLeft||"right"===placement&&overflowsRight||"top"===placement&&overflowsTop||"bottom"===placement&&overflowsBottom,isVertical=-1!==["top","bottom"].indexOf(placement),flippedVariationByRef=!!options.flipVariations&&(isVertical&&"start"===variation&&overflowsLeft||isVertical&&"end"===variation&&overflowsRight||!isVertical&&"start"===variation&&overflowsTop||!isVertical&&"end"===variation&&overflowsBottom),flippedVariationByContent=!!options.flipVariationsByContent&&(isVertical&&"start"===variation&&overflowsRight||isVertical&&"end"===variation&&overflowsLeft||!isVertical&&"start"===variation&&overflowsBottom||!isVertical&&"end"===variation&&overflowsTop),flippedVariation=flippedVariationByRef||flippedVariationByContent;(overlapsRef||overflowsBoundaries||flippedVariation)&&(data.flipped=!0,(overlapsRef||overflowsBoundaries)&&(placement=flipOrder[index+1]),flippedVariation&&(variation=function getOppositeVariation(variation){return"end"===variation?"start":"start"===variation?"end":variation}(variation)),data.placement=placement+(variation?"-"+variation:""),data.offsets.popper=_extends({},data.offsets.popper,getPopperOffsets(data.instance.popper,data.offsets.reference,data.placement)),data=runModifiers(data.instance.modifiers,data,"flip"))})),data},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function inner(data){var placement=data.placement,basePlacement=placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isHoriz=-1!==["left","right"].indexOf(basePlacement),subtractLength=-1===["top","left"].indexOf(basePlacement);return popper[isHoriz?"left":"top"]=reference[basePlacement]-(subtractLength?popper[isHoriz?"width":"height"]:0),data.placement=getOppositePlacement(placement),data.offsets.popper=getClientRect(popper),data}},hide:{order:800,enabled:!0,fn:function hide(data){if(!isModifierRequired(data.instance.modifiers,"hide","preventOverflow"))return data;var refRect=data.offsets.reference,bound=find(data.instance.modifiers,(function(modifier){return"preventOverflow"===modifier.name})).boundaries;if(refRect.bottom<bound.top||refRect.left>bound.right||refRect.top>bound.bottom||refRect.right<bound.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(data,options){var x=options.x,y=options.y,popper=data.offsets.popper,legacyGpuAccelerationOption=find(data.instance.modifiers,(function(modifier){return"applyStyle"===modifier.name})).gpuAcceleration;void 0!==legacyGpuAccelerationOption&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var gpuAcceleration=void 0!==legacyGpuAccelerationOption?legacyGpuAccelerationOption:options.gpuAcceleration,offsetParent=getOffsetParent(data.instance.popper),offsetParentRect=getBoundingClientRect(offsetParent),styles={position:popper.position},offsets=function getRoundedOffsets(data,shouldRound){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,round=Math.round,floor=Math.floor,noRound=function noRound(v){return v},referenceWidth=round(reference.width),popperWidth=round(popper.width),isVertical=-1!==["left","right"].indexOf(data.placement),isVariation=-1!==data.placement.indexOf("-"),horizontalToInteger=shouldRound?isVertical||isVariation||referenceWidth%2==popperWidth%2?round:floor:noRound,verticalToInteger=shouldRound?round:noRound;return{left:horizontalToInteger(referenceWidth%2==1&&popperWidth%2==1&&!isVariation&&shouldRound?popper.left-1:popper.left),top:verticalToInteger(popper.top),bottom:verticalToInteger(popper.bottom),right:horizontalToInteger(popper.right)}}(data,window.devicePixelRatio<2||!isFirefox),sideA="bottom"===x?"top":"bottom",sideB="right"===y?"left":"right",prefixedProperty=getSupportedPropertyName("transform"),left=void 0,top=void 0;if(top="bottom"===sideA?"HTML"===offsetParent.nodeName?-offsetParent.clientHeight+offsets.bottom:-offsetParentRect.height+offsets.bottom:offsets.top,left="right"===sideB?"HTML"===offsetParent.nodeName?-offsetParent.clientWidth+offsets.right:-offsetParentRect.width+offsets.right:offsets.left,gpuAcceleration&&prefixedProperty)styles[prefixedProperty]="translate3d("+left+"px, "+top+"px, 0)",styles[sideA]=0,styles[sideB]=0,styles.willChange="transform";else{var invertTop="bottom"===sideA?-1:1,invertLeft="right"===sideB?-1:1;styles[sideA]=top*invertTop,styles[sideB]=left*invertLeft,styles.willChange=sideA+", "+sideB}var attributes={"x-placement":data.placement};return data.attributes=_extends({},attributes,data.attributes),data.styles=_extends({},styles,data.styles),data.arrowStyles=_extends({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(data){return setStyles(data.instance.popper,data.styles),function setAttributes(element,attributes){Object.keys(attributes).forEach((function(prop){!1!==attributes[prop]?element.setAttribute(prop,attributes[prop]):element.removeAttribute(prop)}))}(data.instance.popper,data.attributes),data.arrowElement&&Object.keys(data.arrowStyles).length&&setStyles(data.arrowElement,data.arrowStyles),data},onLoad:function applyStyleOnLoad(reference,popper,options,modifierOptions,state){var referenceOffsets=getReferenceOffsets(state,popper,reference,options.positionFixed),placement=computeAutoPlacement(options.placement,referenceOffsets,popper,reference,options.modifiers.flip.boundariesElement,options.modifiers.flip.padding);return popper.setAttribute("x-placement",placement),setStyles(popper,{position:options.positionFixed?"fixed":"absolute"}),options},gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers},Popper=function(){function Popper(reference,popper){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(_this.update)},this.update=debounce(this.update.bind(this)),this.options=_extends({},Popper.Defaults,options),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=reference&&reference.jquery?reference[0]:reference,this.popper=popper&&popper.jquery?popper[0]:popper,this.options.modifiers={},Object.keys(_extends({},Popper.Defaults.modifiers,options.modifiers)).forEach((function(name){_this.options.modifiers[name]=_extends({},Popper.Defaults.modifiers[name]||{},options.modifiers?options.modifiers[name]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(name){return _extends({name},_this.options.modifiers[name])})).sort((function(a,b){return a.order-b.order})),this.modifiers.forEach((function(modifierOptions){modifierOptions.enabled&&isFunction(modifierOptions.onLoad)&&modifierOptions.onLoad(_this.reference,_this.popper,_this.options,modifierOptions,_this.state)})),this.update();var eventsEnabled=this.options.eventsEnabled;eventsEnabled&&this.enableEventListeners(),this.state.eventsEnabled=eventsEnabled}return createClass(Popper,[{key:"update",value:function update$$1(){return update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();function _extends$1(){return _extends$1=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$1.apply(this,arguments)}Popper.Utils=("undefined"!=typeof window?window:__webpack_require__.g).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults;function setInnerHTML(element,html){element.innerHTML=html}function hasOwnProperty(obj,key){return{}.hasOwnProperty.call(obj,key)}function getArrayOfElements(value){return isElement(value)?[value]:function isNodeList(value){return isType(value,"NodeList")}(value)?arrayFrom(value):Array.isArray(value)?value:arrayFrom(document.querySelectorAll(value))}function getValueAtIndexOrReturn(value,index,defaultValue){if(Array.isArray(value)){var v=value[index];return null==v?Array.isArray(defaultValue)?defaultValue[index]:defaultValue:v}return value}function getModifier(obj,key){return obj&&obj.modifiers&&obj.modifiers[key]}function isType(value,type){var str={}.toString.call(value);return 0===str.indexOf("[object")&&str.indexOf(type+"]")>-1}function isElement(value){return isType(value,"Element")}function invokeWithArgsOrReturn(value,args){return"function"==typeof value?value.apply(void 0,args):value}function setModifierValue(modifiers,name,property,value){modifiers.filter((function(m){return m.name===name}))[0][property]=value}function div(){return document.createElement("div")}function setTransitionDuration(els,value){els.forEach((function(el){el&&(el.style.transitionDuration=value+"ms")}))}function setVisibilityState(els,state){els.forEach((function(el){el&&el.setAttribute("data-state",state)}))}function debounce$1(fn,ms){return 0===ms?fn:function(arg){clearTimeout(timeout),timeout=setTimeout((function(){fn(arg)}),ms)};var timeout}function preserveInvocation(originalFn,currentFn,args){originalFn&&originalFn!==currentFn&&originalFn.apply(void 0,args)}function arrayFrom(value){return[].slice.call(value)}function includes(a,b){return a.indexOf(b)>-1}function splitBySpaces(value){return value.split(/\s+/).filter(Boolean)}function useIfDefined(nextValue,currentValue){return void 0!==nextValue?nextValue:currentValue}function normalizeToArray(value){return[].concat(value)}function pushIfUnique(arr,value){-1===arr.indexOf(value)&&arr.push(value)}function getNumber(value){return"number"==typeof value?value:parseFloat(value)}function getComputedPadding(basePlacement,padding,distancePx){void 0===padding&&(padding=5);var freshPaddingObject={top:0,right:0,bottom:0,left:0};return Object.keys(freshPaddingObject).reduce((function(obj,key){return obj[key]="number"==typeof padding?padding:padding[key],basePlacement===key&&(obj[key]="number"==typeof padding?padding+distancePx:padding[basePlacement]+distancePx),obj}),freshPaddingObject)}var defaultProps=_extends$1({allowHTML:!0,animation:"fade",appendTo:function appendTo(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function onAfterUpdate(){},onBeforeUpdate:function onBeforeUpdate(){},onCreate:function onCreate(){},onDestroy:function onDestroy(){},onHidden:function onHidden(){},onHide:function onHide(){},onMount:function onMount(){},onShow:function onShow(){},onShown:function onShown(){},onTrigger:function onTrigger(){},onUntrigger:function onUntrigger(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1}),defaultKeys=Object.keys(defaultProps),POPPER_INSTANCE_DEPENDENCIES=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"];function getExtendedPassedProps(passedProps){var pluginProps=(passedProps.plugins||[]).reduce((function(acc,plugin){var name=plugin.name,defaultValue=plugin.defaultValue;return name&&(acc[name]=void 0!==passedProps[name]?passedProps[name]:defaultValue),acc}),{});return _extends$1({},passedProps,{},pluginProps)}function evaluateProps(reference,props){var out=_extends$1({},props,{content:invokeWithArgsOrReturn(props.content,[reference])},props.ignoreAttributes?{}:function getDataAttributeProps(reference,plugins){return(plugins?Object.keys(getExtendedPassedProps(_extends$1({},defaultProps,{plugins}))):defaultKeys).reduce((function(acc,key){var valueAsString=(reference.getAttribute("data-tippy-"+key)||"").trim();if(!valueAsString)return acc;if("content"===key)acc[key]=valueAsString;else try{acc[key]=JSON.parse(valueAsString)}catch(e){acc[key]=valueAsString}return acc}),{})}(reference,props.plugins));return out.interactive&&(out.aria=null),out}var PASSIVE={passive:!0},IOS_CLASS="tippy-iOS",POPPER_CLASS="tippy-popper",TOOLTIP_CLASS="tippy-tooltip",CONTENT_CLASS="tippy-content",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",POPPER_SELECTOR="."+POPPER_CLASS,TOOLTIP_SELECTOR="."+TOOLTIP_CLASS,CONTENT_SELECTOR="."+CONTENT_CLASS,ARROW_SELECTOR="."+ARROW_CLASS,SVG_ARROW_SELECTOR="."+SVG_ARROW_CLASS,currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var now=performance.now();now-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=now}function onWindowBlur(){var activeElement=document.activeElement;if(function isReferenceElement(value){return!(!value||!value._tippy||value._tippy.reference!==value)}(activeElement)){var instance=activeElement._tippy;activeElement.blur&&!instance.state.isVisible&&activeElement.blur()}}var isBrowser$1="undefined"!=typeof window&&"undefined"!=typeof document,ua=isBrowser$1?navigator.userAgent:"",isIE$1=/MSIE |Trident\//.test(ua),isIOS=isBrowser$1&&/iPhone|iPad|iPod/.test(navigator.platform);function updateIOSClass(isAdd){var shouldAdd=isAdd&&isIOS&&currentInput.isTouch;document.body.classList[shouldAdd?"add":"remove"](IOS_CLASS)}function getBasePlacement(placement){return placement.split("-")[0]}function addInertia(tooltip){tooltip.setAttribute("data-inertia","")}function addInteractive(tooltip){tooltip.setAttribute("data-interactive","")}function setContent(contentEl,props){if(isElement(props.content))setInnerHTML(contentEl,""),contentEl.appendChild(props.content);else if("function"!=typeof props.content){contentEl[props.allowHTML?"innerHTML":"textContent"]=props.content}}function getChildren(popper){return{tooltip:popper.querySelector(TOOLTIP_SELECTOR),content:popper.querySelector(CONTENT_SELECTOR),arrow:popper.querySelector(ARROW_SELECTOR)||popper.querySelector(SVG_ARROW_SELECTOR)}}function createArrowElement(arrow){var arrowElement=div();return!0===arrow?arrowElement.className=ARROW_CLASS:(arrowElement.className=SVG_ARROW_CLASS,isElement(arrow)?arrowElement.appendChild(arrow):setInnerHTML(arrowElement,arrow)),arrowElement}function createPopperElement(id,props){var popper=div();popper.className=POPPER_CLASS,popper.style.position="absolute",popper.style.top="0",popper.style.left="0";var tooltip=div();tooltip.className=TOOLTIP_CLASS,tooltip.id="tippy-"+id,tooltip.setAttribute("data-state","hidden"),tooltip.setAttribute("tabindex","-1"),updateTheme(tooltip,"add",props.theme);var content=div();return content.className=CONTENT_CLASS,content.setAttribute("data-state","hidden"),props.interactive&&addInteractive(tooltip),props.arrow&&(tooltip.setAttribute("data-arrow",""),tooltip.appendChild(createArrowElement(props.arrow))),props.inertia&&addInertia(tooltip),setContent(content,props),tooltip.appendChild(content),popper.appendChild(tooltip),updatePopperElement(popper,props,props),popper}function updatePopperElement(popper,prevProps,nextProps){var _getChildren=getChildren(popper),tooltip=_getChildren.tooltip,content=_getChildren.content,arrow=_getChildren.arrow;popper.style.zIndex=""+nextProps.zIndex,tooltip.setAttribute("data-animation",nextProps.animation),tooltip.style.maxWidth=function appendPxIfNumber(value){return"number"==typeof value?value+"px":value}(nextProps.maxWidth),nextProps.role?tooltip.setAttribute("role",nextProps.role):tooltip.removeAttribute("role"),prevProps.content!==nextProps.content&&setContent(content,nextProps),!prevProps.arrow&&nextProps.arrow?(tooltip.appendChild(createArrowElement(nextProps.arrow)),tooltip.setAttribute("data-arrow","")):prevProps.arrow&&!nextProps.arrow?(tooltip.removeChild(arrow),tooltip.removeAttribute("data-arrow")):prevProps.arrow!==nextProps.arrow&&(tooltip.removeChild(arrow),tooltip.appendChild(createArrowElement(nextProps.arrow))),!prevProps.interactive&&nextProps.interactive?addInteractive(tooltip):prevProps.interactive&&!nextProps.interactive&&function removeInteractive(tooltip){tooltip.removeAttribute("data-interactive")}(tooltip),!prevProps.inertia&&nextProps.inertia?addInertia(tooltip):prevProps.inertia&&!nextProps.inertia&&function removeInertia(tooltip){tooltip.removeAttribute("data-inertia")}(tooltip),prevProps.theme!==nextProps.theme&&(updateTheme(tooltip,"remove",prevProps.theme),updateTheme(tooltip,"add",nextProps.theme))}function updateTransitionEndListener(tooltip,action,listener){["transitionend","webkitTransitionEnd"].forEach((function(event){tooltip[action+"EventListener"](event,listener)}))}function updateTheme(tooltip,action,theme){splitBySpaces(theme).forEach((function(name){tooltip.classList[action](name+"-theme")}))}var idCounter=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(reference,passedProps){var showTimeout,hideTimeout,scheduleHideAnimationFrame,props=evaluateProps(reference,_extends$1({},defaultProps,{},getExtendedPassedProps(passedProps)));if(!props.multiple&&reference._tippy)return null;var lastTriggerEvent,currentMountCallback,currentTransitionEndListener,currentTarget,isBeingDestroyed=!1,isVisibleFromClick=!1,didHideDueToDocumentMouseDown=!1,popperUpdates=0,listeners=[],debouncedOnMouseMove=debounce$1(onMouseMove,props.interactiveDebounce),doc=function getOwnerDocument(elementOrElements){var element=normalizeToArray(elementOrElements)[0];return element&&element.ownerDocument||document}(props.triggerTarget||reference),id=idCounter++,popper=createPopperElement(id,props),popperChildren=getChildren(popper),plugins=function unique(arr){return arr.filter((function(item,index){return arr.indexOf(item)===index}))}(props.plugins),tooltip=popperChildren.tooltip,content=popperChildren.content,transitionableElements=[tooltip,content],instance={id,reference,popper,popperChildren,popperInstance:null,props,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins,clearDelayTimeouts:function clearDelayTimeouts(){clearTimeout(showTimeout),clearTimeout(hideTimeout),cancelAnimationFrame(scheduleHideAnimationFrame)},setProps:function setProps(partialProps){if(instance.state.isDestroyed)return;invokeHook("onBeforeUpdate",[instance,partialProps]),removeListenersFromTriggerTarget();var prevProps=instance.props,nextProps=evaluateProps(reference,_extends$1({},instance.props,{},partialProps,{ignoreAttributes:!0}));nextProps.ignoreAttributes=useIfDefined(partialProps.ignoreAttributes,prevProps.ignoreAttributes),instance.props=nextProps,addListenersToTriggerTarget(),prevProps.interactiveDebounce!==nextProps.interactiveDebounce&&(cleanupInteractiveMouseListeners(),debouncedOnMouseMove=debounce$1(onMouseMove,nextProps.interactiveDebounce));updatePopperElement(popper,prevProps,nextProps),instance.popperChildren=getChildren(popper),prevProps.triggerTarget&&!nextProps.triggerTarget?normalizeToArray(prevProps.triggerTarget).forEach((function(node){node.removeAttribute("aria-expanded")})):nextProps.triggerTarget&&reference.removeAttribute("aria-expanded");if(handleAriaExpandedAttribute(),instance.popperInstance)if(POPPER_INSTANCE_DEPENDENCIES.some((function(prop){return hasOwnProperty(partialProps,prop)&&partialProps[prop]!==prevProps[prop]}))){var currentReference=instance.popperInstance.reference;instance.popperInstance.destroy(),createPopperInstance(),instance.popperInstance.reference=currentReference,instance.state.isVisible&&instance.popperInstance.enableEventListeners()}else instance.popperInstance.update();invokeHook("onAfterUpdate",[instance,partialProps])},setContent:function setContent(content){instance.setProps({content})},show:function show(duration){void 0===duration&&(duration=getValueAtIndexOrReturn(instance.props.duration,0,defaultProps.duration));var isAlreadyVisible=instance.state.isVisible,isDestroyed=instance.state.isDestroyed,isDisabled=!instance.state.isEnabled,isTouchAndTouchDisabled=currentInput.isTouch&&!instance.props.touch;if(isAlreadyVisible||isDestroyed||isDisabled||isTouchAndTouchDisabled)return;if(getCurrentTarget().hasAttribute("disabled"))return;instance.popperInstance||createPopperInstance();if(invokeHook("onShow",[instance],!1),!1===instance.props.onShow(instance))return;addDocumentMouseDownListener(),popper.style.visibility="visible",instance.state.isVisible=!0,instance.state.isMounted||setTransitionDuration(transitionableElements.concat(popper),0);currentMountCallback=function currentMountCallback(){instance.state.isVisible&&(setTransitionDuration([popper],instance.props.updateDuration),setTransitionDuration(transitionableElements,duration),setVisibilityState(transitionableElements,"visible"),handleAriaDescribedByAttribute(),handleAriaExpandedAttribute(),pushIfUnique(mountedInstances,instance),updateIOSClass(!0),instance.state.isMounted=!0,invokeHook("onMount",[instance]),function onTransitionedIn(duration,callback){onTransitionEnd(duration,callback)}(duration,(function(){instance.state.isShown=!0,invokeHook("onShown",[instance])})))},function mount(){popperUpdates=0;var parentNode,appendTo=instance.props.appendTo,node=getCurrentTarget();parentNode=instance.props.interactive&&appendTo===defaultProps.appendTo||"parent"===appendTo?node.parentNode:invokeWithArgsOrReturn(appendTo,[node]);parentNode.contains(popper)||parentNode.appendChild(popper);setModifierValue(instance.popperInstance.modifiers,"flip","enabled",instance.props.flip),instance.popperInstance.enableEventListeners(),instance.popperInstance.update()}()},hide:function hide(duration){void 0===duration&&(duration=getValueAtIndexOrReturn(instance.props.duration,1,defaultProps.duration));var isAlreadyHidden=!instance.state.isVisible&&!isBeingDestroyed,isDestroyed=instance.state.isDestroyed,isDisabled=!instance.state.isEnabled&&!isBeingDestroyed;if(isAlreadyHidden||isDestroyed||isDisabled)return;if(invokeHook("onHide",[instance],!1),!1===instance.props.onHide(instance)&&!isBeingDestroyed)return;removeDocumentMouseDownListener(),popper.style.visibility="hidden",instance.state.isVisible=!1,instance.state.isShown=!1,setTransitionDuration(transitionableElements,duration),setVisibilityState(transitionableElements,"hidden"),handleAriaDescribedByAttribute(),handleAriaExpandedAttribute(),function onTransitionedOut(duration,callback){onTransitionEnd(duration,(function(){!instance.state.isVisible&&popper.parentNode&&popper.parentNode.contains(popper)&&callback()}))}(duration,(function(){instance.popperInstance.disableEventListeners(),instance.popperInstance.options.placement=instance.props.placement,popper.parentNode.removeChild(popper),0===(mountedInstances=mountedInstances.filter((function(i){return i!==instance}))).length&&updateIOSClass(!1),instance.state.isMounted=!1,invokeHook("onHidden",[instance])}))},enable:function enable(){instance.state.isEnabled=!0},disable:function disable(){instance.hide(),instance.state.isEnabled=!1},destroy:function destroy(){if(instance.state.isDestroyed)return;isBeingDestroyed=!0,instance.clearDelayTimeouts(),instance.hide(0),removeListenersFromTriggerTarget(),delete reference._tippy,instance.popperInstance&&instance.popperInstance.destroy();isBeingDestroyed=!1,instance.state.isDestroyed=!0,invokeHook("onDestroy",[instance])}};reference._tippy=instance,popper._tippy=instance;var pluginsHooks=plugins.map((function(plugin){return plugin.fn(instance)})),hadAriaExpandedAttributeOnCreate=reference.hasAttribute("aria-expanded");return addListenersToTriggerTarget(),handleAriaExpandedAttribute(),props.lazy||createPopperInstance(),invokeHook("onCreate",[instance]),props.showOnCreate&&scheduleShow(),popper.addEventListener("mouseenter",(function(){instance.props.interactive&&instance.state.isVisible&&instance.clearDelayTimeouts()})),popper.addEventListener("mouseleave",(function(event){instance.props.interactive&&includes(instance.props.trigger,"mouseenter")&&(debouncedOnMouseMove(event),doc.addEventListener("mousemove",debouncedOnMouseMove))})),instance;function getNormalizedTouchSettings(){var touch=instance.props.touch;return Array.isArray(touch)?touch:[touch,0]}function getIsCustomTouchBehavior(){return"hold"===getNormalizedTouchSettings()[0]}function getCurrentTarget(){return currentTarget||reference}function getDelay(isShow){return instance.state.isMounted&&!instance.state.isVisible||currentInput.isTouch||lastTriggerEvent&&"focus"===lastTriggerEvent.type?0:getValueAtIndexOrReturn(instance.props.delay,isShow?0:1,defaultProps.delay)}function invokeHook(hook,args,shouldInvokePropsHook){var _instance$props;(void 0===shouldInvokePropsHook&&(shouldInvokePropsHook=!0),pluginsHooks.forEach((function(pluginHooks){hasOwnProperty(pluginHooks,hook)&&pluginHooks[hook].apply(pluginHooks,args)})),shouldInvokePropsHook)&&(_instance$props=instance.props)[hook].apply(_instance$props,args)}function handleAriaDescribedByAttribute(){var aria=instance.props.aria;if(aria){var attr="aria-"+aria,id=tooltip.id;normalizeToArray(instance.props.triggerTarget||reference).forEach((function(node){var currentValue=node.getAttribute(attr);if(instance.state.isVisible)node.setAttribute(attr,currentValue?currentValue+" "+id:id);else{var nextValue=currentValue&&currentValue.replace(id,"").trim();nextValue?node.setAttribute(attr,nextValue):node.removeAttribute(attr)}}))}}function handleAriaExpandedAttribute(){hadAriaExpandedAttributeOnCreate||normalizeToArray(instance.props.triggerTarget||reference).forEach((function(node){instance.props.interactive?node.setAttribute("aria-expanded",instance.state.isVisible&&node===getCurrentTarget()?"true":"false"):node.removeAttribute("aria-expanded")}))}function cleanupInteractiveMouseListeners(){doc.body.removeEventListener("mouseleave",scheduleHide),doc.removeEventListener("mousemove",debouncedOnMouseMove),mouseMoveListeners=mouseMoveListeners.filter((function(listener){return listener!==debouncedOnMouseMove}))}function onDocumentMouseDown(event){if(!instance.props.interactive||!popper.contains(event.target)){if(getCurrentTarget().contains(event.target)){if(currentInput.isTouch)return;if(instance.state.isVisible&&includes(instance.props.trigger,"click"))return}!0===instance.props.hideOnClick&&(isVisibleFromClick=!1,instance.clearDelayTimeouts(),instance.hide(),didHideDueToDocumentMouseDown=!0,setTimeout((function(){didHideDueToDocumentMouseDown=!1})),instance.state.isMounted||removeDocumentMouseDownListener())}}function addDocumentMouseDownListener(){doc.addEventListener("mousedown",onDocumentMouseDown,!0)}function removeDocumentMouseDownListener(){doc.removeEventListener("mousedown",onDocumentMouseDown,!0)}function onTransitionEnd(duration,callback){function listener(event){event.target===tooltip&&(updateTransitionEndListener(tooltip,"remove",listener),callback())}if(0===duration)return callback();updateTransitionEndListener(tooltip,"remove",currentTransitionEndListener),updateTransitionEndListener(tooltip,"add",listener),currentTransitionEndListener=listener}function on(eventType,handler,options){void 0===options&&(options=!1),normalizeToArray(instance.props.triggerTarget||reference).forEach((function(node){node.addEventListener(eventType,handler,options),listeners.push({node,eventType,handler,options})}))}function addListenersToTriggerTarget(){getIsCustomTouchBehavior()&&(on("touchstart",onTrigger,PASSIVE),on("touchend",onMouseLeave,PASSIVE)),splitBySpaces(instance.props.trigger).forEach((function(eventType){if("manual"!==eventType)switch(on(eventType,onTrigger),eventType){case"mouseenter":on("mouseleave",onMouseLeave);break;case"focus":on(isIE$1?"focusout":"blur",onBlurOrFocusOut);break;case"focusin":on("focusout",onBlurOrFocusOut)}}))}function removeListenersFromTriggerTarget(){listeners.forEach((function(_ref){var node=_ref.node,eventType=_ref.eventType,handler=_ref.handler,options=_ref.options;node.removeEventListener(eventType,handler,options)})),listeners=[]}function onTrigger(event){var shouldScheduleClickHide=!1;if(instance.state.isEnabled&&!isEventListenerStopped(event)&&!didHideDueToDocumentMouseDown){if(lastTriggerEvent=event,currentTarget=event.currentTarget,handleAriaExpandedAttribute(),!instance.state.isVisible&&function isMouseEvent(value){return isType(value,"MouseEvent")}(event)&&mouseMoveListeners.forEach((function(listener){return listener(event)})),"click"!==event.type||includes(instance.props.trigger,"mouseenter")&&!isVisibleFromClick||!1===instance.props.hideOnClick||!instance.state.isVisible){var _getNormalizedTouchSe=getNormalizedTouchSettings(),value=_getNormalizedTouchSe[0],duration=_getNormalizedTouchSe[1];currentInput.isTouch&&"hold"===value&&duration?showTimeout=setTimeout((function(){scheduleShow(event)}),duration):scheduleShow(event)}else shouldScheduleClickHide=!0;"click"===event.type&&(isVisibleFromClick=!shouldScheduleClickHide),shouldScheduleClickHide&&scheduleHide(event)}}function onMouseMove(event){var isCursorOverReferenceOrPopper=function closestCallback(element,callback){for(;element;){if(callback(element))return element;element=element.parentElement}return null}(event.target,(function(el){return el===reference||el===popper}));if("mousemove"!==event.type||!isCursorOverReferenceOrPopper){var popperTreeData=arrayFrom(popper.querySelectorAll(POPPER_SELECTOR)).concat(popper).map((function(popper){var instance=popper._tippy,tooltip=instance.popperChildren.tooltip,interactiveBorder=instance.props.interactiveBorder;return{popperRect:popper.getBoundingClientRect(),tooltipRect:tooltip.getBoundingClientRect(),interactiveBorder}}));(function isCursorOutsideInteractiveBorder(popperTreeData,event){var clientX=event.clientX,clientY=event.clientY;return popperTreeData.every((function(_ref){var popperRect=_ref.popperRect,tooltipRect=_ref.tooltipRect,interactiveBorder=_ref.interactiveBorder,mergedRect_top=Math.min(popperRect.top,tooltipRect.top),mergedRect_right=Math.max(popperRect.right,tooltipRect.right),mergedRect_bottom=Math.max(popperRect.bottom,tooltipRect.bottom),mergedRect_left=Math.min(popperRect.left,tooltipRect.left);return mergedRect_top-clientY>interactiveBorder||clientY-mergedRect_bottom>interactiveBorder||mergedRect_left-clientX>interactiveBorder||clientX-mergedRect_right>interactiveBorder}))})(popperTreeData,event)&&(cleanupInteractiveMouseListeners(),scheduleHide(event))}}function onMouseLeave(event){if(!(isEventListenerStopped(event)||includes(instance.props.trigger,"click")&&isVisibleFromClick))return instance.props.interactive?(doc.body.addEventListener("mouseleave",scheduleHide),doc.addEventListener("mousemove",debouncedOnMouseMove),pushIfUnique(mouseMoveListeners,debouncedOnMouseMove),void debouncedOnMouseMove(event)):void scheduleHide(event)}function onBlurOrFocusOut(event){(includes(instance.props.trigger,"focusin")||event.target===getCurrentTarget())&&(instance.props.interactive&&event.relatedTarget&&popper.contains(event.relatedTarget)||scheduleHide(event))}function isEventListenerStopped(event){var supportsTouch="ontouchstart"in window,isTouchEvent=includes(event.type,"touch"),isCustomTouch=getIsCustomTouchBehavior();return supportsTouch&&currentInput.isTouch&&isCustomTouch&&!isTouchEvent||currentInput.isTouch&&!isCustomTouch&&isTouchEvent}function createPopperInstance(){var distancePx,popperOptions=instance.props.popperOptions,arrow=instance.popperChildren.arrow,flipModifier=getModifier(popperOptions,"flip"),preventOverflowModifier=getModifier(popperOptions,"preventOverflow");function applyMutations(data){var prevPlacement=instance.state.currentPlacement;instance.state.currentPlacement=data.placement,instance.props.flip&&!instance.props.flipOnUpdate&&(data.flipped&&(instance.popperInstance.options.placement=data.placement),setModifierValue(instance.popperInstance.modifiers,"flip","enabled",!1)),tooltip.setAttribute("data-placement",data.placement),!1!==data.attributes["x-out-of-boundaries"]?tooltip.setAttribute("data-out-of-boundaries",""):tooltip.removeAttribute("data-out-of-boundaries");var basePlacement=getBasePlacement(data.placement),isVerticalPlacement=includes(["top","bottom"],basePlacement),isSecondaryPlacement=includes(["bottom","right"],basePlacement);tooltip.style.top="0",tooltip.style.left="0",tooltip.style[isVerticalPlacement?"top":"left"]=(isSecondaryPlacement?1:-1)*distancePx+"px",prevPlacement&&prevPlacement!==data.placement&&instance.popperInstance.update()}var config=_extends$1({eventsEnabled:!1,placement:instance.props.placement},popperOptions,{modifiers:_extends$1({},popperOptions&&popperOptions.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function fn(data){distancePx=function getUnitsInPx(doc,value){var isRem="string"==typeof value&&includes(value,"rem"),html=doc.documentElement;return html&&isRem?parseFloat(getComputedStyle(html).fontSize||String(16))*getNumber(value):getNumber(value)}(doc,instance.props.distance);var basePlacement=getBasePlacement(data.placement),computedPreventOverflowPadding=getComputedPadding(basePlacement,preventOverflowModifier&&preventOverflowModifier.padding,distancePx),computedFlipPadding=getComputedPadding(basePlacement,flipModifier&&flipModifier.padding,distancePx),instanceModifiers=instance.popperInstance.modifiers;return setModifierValue(instanceModifiers,"preventOverflow","padding",computedPreventOverflowPadding),setModifierValue(instanceModifiers,"flip","padding",computedFlipPadding),data}},preventOverflow:_extends$1({boundariesElement:instance.props.boundary},preventOverflowModifier),flip:_extends$1({enabled:instance.props.flip,behavior:instance.props.flipBehavior},flipModifier),arrow:_extends$1({element:arrow,enabled:!!arrow},getModifier(popperOptions,"arrow")),offset:_extends$1({offset:instance.props.offset},getModifier(popperOptions,"offset"))}),onCreate:function onCreate(data){applyMutations(data),preserveInvocation(popperOptions&&popperOptions.onCreate,config.onCreate,[data]),runMountCallback()},onUpdate:function onUpdate(data){applyMutations(data),preserveInvocation(popperOptions&&popperOptions.onUpdate,config.onUpdate,[data]),runMountCallback()}});instance.popperInstance=new Popper(reference,popper,config)}function runMountCallback(){0===popperUpdates?(popperUpdates++,instance.popperInstance.update()):currentMountCallback&&1===popperUpdates&&(popperUpdates++,currentMountCallback())}function scheduleShow(event){instance.clearDelayTimeouts(),instance.popperInstance||createPopperInstance(),event&&invokeHook("onTrigger",[instance,event]),addDocumentMouseDownListener();var delay=getDelay(!0);delay?showTimeout=setTimeout((function(){instance.show()}),delay):instance.show()}function scheduleHide(event){if(instance.clearDelayTimeouts(),invokeHook("onUntrigger",[instance,event]),instance.state.isVisible){if(!(includes(instance.props.trigger,"mouseenter")&&includes(instance.props.trigger,"click")&&includes(["mouseleave","mousemove"],event.type)&&isVisibleFromClick)){var delay=getDelay(!1);delay?hideTimeout=setTimeout((function(){instance.state.isVisible&&instance.hide()}),delay):scheduleHideAnimationFrame=requestAnimationFrame((function(){instance.hide()}))}}else removeDocumentMouseDownListener()}}function tippy(targets,optionalProps,plugins){void 0===optionalProps&&(optionalProps={}),void 0===plugins&&(plugins=[]),plugins=defaultProps.plugins.concat(optionalProps.plugins||plugins),function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,_extends$1({},PASSIVE,{capture:!0})),window.addEventListener("blur",onWindowBlur)}();var passedProps=_extends$1({},optionalProps,{plugins}),instances=getArrayOfElements(targets).reduce((function(acc,reference){var instance=reference&&createTippy(reference,passedProps);return instance&&acc.push(instance),acc}),[]);return isElement(targets)?instances[0]:instances}tippy.version="5.2.1",tippy.defaultProps=defaultProps,tippy.setDefaultProps=function setDefaultProps(partialProps){Object.keys(partialProps).forEach((function(key){defaultProps[key]=partialProps[key]}))},tippy.currentInput=currentInput;var TIPPY_SETTINGS={placement:"right",boundary:"window",theme:"title",offset:"0, 10",duration:0},ScDataStreamName=function(){function ScDataStreamName(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.displayTooltip=!0,this.renderTooltip=function(){if(_this_1.displayTooltip){var container=_this_1.el.querySelector("iot-app-kit-vis-expandable-input"),tooltip=_this_1.el.querySelector(".data-stream-name-tooltip");null!=tooltip&&null!=container&&(tooltip.style.display="block",_this_1.tooltip=tippy(container,Object.assign(Object.assign({},TIPPY_SETTINGS),{content:tooltip})))}}}return ScDataStreamName.prototype.disconnectedCallback=function(){this.tooltip&&this.tooltip.destroy()},ScDataStreamName.prototype.render=function(){var _this_1=this;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-expandable-input",{isDisabled:!this.isEditing,onValueChange:function(value){_this_1.onNameChange(value)},onMouseOver:this.renderTooltip,onFocus:this.renderTooltip,value:this.label}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"data-stream-name-tooltip awsui-util-container awsui",style:{display:"none"}},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui-util-spacing-v-s"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui-util-label"},this.detailedLabel||this.label),this.pointType&&"trend"===this.pointType&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("small",null,"This trend line is computed from only visible data.")),this.date&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui-util-label"},"Latest value at"),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,this.date.toLocaleString("en-US",{hour12:!0,minute:"numeric",hour:"numeric",year:"numeric",month:"numeric",day:"numeric"}))))))},Object.defineProperty(ScDataStreamName.prototype,"el",{get:function(){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)},enumerable:!1,configurable:!0}),ScDataStreamName}();ScDataStreamName.style="iot-app-kit-vis-data-stream-name{color:var(--polaris-gray-900)}iot-app-kit-vis-data-stream-name .awsui{color:inherit}";var ScErrorBadge=function(){function ScErrorBadge(hostRef){(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef)}return ScErrorBadge.prototype.render=function(){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{"data-test-tag":"error"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"warning-symbol"},"⚠"),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",null))},ScErrorBadge}();ScErrorBadge.style="iot-app-kit-vis-error-badge div{display:-ms-flexbox;display:flex;padding-left:1.4286em;line-height:1.4286em;color:var(--error-badge-font-color, #6a7070)}iot-app-kit-vis-error-badge .warning-symbol{font-size:2rem;padding-right:var(--margin-small);font-weight:bold;color:var(--error-badge-warning-color, #fa3232)}";var ScExpandableInput=function(){function ScExpandableInput(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.onChange=function(e){var span=e.target;_this_1.onValueChange(span.innerText)}}return ScExpandableInput.prototype.render=function(){var value=this.value,_b=this.isDisabled,isDisabled=void 0!==_b&&_b;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{"data-test-tag":"expandable-input",contentEditable:!isDisabled,class:"sc-expandable-input aws-util-font-size-1 "+(isDisabled?"disabled":""),onBlur:this.onChange},value)},ScExpandableInput}();function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}function define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}ScExpandableInput.style="iot-app-kit-vis-expandable-input .sc-expandable-input{display:inline-block;background:none;color:inherit;word-break:break-word;margin-top:3px;min-width:20px;text-overflow:ellipsis;border:none;border-bottom:var(--border-width) solid var(--polaris-gray-400)}iot-app-kit-vis-expandable-input .sc-expandable-input.disabled{outline:none;border-bottom-color:rgba(0, 0, 0, 0)}";var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgb(r,g,b,opacity){return 1===arguments.length?function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function hex(value){return((value=Math.max(0,Math.min(255,Math.round(value)||0)))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}define(Color,color,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,(function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var constant=function(x){return function(){return x}};function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?function linear(a,d){return function(t){return a+t*d}}(a,d):constant(isNaN(a)?b:a)}var rgb$1=function rgbGamma(y){var color=gamma(y);function rgb$1(start,end){var r=color((start=rgb(start)).r,(end=rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb$1.gamma=rgbGamma,rgb$1}(1);function numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=interpolate(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function interpolateNumber(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=interpolate(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:interpolateNumber(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function interpolate(a,b){var c,t=typeof b;return null==b||"boolean"===t?constant(b):("number"===t?interpolateNumber:"string"===t?(c=color(b))?(b=c,rgb$1):string:b instanceof color?rgb$1:b instanceof Date?date:function isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}(b)?numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:interpolateNumber)(a,b)}function interpolateRound(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}function number$1(x){return+x}var unit=[0,1];function identity(x){return x}function normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:function constants(x){return function(){return x}}(isNaN(b)?NaN:.5)}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=normalize(d1,d0),r0=interpolate(r1,r0)):(d0=normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=bisectRight(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer(){var transform,untransform,unknown,piecewise,output,input,domain=unit,range=unit,interpolate$1=interpolate,clamp=identity;function rescale(){var n=Math.min(domain.length,range.length);return clamp!==identity&&(clamp=function clamper(a,b){var t;return a>b&&(t=a,a=b,b=t),function(x){return Math.max(a,Math.min(b,x))}}(domain[0],domain[n-1])),piecewise=n>2?polymap:bimap,output=input=null,scale}function scale(x){return null==x||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate$1)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),interpolateNumber)))(y)))},scale.domain=function(_){return arguments.length?(domain=Array.from(_,number$1),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=Array.from(_),interpolate$1=interpolateRound,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_||identity,rescale()):clamp!==identity},scale.interpolate=function(_){return arguments.length?(interpolate$1=_,rescale()):interpolate$1},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function continuous(){return transformer()(identity,identity)}function formatDecimalParts(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function exponent(x){return(x=formatDecimalParts(Math.abs(x)))?x[1]:NaN}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function formatDecimal(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return formatRounded(100*x,p)},r:formatRounded,s:function formatPrefixAuto(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(x,Math.max(0,p+i-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function identity$1(x){return x}var locale,format,formatPrefix,map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(locale){var group=void 0===locale.grouping||void 0===locale.thousands?identity$1:function formatGroup(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}(map.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?identity$1:function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"−":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function formatTrim(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0==+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}function tickFormat(start,stop,count,specifier){var precision,step=tickStep(start,stop,count);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=function precisionPrefix(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))-exponent(Math.abs(step)))}(step,value))||(specifier.precision=precision),formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=function precisionRound(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,exponent(max)-exponent(step))+1}(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=function precisionFixed(step){return Math.max(0,-exponent(Math.abs(step)))}(step))||(specifier.precision=precision-2*("%"===specifier.type))}return format(specifier)}function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return function ticks(start,stop,count){var reverse,n,ticks,step,r0,r1,i=-1;if(count=+count,(start=+start)==(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0)for((r0=Math.round(start/step))*step<start&&++r0,(r1=Math.round(stop/step))*step>stop&&--r1,ticks=new Array(n=r1-r0+1);++i<n;)ticks[i]=(r0+i)*step;else for(step=-step,(r0=Math.round(start*step))/step<start&&++r0,(r1=Math.round(stop*step))/step>stop&&--r1,ticks=new Array(n=r1-r0+1);++i<n;)ticks[i]=(r0+i)/step;return reverse&&ticks.reverse(),ticks}(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var prestep,step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],maxIter=10;for(stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step);maxIter-- >0;){if((step=tickIncrement(start,stop,count))===prestep)return d[i0]=start,d[i1]=stop,domain(d);if(step>0)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else{if(!(step<0))break;start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step}prestep=step}return scale},scale}function linear$1(){var scale=continuous();return scale.copy=function(){return copy(scale,linear$1())},initRange.apply(scale,arguments),linearish(scale)}!function defaultLocale(definition){return locale=formatLocale(definition),format=locale.format,formatPrefix=locale.formatPrefix,locale}({thousands:",",grouping:[3],currency:["$",""]});var t0=new Date,t1=new Date;function newInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=function(date){return floori(date=new Date(+date)),date},interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date},interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date},interval.range=function(start,stop,step){var previous,range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=function(test){return newInterval((function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)}),(function(date,step){if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););}))},count&&(interval.count=function(start,end){return t0.setTime(+start),t1.setTime(+end),floori(t0),floori(t1),Math.floor(count(t0,t1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step==0}:function(d){return interval.count(0,d)%step==0}):interval:null}),interval}var millisecond=newInterval((function(){}),(function(date,step){date.setTime(+date+step)}),(function(start,end){return end-start}));millisecond.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?newInterval((function(date){date.setTime(Math.floor(date/k)*k)}),(function(date,step){date.setTime(+date+step*k)}),(function(start,end){return(end-start)/k})):millisecond:null};var durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,second=newInterval((function(date){date.setTime(date-date.getMilliseconds())}),(function(date,step){date.setTime(+date+step*durationSecond)}),(function(start,end){return(end-start)/durationSecond}),(function(date){return date.getUTCSeconds()})),minute=newInterval((function(date){date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond)}),(function(date,step){date.setTime(+date+step*durationMinute)}),(function(start,end){return(end-start)/durationMinute}),(function(date){return date.getMinutes()})),hour=newInterval((function(date){date.setTime(date-date.getMilliseconds()-date.getSeconds()*durationSecond-date.getMinutes()*durationMinute)}),(function(date,step){date.setTime(+date+step*durationHour)}),(function(start,end){return(end-start)/durationHour}),(function(date){return date.getHours()})),day=newInterval((function(date){return date.setHours(0,0,0,0)}),(function(date,step){return date.setDate(date.getDate()+step)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationDay}),(function(date){return date.getDate()-1}));function weekday(i){return newInterval((function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+7*step)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationWeek}))}var sunday=weekday(0),month=(weekday(1),weekday(2),weekday(3),weekday(4),weekday(5),weekday(6),newInterval((function(date){date.setDate(1),date.setHours(0,0,0,0)}),(function(date,step){date.setMonth(date.getMonth()+step)}),(function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())}),(function(date){return date.getMonth()}))),year=newInterval((function(date){date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step)}),(function(start,end){return end.getFullYear()-start.getFullYear()}),(function(date){return date.getFullYear()}));year.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval((function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step*k)})):null};var _a=function ticker(year,month,week,day,hour,minute){var tickIntervals=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[minute,1,durationMinute],[minute,5,5*durationMinute],[minute,15,15*durationMinute],[minute,30,30*durationMinute],[hour,1,durationHour],[hour,3,3*durationHour],[hour,6,6*durationHour],[hour,12,12*durationHour],[day,1,durationDay],[day,2,2*durationDay],[week,1,durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];function tickInterval(start,stop,count){var target=Math.abs(stop-start)/count,i=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.l)((function(_a){return _a[2]})).right(tickIntervals,target);if(i===tickIntervals.length)return year.every(tickStep(start/durationYear,stop/durationYear,count));if(0===i)return millisecond.every(Math.max(tickStep(start,stop,count),1));var _a=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i],t=_a[0],step=_a[1];return t.every(step)}return[function ticks(start,stop,count){var _a,reverse=stop<start;reverse&&(start=(_a=[stop,start])[0],stop=_a[1]);var interval=count&&"function"==typeof count.range?count:tickInterval(start,stop,count),ticks=interval?interval.range(start,+stop+1):[];return reverse?ticks.reverse():ticks},tickInterval]}(year,month,sunday,day,hour,minute),timeTicks=_a[0],timeTickInterval=_a[1],t0$1=new Date,t1$1=new Date;function newInterval$1(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=function(date){return floori(date=new Date(+date)),date},interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date},interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date},interval.range=function(start,stop,step){var previous,range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=function(test){return newInterval$1((function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)}),(function(date,step){if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););}))},count&&(interval.count=function(start,end){return t0$1.setTime(+start),t1$1.setTime(+end),floori(t0$1),floori(t1$1),Math.floor(count(t0$1,t1$1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step==0}:function(d){return interval.count(0,d)%step==0}):interval:null}),interval}var durationMinute$1=6e4,durationDay$1=24*(60*durationMinute$1),durationWeek$1=7*durationDay$1,day$1=newInterval$1((function(date){return date.setHours(0,0,0,0)}),(function(date,step){return date.setDate(date.getDate()+step)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute$1)/durationDay$1}),(function(date){return date.getDate()-1}));function weekday$1(i){return newInterval$1((function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+7*step)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute$1)/durationWeek$1}))}var sunday$1=weekday$1(0),monday$1=weekday$1(1),thursday$1=(weekday$1(2),weekday$1(3),weekday$1(4)),year$1=(weekday$1(5),weekday$1(6),newInterval$1((function(date){date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step)}),(function(start,end){return end.getFullYear()-start.getFullYear()}),(function(date){return date.getFullYear()})));year$1.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval$1((function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step*k)})):null};var utcDay=newInterval$1((function(date){date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+step)}),(function(start,end){return(end-start)/durationDay$1}),(function(date){return date.getUTCDate()-1}));function utcWeekday(i){return newInterval$1((function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+7*step)}),(function(start,end){return(end-start)/durationWeek$1}))}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcThursday=(utcWeekday(2),utcWeekday(3),utcWeekday(4)),utcYear=(utcWeekday(5),utcWeekday(6),newInterval$1((function(date){date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)}),(function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()}),(function(date){return date.getUTCFullYear()})));function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y,m,d,H:0,M:0,S:0,L:0}}utcYear.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval$1((function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)})):null};var locale$1,timeFormat,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map((function(name,i){return[name.toLowerCase(),i]})))}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseQuarter(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.q=3*n[0]-3,i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.s=+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+day$1.count(year$1(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return pad(sunday$1.count(year$1(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return day>=4||0===day?thursday$1(d):thursday$1.ceil(d)}function formatWeekNumberISO(d,p){return d=dISO(d),pad(thursday$1.count(year$1(d),d)+(4===year$1(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(monday$1.count(year$1(d)-1,d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){return pad((d=dISO(d)).getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();return pad((d=day>=4||0===day?thursday$1(d):thursday$1.ceil(d)).getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+utcDay.count(utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return pad(utcSunday.count(utcYear(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return day>=4||0===day?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){return d=UTCdISO(d),pad(utcThursday.count(utcYear(d),d)+(4===utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(utcMonday.count(utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){return pad((d=UTCdISO(d)).getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();return pad((d=day>=4||0===day?utcThursday(d):utcThursday.ceil(d)).getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}function date$1(t){return new Date(t)}function number$2(t){return t instanceof Date?+t:+new Date(+t)}function calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format){var scale=continuous(),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y");function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(Array.from(_,number$2)):domain().map(date$1)},scale.ticks=function(interval){var d=domain();return ticks(d[0],d[d.length-1],null==interval?10:interval)},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval){var d=domain();return interval&&"function"==typeof interval.range||(interval=tickInterval(d[0],d[d.length-1],null==interval?10:interval)),interval?domain(function nice(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}(d,interval)):scale},scale.copy=function(){return copy(scale,calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format))},scale}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,year,month,sunday,day,hour,minute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function defaultLocale$1(definition){return locale$1=function formatLocale$1(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]},A:function formatWeekday(d){return locale_weekdays[d.getDay()]},b:function formatShortMonth(d){return locale_shortMonths[d.getMonth()]},B:function formatMonth(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]},q:function formatQuarter(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]},A:function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]},b:function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]},B:function formatUTCMonth(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]},q:function formatUTCQuarter(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},A:function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},b:function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},B:function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},c:function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup.get(n[0].toLowerCase()),i+n[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,Z){return function(string){var week,day,d=newDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(Z&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(day=(week=utcDate(newDate(d.y,0,1))).getUTCDay(),week=day>4||0===day?utcMonday.ceil(week):utcMonday(week),week=utcDay.offset(week,7*(d.V-1)),d.y=week.getUTCFullYear(),d.m=week.getUTCMonth(),d.d=week.getUTCDate()+(d.w+6)%7):(day=(week=localDate(newDate(d.y,0,1))).getDay(),week=day>4||0===day?monday$1.ceil(week):monday$1(week),week=day$1.offset(week,7*(d.V-1)),d.y=week.getFullYear(),d.m=week.getMonth(),d.d=week.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):localDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(37===(c=specifier.charCodeAt(i++))){if(c=specifier.charAt(i++),!(parse=parses[c in pads?specifier.charAt(i++):c])||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",!1);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier+="",!0);return p.toString=function(){return specifier},p}}}(definition),timeFormat=locale$1.format,locale$1}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function empty(){return[]}function selectorAll(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}function matcher(selector){return function(){return this.matches(selector)}}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}};var keyPrefix="$";function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue={},groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=keyPrefix+key.call(node,node.__data__,i,group),keyValue in nodeByKeyValue?exit[i]=node:nodeByKeyValue[keyValue]=node);for(i=0;i<dataLength;++i)(node=nodeByKeyValue[keyValue=keyPrefix+key.call(parent,data[i],i,data)])?(update[i]=node,node.__data__=data[i],nodeByKeyValue[keyValue]=null):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue[keyValues[i]]===node&&(exit[i]=node)}function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function defaultView(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||defaultView(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var filterEvents={},event=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"}));function filterContextListener(listener,index,group){return listener=contextListener(listener,index,group),function(event){var related=event.relatedTarget;related&&(related===this||8&related.compareDocumentPosition(this))||listener.call(this,event)}}function contextListener(listener,index,group){return function(event1){var event0=event;event=event1;try{listener.call(this,this.__data__,index,group)}finally{event=event0}}}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,capture){var wrap=filterEvents.hasOwnProperty(typename.type)?filterContextListener:contextListener;return function(d,i,group){var o,on=this.__on,listener=wrap(value,i,group);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=listener,o.capture=capture),void(o.value=value);this.addEventListener(typename.type,listener,capture),o={type:typename.type,name:typename.name,value,listener,capture},on?on.push(o):this.__on=[o]}}function customEvent(event1,listener,that,args){var event0=event;event1.sourceEvent=event,event=event1;try{return listener.apply(that,args)}finally{event=event0}}function dispatchEvent(node,type,params){var window=defaultView(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}var root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection([[document.documentElement]],root)}function select(selector){return"string"==typeof selector?new Selection([[document.querySelector(selector)]],[document.documentElement]):new Selection([[selector]],root)}function sourceEvent(){for(var source,current=event;source=current.sourceEvent;)current=source;return current}function point(node,event){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,[(point=point.matrixTransform(node.getScreenCTM().inverse())).x,point.y]}var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]}function mouse(node){var event=sourceEvent();return event.changedTouches&&(event=event.changedTouches[0]),point(node,event)}function touch(node,touches,identifier){arguments.length<3&&(identifier=touches,touches=sourceEvent().changedTouches);for(var touch,i=0,n=touches?touches.length:0;i<n;++i)if((touch=touches[i]).identifier===identifier)return point(node,touch);return null}Selection.prototype=selection.prototype={constructor:Selection,select:function selection_select(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection(subgroups,this._parents)},selectAll:function selection_selectAll(select){"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection(subgroups,parents)},filter:function selection_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection(subgroups,this._parents)},data:function selection_data(value,key){if(!value)return data=new Array(this.size()),j=-1,this.each((function(d){data[++j]=d})),data;var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=function constant$1(x){return function(){return x}}(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=value.call(parent,parent&&parent.__data__,j,parents),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection(update,parents))._enter=enter,update._exit=exit,update},enter:function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function selection_join(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return enter="function"==typeof onenter?onenter(enter):enter.append(onenter+""),null!=onupdate&&(update=onupdate(update)),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function selection_merge(selection){for(var groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection(merges,this._parents)},order:function selection_order(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function selection_sort(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection(sortgroups,this._parents).order()},call:function selection_call(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function selection_nodes(){var nodes=new Array(this.size()),i=-1;return this.each((function(){nodes[++i]=this})),nodes},node:function selection_node(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function selection_size(){var size=0;return this.each((function(){++size})),size},empty:function selection_empty(){return!this.node()},each:function selection_each(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function selection_attr(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))},style:function selection_style(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function selection_property(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function selection_classed(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function selection_text(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent},html:function selection_html(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function selection_append(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function selection_insert(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function selection_clone(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function selection_datum(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function selection_on(typename,value,capture){var i,t,typenames=function parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name}}))}(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,null==capture&&(capture=!1),i=0;i<n;++i)this.each(on(typenames[i],value,capture));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function selection_dispatch(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))}};var noop={value:function(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name,value:callback}),type}function nopropagation(){event.stopImmediatePropagation()}function noevent(){event.preventDefault(),event.stopImmediatePropagation()}function dragDisable(view){var root=view.document.documentElement,selection=select(view).on("dragstart.drag",noevent,!0);"onselectstart"in root?selection.on("selectstart.drag",noevent,!0):(root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none")}function yesdrag(view,noclick){var root=view.document.documentElement,selection=select(view).on("dragstart.drag",null);noclick&&(selection.on("click.drag",noevent,!0),setTimeout((function(){selection.on("click.drag",null)}),0)),"onselectstart"in root?selection.on("selectstart.drag",null):(root.style.MozUserSelect=root.__noselect,delete root.__noselect)}function constant$2(x){return function(){return x}}function DragEvent(target,type,subject,id,active,x,y,dx,dy,dispatch){this.target=target,this.type=type,this.subject=subject,this.identifier=id,this.active=active,this.x=x,this.y=y,this.dx=dx,this.dy=dy,this._=dispatch}function defaultFilter(){return!event.ctrlKey&&!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(d){return null==d?{x:event.x,y:event.y}:d}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function define$1(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend$1(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color$1(){}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=function parseTypenames$1(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name}}))}(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}},DragEvent.prototype.on=function(){var value=this._.on.apply(this._,arguments);return value===this._?this:value};var brighter$1=1/.7,reI$1="\\s*([+-]?\\d+)\\s*",reN$1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP$1="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex$1=/^#([0-9a-f]{3,8})$/,reRgbInteger$1=new RegExp("^rgb\\("+[reI$1,reI$1,reI$1]+"\\)$"),reRgbPercent$1=new RegExp("^rgb\\("+[reP$1,reP$1,reP$1]+"\\)$"),reRgbaInteger$1=new RegExp("^rgba\\("+[reI$1,reI$1,reI$1,reN$1]+"\\)$"),reRgbaPercent$1=new RegExp("^rgba\\("+[reP$1,reP$1,reP$1,reN$1]+"\\)$"),reHslPercent$1=new RegExp("^hsl\\("+[reN$1,reP$1,reP$1]+"\\)$"),reHslaPercent$1=new RegExp("^hsla\\("+[reN$1,reP$1,reP$1,reN$1]+"\\)$"),named$1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex$1(){return this.rgb().formatHex()}function color_formatRgb$1(){return this.rgb().formatRgb()}function color$1(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex$1.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn$1(m):3===l?new Rgb$1(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba$1(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba$1(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger$1.exec(format))?new Rgb$1(m[1],m[2],m[3],1):(m=reRgbPercent$1.exec(format))?new Rgb$1(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger$1.exec(format))?rgba$1(m[1],m[2],m[3],m[4]):(m=reRgbaPercent$1.exec(format))?rgba$1(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent$1.exec(format))?hsla$1(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent$1.exec(format))?hsla$1(m[1],m[2]/100,m[3]/100,m[4]):named$1.hasOwnProperty(format)?rgbn$1(named$1[format]):"transparent"===format?new Rgb$1(NaN,NaN,NaN,0):null}function rgbn$1(n){return new Rgb$1(n>>16&255,n>>8&255,255&n,1)}function rgba$1(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb$1(r,g,b,a)}function rgb$2(r,g,b,opacity){return 1===arguments.length?function rgbConvert$1(o){return o instanceof Color$1||(o=color$1(o)),o?new Rgb$1((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb$1}(r):new Rgb$1(r,g,b,null==opacity?1:opacity)}function Rgb$1(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex$1(){return"#"+hex$1(this.r)+hex$1(this.g)+hex$1(this.b)}function rgb_formatRgb$1(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function hex$1(value){return((value=Math.max(0,Math.min(255,Math.round(value)||0)))<16?"0":"")+value.toString(16)}function hsla$1(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl$1(h,s,l,a)}function hslConvert$1(o){if(o instanceof Hsl$1)return new Hsl$1(o.h,o.s,o.l,o.opacity);if(o instanceof Color$1||(o=color$1(o)),!o)return new Hsl$1;if(o instanceof Hsl$1)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl$1(h,s,l,o.opacity)}function Hsl$1(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb$1(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}function constant$3(x){return function(){return x}}function gamma$1(y){return 1==(y=+y)?nogamma$1:function(a,b){return b-a?function exponential$1(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):constant$3(isNaN(a)?b:a)}}function nogamma$1(a,b){var d=b-a;return d?function linear$2(a,d){return function(t){return a+t*d}}(a,d):constant$3(isNaN(a)?b:a)}define$1(Color$1,color$1,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex$1,formatHex:color_formatHex$1,formatHsl:function color_formatHsl$1(){return hslConvert$1(this).formatHsl()},formatRgb:color_formatRgb$1,toString:color_formatRgb$1}),define$1(Rgb$1,rgb$2,extend$1(Color$1,{brighter:function(k){return k=null==k?brighter$1:Math.pow(brighter$1,k),new Rgb$1(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Rgb$1(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex$1,formatHex:rgb_formatHex$1,formatRgb:rgb_formatRgb$1,toString:rgb_formatRgb$1})),define$1(Hsl$1,(function hsl$1(h,s,l,opacity){return 1===arguments.length?hslConvert$1(h):new Hsl$1(h,s,l,null==opacity?1:opacity)}),extend$1(Color$1,{brighter:function(k){return k=null==k?brighter$1:Math.pow(brighter$1,k),new Hsl$1(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Hsl$1(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb$1(hsl2rgb$1(h>=240?h-240:h+120,m1,m2),hsl2rgb$1(h,m1,m2),hsl2rgb$1(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var interpolateRgb=function rgbGamma(y){var color=gamma$1(y);function rgb(start,end){var r=color((start=rgb$2(start)).r,(end=rgb$2(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma$1(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);function interpolateNumber$1(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}var reA$1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB$1=new RegExp(reA$1.source,"g");function interpolateString(a,b){var am,bm,bs,bi=reA$1.lastIndex=reB$1.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA$1.exec(a))&&(bm=reB$1.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:interpolateNumber$1(am,bm)})),bi=reB$1.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one$1(b){return function(t){return b(t)+""}}(q[0].x):function zero$1(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}var cssNode,cssRoot,cssView,svgNode,degrees=180/Math.PI,identity$2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:interpolateNumber$1(xa,xb)},{i:i-2,x:interpolateNumber$1(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:interpolateNumber$1(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:interpolateNumber$1(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:interpolateNumber$1(xa,xb)},{i:i-2,x:interpolateNumber$1(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform((function parseCss(value){return"none"===value?identity$2:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=value,value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),decompose(+(value=value.slice(7,-1).split(","))[0],+value[1],+value[2],+value[3],+value[4],+value[5]))}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function parseSvg(value){return null==value?identity$2:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):identity$2)}),", ",")",")"),rho=Math.SQRT2,rho2=2,rho4=4,epsilon2=1e-12;function cosh(x){return((x=Math.exp(x))+1/x)/2}function interpolateZoom(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<epsilon2)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+rho4*d2)/(2*w0*rho2*d1),b1=(w1*w1-w0*w0-rho4*d2)/(2*w1*rho2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(rho2*d1)*(coshr0*function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}(rho*s+r0)-function sinh(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S,i}var taskHead,taskTail,frame=0,timeout=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{!function timerFlush(){now(),++frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--frame}()}finally{frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>pokeDelay&&(clockSkew-=delay,clockLast=now)}function sleep(time){frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}function timeout$1(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((function(elapsed){t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function create(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=SCHEDULED,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(self.state!==SCHEDULED)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(o.state===STARTED)return timeout$1(start);o.state===RUNNING?(o.state=ENDED,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=ENDED,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(timeout$1((function(){self.state===STARTED&&(self.state=RUNNING,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=STARTING,self.on.call("start",node,node.__data__,self.index,self.group),self.state===STARTING){for(self.state=STARTED,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=ENDING,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);self.state===ENDING&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=ENDED,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name,index,group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:CREATED})}function init(node,id){var schedule=get$1(node,id);if(schedule.state>CREATED)throw new Error("too late; already scheduled");return schedule}function set$1(node,id){var schedule=get$1(node,id);if(schedule.state>STARTED)throw new Error("too late; already running");return schedule}function get$1(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>STARTING&&schedule.state<ENDING,schedule.state=ENDED,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=set$1(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=set$1(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name,value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=set$1(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return get$1(node,id).value[name]}}function interpolate$1(a,b){var c;return("number"==typeof b?interpolateNumber$1:b instanceof color$1?interpolateRgb:(c=color$1(b))?(b=c,interpolateRgb):interpolateString)(a,b)}function attrRemove$1(name){return function(){this.removeAttribute(name)}}function attrRemoveNS$1(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant$1(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrConstantNS$1(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attrFunction$1(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attrFunctionNS$1(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolateNS(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolate(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){set$1(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){set$1(this,id).duration=value}}var Selection$1=selection.prototype.constructor;function styleRemove$1(name){return function(){this.style.removeProperty(name)}}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype=function transition(name){return selection().transition(name)}.prototype={constructor:Transition,select:function transition_select(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,get$1(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function transition_selectAll(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=get$1(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},filter:function transition_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function transition_merge(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function transition_selection(){return new Selection$1(this._groups,this._parents)},transition:function transition_transition(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=get$1(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function transition_on(name,listener){var id=this._id;return arguments.length<2?get$1(this.node(),id).on.on(name):this.each(function onFunction(id,name,listener){var on0,on1,sit=function start(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:set$1;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}(id,name,listener))},attr:function transition_attr(name,value){var fullname=namespace(name),i="transform"===fullname?interpolateTransformSvg:interpolate$1;return this.attrTween(name,"function"==typeof value?(fullname.local?attrFunctionNS$1:attrFunction$1)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attrRemoveNS$1:attrRemove$1)(fullname):(fullname.local?attrConstantNS$1:attrConstant$1)(fullname,i,value))},attrTween:function transition_attrTween(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=namespace(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function transition_style(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:interpolate$1;return null==value?this.styleTween(name,function styleNull(name,interpolate){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),string1=(this.style.removeProperty(name),styleValue(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,styleRemove$1(name)):"function"==typeof value?this.styleTween(name,function styleFunction$1(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=styleValue(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function styleMaybeRemove(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=set$1(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=styleRemove$1(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function styleConstant$1(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=styleValue(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function transition_styleTween(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function styleTween(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&function styleInterpolate(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}(name,i,priority)),t}return tween._value=value,tween}(name,value,null==priority?"":priority))},text:function transition_text(value){return this.tween("text","function"==typeof value?function textFunction$1(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function textConstant$1(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function transition_textTween(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function textTween(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function textInterpolate(i){return function(t){this.textContent=i.call(this,t)}}(i)),t0}return tween._value=value,tween}(value))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function transition_tween(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=get$1(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function transition_delay(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):get$1(this.node(),id).delay},duration:function transition_duration(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):get$1(this.node(),id).duration},ease:function transition_ease(value){var id=this._id;return arguments.length?this.each(function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){set$1(this,id).ease=value}}(id,value)):get$1(this.node(),id).ease},end:function transition_end(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function(){0==--size&&resolve()}};that.each((function(){var schedule=set$1(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1}))}))}};var defaultTiming={time:null,delay:0,duration:250,ease:function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))return defaultTiming.time=now(),defaultTiming;return timing}function constant$4(x){return function(){return x}}function ZoomEvent(target,type,transform){this.target=target,this.type=type,this.transform=transform}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}selection.prototype.interrupt=function selection_interrupt(name){return this.each((function(){interrupt(this,name)}))},selection.prototype.transition=function selection_transition(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)},Transform.prototype={constructor:Transform,scale:function(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$3=new Transform(1,0,0);function nopropagation$1(){event.stopImmediatePropagation()}function noevent$1(){event.preventDefault(),event.stopImmediatePropagation()}function defaultFilter$1(){return!event.ctrlKey&&!event.button}function defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||identity$3}function defaultWheelDelta(){return-event.deltaY*(1===event.deltaMode?.05:event.deltaMode?1:.002)}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(transform,extent,translateExtent){var dx0=transform.invertX(extent[0][0])-translateExtent[0][0],dx1=transform.invertX(extent[1][0])-translateExtent[1][0],dy0=transform.invertY(extent[0][1])-translateExtent[0][1],dy1=transform.invertY(extent[1][1])-translateExtent[1][1];return transform.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),dy1>dy0?(dy0+dy1)/2:Math.min(0,dy0)||Math.max(0,dy1))}var transformScales=function(transform,movementOptions,_a){var xScale=_a.xScale,yScale=_a.yScale;return{xScale:movementOptions.enableXScroll?transform.rescaleX(xScale):xScale,yScale:movementOptions.enableYScroll?transform.rescaleY(yScale):yScale}},filterGestures=function(){return"wheel"!==event.type&&("mousedown"===event.type?event.shiftKey:!event.ctrlKey&&!event.button)},Zoom=function(){function Zoom(_a,movement,getContainer){var xScale=_a.xScale,yScale=_a.yScale;this.zoomBehavior=function zoom(){var touchstarting,touchending,filter=defaultFilter$1,extent=defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=defaultTouchable$1,scaleExtent=[0,1/0],translateExtent=[[-1/0,-1/0],[1/0,1/0]],duration=250,interpolate=interpolateZoom,listeners=dispatch("start","zoom","end"),touchDelay=500,wheelDelay=150,clickDistance2=0;function zoom(selection){selection.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform,k){return(k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],k)))===transform.k?transform:new Transform(k,transform.x,transform.y)}function translate(transform,p0,p1){var x=p0[0]-p1[0]*transform.k,y=p0[1]-p1[1]*transform.k;return x===transform.x&&y===transform.y?transform:new Transform(transform.k,x,y)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform,point){transition.on("start.zoom",(function(){gesture(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).end()})).tween("zoom",(function(){var args=arguments,g=gesture(this,args),e=extent.apply(this,args),p=null==point?centroid(e):"function"==typeof point?point.apply(this,args):point,w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),a=this.__zoom,b="function"==typeof transform?transform.apply(this,args):transform,i=interpolate(a.invert(p).concat(w/a.k),b.invert(p).concat(w/b.k));return function(t){if(1===t)t=b;else{var l=i(t),k=w/l[2];t=new Transform(k,p[0]-l[0]*k,p[1]-l[1]*k)}g.zoom(null,t)}}))}function gesture(that,args,clean){return!clean&&that.__zooming||new Gesture(that,args)}function Gesture(that,args){this.that=that,this.args=args,this.active=0,this.extent=extent.apply(that,args),this.taps=0}function wheeled(){if(filter.apply(this,arguments)){var g=gesture(this,arguments),t=this.__zoom,k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],t.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=mouse(this);if(g.wheel)g.mouse[0][0]===p[0]&&g.mouse[0][1]===p[1]||(g.mouse[1]=t.invert(g.mouse[0]=p)),clearTimeout(g.wheel);else{if(t.k===k)return;g.mouse=[p,t.invert(p)],interrupt(this),g.start()}noevent$1(),g.wheel=setTimeout((function wheelidled(){g.wheel=null,g.end()}),wheelDelay),g.zoom("mouse",constrain(translate(scale(t,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var g=gesture(this,arguments,!0),v=select(event.view).on("mousemove.zoom",(function mousemoved(){if(noevent$1(),!g.moved){var dx=event.clientX-x0,dy=event.clientY-y0;g.moved=dx*dx+dy*dy>clickDistance2}g.zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=mouse(g.that),g.mouse[1]),g.extent,translateExtent))}),!0).on("mouseup.zoom",(function mouseupped(){v.on("mousemove.zoom mouseup.zoom",null),yesdrag(event.view,g.moved),noevent$1(),g.end()}),!0),p=mouse(this),x0=event.clientX,y0=event.clientY;dragDisable(event.view),nopropagation$1(),g.mouse=[p,this.__zoom.invert(p)],interrupt(this),g.start()}}function dblclicked(){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=mouse(this),p1=t0.invert(p0),k1=t0.k*(event.shiftKey?.5:2),t1=constrain(translate(scale(t0,k1),p0,p1),extent.apply(this,arguments),translateExtent);noevent$1(),duration>0?select(this).transition().duration(duration).call(schedule,t1,p0):select(this).call(zoom.transform,t1)}}function touchstarted(){if(filter.apply(this,arguments)){var started,i,t,p,touches=event.touches,n=touches.length,g=gesture(this,arguments,event.changedTouches.length===n);for(nopropagation$1(),i=0;i<n;++i)p=[p=touch(this,touches,(t=touches[i]).identifier),this.__zoom.invert(p),t.identifier],g.touch0?g.touch1||g.touch0[2]===p[2]||(g.touch1=p,g.taps=0):(g.touch0=p,started=!0,g.taps=1+!!touchstarting);touchstarting&&(touchstarting=clearTimeout(touchstarting)),started&&(g.taps<2&&(touchstarting=setTimeout((function(){touchstarting=null}),touchDelay)),interrupt(this),g.start())}}function touchmoved(){if(this.__zooming){var i,t,p,l,g=gesture(this,arguments),touches=event.changedTouches,n=touches.length;for(noevent$1(),touchstarting&&(touchstarting=clearTimeout(touchstarting)),g.taps=0,i=0;i<n;++i)p=touch(this,touches,(t=touches[i]).identifier),g.touch0&&g.touch0[2]===t.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===t.identifier&&(g.touch1[0]=p);if(t=g.that.__zoom,g.touch1){var p0=g.touch0[0],l0=g.touch0[1],p1=g.touch1[0],l1=g.touch1[1],dp=(dp=p1[0]-p0[0])*dp+(dp=p1[1]-p0[1])*dp,dl=(dl=l1[0]-l0[0])*dl+(dl=l1[1]-l0[1])*dl;t=scale(t,Math.sqrt(dp/dl)),p=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2]}else{if(!g.touch0)return;p=g.touch0[0],l=g.touch0[1]}g.zoom("touch",constrain(translate(t,p,l),g.extent,translateExtent))}}function touchended(){if(this.__zooming){var i,t,g=gesture(this,arguments),touches=event.changedTouches,n=touches.length;for(nopropagation$1(),touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),touchDelay),i=0;i<n;++i)t=touches[i],g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps){var p=select(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return zoom.transform=function(collection,transform,point){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform),collection!==selection?schedule(collection,transform,point):selection.interrupt().each((function(){gesture(this,arguments).start().zoom(null,"function"==typeof transform?transform.apply(this,arguments):transform).end()}))},zoom.scaleBy=function(selection,k,p){zoom.scaleTo(selection,(function(){return this.__zoom.k*("function"==typeof k?k.apply(this,arguments):k)}),p)},zoom.scaleTo=function(selection,k,p){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t0=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p,p1=t0.invert(p0),k1="function"==typeof k?k.apply(this,arguments):k;return constrain(translate(scale(t0,k1),p0,p1),e,translateExtent)}),p)},zoom.translateBy=function(selection,x,y){zoom.transform(selection,(function(){return constrain(this.__zoom.translate("function"==typeof x?x.apply(this,arguments):x,"function"==typeof y?y.apply(this,arguments):y),extent.apply(this,arguments),translateExtent)}))},zoom.translateTo=function(selection,x,y,p){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p;return constrain(identity$3.translate(p0[0],p0[1]).scale(t.k).translate("function"==typeof x?-x.apply(this,arguments):-x,"function"==typeof y?-y.apply(this,arguments):-y),e,translateExtent)}),p)},Gesture.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(key,transform){return this.mouse&&"mouse"!==key&&(this.mouse[1]=transform.invert(this.mouse[0])),this.touch0&&"touch"!==key&&(this.touch0[1]=transform.invert(this.touch0[0])),this.touch1&&"touch"!==key&&(this.touch1[1]=transform.invert(this.touch1[0])),this.that.__zoom=transform,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(type){customEvent(new ZoomEvent(zoom,type,this.that.__zoom),listeners.apply,listeners,[type,this.that,this.args])}},zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"==typeof _?_:constant$4(+_),zoom):wheelDelta},zoom.filter=function(_){return arguments.length?(filter="function"==typeof _?_:constant$4(!!_),zoom):filter},zoom.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:constant$4(!!_),zoom):touchable},zoom.extent=function(_){return arguments.length?(extent="function"==typeof _?_:constant$4([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]},zoom.translateExtent=function(_){return arguments.length?(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],translateExtent[1][1]]]},zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate},zoom.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?zoom:value},zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)},zoom}().scaleExtent([movement.zoomMin,movement.zoomMax]).filter(filterGestures),this.xScale=xScale.copy(),this.yScale=yScale.copy(),this.movement=movement,this.getContainer=getContainer}return Zoom.prototype.init=function(){var container=this.getContainer();if(null==container)throw new Error("Must not init Zoom before the container is available!");select(container).call(this.zoomBehavior)},Zoom.prototype.transform=function(transitionContainer,transform){this.zoomBehavior.transform(transitionContainer,transform)},Zoom.prototype.on=function(type,listener){var _this_1=this;this.zoomBehavior.on(type,(function(){var _a=function(_a){var xScale=_a.xScale,_b=_a.transform.rescaleX(xScale).domain(),startTime=_b[0],endTime=_b[1];return{startDate:new Date(startTime),endDate:new Date(endTime)}}({xScale:_this_1.xScale,transform:event.transform}),startDate=_a.startDate,endDate=_a.endDate;listener(startDate,endDate)}))},Zoom.prototype.updateViewPort=function(_a){var start=_a.start,end=_a.end,yMin=_a.yMin,yMax=_a.yMax,_b=this.xScale.domain(),prevStart=_b[0],prevEnd=_b[1],transform=function(_a){var prevXScale=_a.prevXScale,prevDates=_a.prevDates,currDates=_a.currDates,k=(prevDates.end.getTime()-prevDates.start.getTime())/(currDates.end.getTime()-currDates.start.getTime()),t=-1*prevXScale(currDates.start)*k;return identity$3.translate(t,0).scale(k)}({prevXScale:this.xScale,prevDates:{start:prevStart,end:prevEnd},currDates:{start,end}});return this.setTransform(transform),transformScales(transform,this.movement,{xScale:this.xScale,yScale:this.yScale.domain([yMin,yMax])})},Zoom.prototype.updateSize=function(_a){var xMin=_a.xMin,xMax=_a.xMax,yMin=_a.yMin,yMax=_a.yMax,_b=this.getTransform(),x=_b.x,y=_b.y,k=_b.k,_c=this.xScale.range(),prevXMin=_c[0],xRatio=(xMax-xMin)/(_c[1]-prevXMin);return this.xScale.range([xMin,xMax]),this.yScale.range([yMin,yMax]),this.setTransform(identity$3.translate(x*xRatio,y).scale(k)),transformScales(this.getTransform(),this.movement,{xScale:this.xScale,yScale:this.yScale})},Zoom.prototype.getTransform=function(){var container=this.getContainer();if(null==container)throw new Error("Container must not be null to set a internal zoom transform");return container.__zoom},Zoom.prototype.setTransform=function(transform){var container=this.getContainer();if(null==container)throw new Error("Container must not be null to set a internal zoom transform");container.__zoom=transform},Zoom}(),MOVEMENT_CONFIG={enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},ScGestureHandler=function(){function ScGestureHandler(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.zoomContainer=void 0,this.beginBrush=function(_a){var offsetX=_a.offsetX;_a.shiftKey||(_this_1.start=offsetX,_this_1.end=offsetX)},this.moveBrush=function(_a){var offsetX=_a.offsetX,buttons=_a.buttons,shiftKey=_a.shiftKey;buttons>0&&null!=_this_1.start&&!shiftKey?_this_1.end=offsetX:(_this_1.start=void 0,_this_1.end=void 0)},this.finishBrush=function(_a){var shiftKey=_a.shiftKey;if(null!=_this_1.start&&null!=_this_1.end&&!shiftKey){var startPx=Math.min(_this_1.start,_this_1.end),endPx=Math.max(_this_1.start,_this_1.end);endPx-startPx>6&&_this_1.initiateTransform(startPx,endPx)}_this_1.start=void 0,_this_1.end=void 0},this.cancelBrush=function(){_this_1.start=void 0,_this_1.end=void 0},this.initiateTransform=function(startPx,endPx){var xScale=time().domain([_this_1.viewport.start.getTime(),_this_1.viewport.end.getTime()]).range([0,_this_1.size.width]),brushTransform=function(_a){var xScale=_a.xScale,xSelectedPixelMax=_a.xSelectedPixelMax,xSelectedPixelMin=_a.xSelectedPixelMin,xScaleOriginal=_a.xScaleOriginal,movement=_a.movement,timeSpan=xScale.invert(xSelectedPixelMax).getTime()-xScale.invert(xSelectedPixelMin).getTime(),prevTimeSpan=xScaleOriginal.domain()[1].getTime()-xScaleOriginal.domain()[0].getTime(),k=Math.max(Math.min(prevTimeSpan/timeSpan,movement.zoomMax),movement.zoomMin),t=-1*k*xScaleOriginal(xScale.invert(xSelectedPixelMin));return identity$3.translate(t,0).scale(k)}({xSelectedPixelMin:startPx,xSelectedPixelMax:endPx,xScaleOriginal:time().domain([_this_1.initialViewPort.start.getTime(),_this_1.initialViewPort.end.getTime()]).range([0,_this_1.size.width]),xScale,movement:MOVEMENT_CONFIG}),transitionContainer=select(_this_1.getZoomContainer()).transition().duration(600);_this_1.zoom.transform(transitionContainer,brushTransform)},this.getZoomContainer=function(){return _this_1.zoomContainer||(_this_1.zoomContainer=_this_1.el.querySelector(".zoom-container")),_this_1.zoomContainer}}return ScGestureHandler.prototype.componentDidLoad=function(){this.initialViewPort=this.viewport,this.setupZoom(),this.el.addEventListener("mousedown",this.beginBrush,{capture:!0}),this.el.addEventListener("mousemove",this.moveBrush),this.el.addEventListener("mouseup",this.finishBrush),this.el.addEventListener("mouseleave",this.cancelBrush)},ScGestureHandler.prototype.disconnectedCallback=function(){this.el.removeEventListener("mousedown",this.beginBrush),this.el.removeEventListener("mousemove",this.moveBrush),this.el.removeEventListener("mouseup",this.finishBrush),this.el.removeEventListener("mouseleave",this.cancelBrush)},ScGestureHandler.prototype.onViewPortChange=function(newViewPort){this.zoom.updateViewPort(newViewPort)},ScGestureHandler.prototype.onSizeChange=function(){var _a=this.size,chartWidth=_a.width,chartHeight=_a.height;this.zoom.updateSize({xMin:0,xMax:chartWidth,yMax:0,yMin:chartHeight})},ScGestureHandler.prototype.scales=function(){var _a=this.viewport,yMin=_a.yMin,yMax=_a.yMax,start=_a.start,end=_a.end,_b=this.size,width=_b.width,height=_b.height;return{xScale:time().domain([start.getTime(),end.getTime()]).range([0,width]),yScale:linear$1().domain([yMin,yMax]).range([height,0])}},ScGestureHandler.prototype.setupZoom=function(){var _this_1=this,_a=this.scales(),xScale=_a.xScale,yScale=_a.yScale;this.zoom=new Zoom({xScale,yScale},MOVEMENT_CONFIG,this.getZoomContainer),this.zoom.on("zoom.base-chart",(function(start,end){_this_1.onDateRangeChange({start,end})})),this.zoom.init()},ScGestureHandler.prototype.render=function(){var _a=this.size,width=_a.width,height=_a.height;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",null,null!=this.start&&null!=this.end&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("line",{x1:this.start,y1:0,x2:this.start,y2:height}),null!=this.start&&null!=this.end&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("rect",{class:"brush-box",x:Math.min(this.start,this.end),height,width:Math.abs(this.end-this.start),y:0}),null!=this.start&&null!=this.end&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("line",{x1:this.end,y1:0,x2:this.end,y2:height}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("rect",{class:"overlay zoom-container",width,height}))},Object.defineProperty(ScGestureHandler.prototype,"el",{get:function(){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ScGestureHandler,"watchers",{get:function(){return{viewport:["onViewPortChange"],size:["onSizeChange"]}},enumerable:!1,configurable:!0}),ScGestureHandler}();ScGestureHandler.style="iot-app-kit-vis-gesture-handler svg{position:absolute;width:100%;height:100%}iot-app-kit-vis-gesture-handler line{stroke:var(--selection-color);opacity:0.3;stroke-width:1.5px}iot-app-kit-vis-gesture-handler .overlay{fill:none;pointer-events:all;cursor:crosshair}iot-app-kit-vis-gesture-handler .brush-box{fill:var(--selection-color);opacity:0.2}";var computeTrendResult=function(dataStream,trendType){return trendType===_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.T.LINEAR?function(data){var dataPoints=data.data,len=dataPoints.length;if(0===len)return null;for(var startDate=dataPoints[0].x,sumX=0,sumY=0,sumXX=0,sumXY=0,i=0;i<len;i+=1){var _a=dataPoints[i],x=_a.x,y=_a.y,time_1=x-startDate;sumX+=time_1,sumY+=y,sumXX+=time_1*time_1,sumXY+=time_1*y}var run=len*sumXX-sumX*sumX,gradient=0===run?0:(len*sumXY-sumX*sumY)/run,intercept=sumY/len-gradient*sumX/len;return{type:_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.T.LINEAR,dataStreamId:data.id,equation:{gradient,intercept},startDate:new Date(startDate)}}(dataStream):(console.error("Unable to compute trend result for trend type '"+trendType+"'."),null)},getTrendValue=function(trendResult,timestamp){if(trendResult.type===_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.T.LINEAR)return(timestamp-trendResult.startDate.getTime())*trendResult.equation.gradient+trendResult.equation.intercept;throw new Error("Cannot compute trend value for trend of type '"+trendResult.type+"' on data stream "+trendResult.dataStreamId+".")},getTrendLabel=function(dataStreamName,trendType){var trendTypeLabel;if(trendType===_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.T.LINEAR)trendTypeLabel="linear";else console.warn("No label associated with trend type "+trendType+"."),trendTypeLabel="trend";return dataStreamName+" ("+trendTypeLabel+")"},noop$1=function(){},ScLegend=function(){function ScLegend(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.isEditing=!1,this.trendResults=[],this.visualizedDataStreams=function(){var streams=_this_1.dataStreams.filter((0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.o)(_this_1.supportString));return _this_1.visualizesAlarms?streams:streams.filter((function(_a){return _a.streamType!==_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.S.ALARM}))},this.breachedThresholdColor=function(point,dataStream){var threshold=(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.b)({value:point&&point.y,date:_this_1.viewport.end,dataStreams:_this_1.dataStreams,dataStream,thresholds:_this_1.thresholds});return threshold?{color:threshold.color,icon:threshold.icon}:void 0}}return ScLegend.prototype.render=function(){var _this_1=this,points=(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.a)({viewport:this.viewport,dataStreams:this.dataStreams,selectedDate:this.viewport.end,allowMultipleDates:!0,dataAlignment:_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.D.EITHER}),lastDate=0===points.length||null==points[0].point?this.viewport.end.getTime():points[0].point.x;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"legend-container",style:{flexDirection:this.config.position===_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.L.RIGHT?"column":"unset"}},this.visualizedDataStreams().map((function(dataStream){var dataPoint=points.find((function(p){return p.streamId===dataStream.id})),point=dataPoint?dataPoint.point:void 0,_a=_this_1.breachedThresholdColor(point,dataStream)||{},_b=_a.color,valueColor=void 0===_b?void 0:_b,_c=_a.icon,icon=void 0===_c?void 0:_c;return __spreadArrays([(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-legend-row",{streamId:dataStream.id,label:dataStream.name,detailedLabel:dataStream.detailedName,color:dataStream.color||"black",valueColor,point,pointType:dataPoint&&"data",unit:dataStream.unit,updateDataStreamName:_this_1.updateDataStreamName,isEditing:_this_1.isEditing,isLoading:_this_1.isLoading,showDataStreamColor:_this_1.showDataStreamColor,icon})],_this_1.trendResults.reduce((function(rows,trendResult){return trendResult.dataStreamId===dataStream.id&&rows.push((0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-legend-row",{streamId:dataStream.id,label:getTrendLabel(dataStream.name,trendResult.type),detailedLabel:dataStream.detailedName&&getTrendLabel(dataStream.detailedName,trendResult.type),color:trendResult.color||dataStream.color||"black",valueColor,point:{x:lastDate,y:getTrendValue(trendResult,lastDate)},pointType:"trend",unit:dataStream.unit,updateDataStreamName:noop$1,isEditing:!1,isLoading:_this_1.isLoading,showDataStreamColor:_this_1.showDataStreamColor})),rows}),[]))})))},ScLegend}();ScLegend.style="iot-app-kit-vis-legend .legend-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;font-size:var(--font-size-1);overflow-y:scroll;overflow-x:hidden;-ms-overflow-style:none;scrollbar-width:none}iot-app-kit-vis-legend .legend-container::-webkit-scrollbar{display:none}";var EDIT_MODE_STYLE={top:"-2px"},VIEW_MODE_STYLE={top:"-11px"},ScLegendRow=function(){function ScLegendRow(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.valueColor="#000",this.updateName=function(name){_this_1.updateDataStreamName({streamId:_this_1.streamId,name})}}return ScLegendRow.prototype.render=function(){var isTrendPoint=this.pointType&&"trend"===this.pointType;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.H,null,(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"legend-row-container awsui"},this.showDataStreamColor&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"color-container"},this.isLoading?(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"spinner-container"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-loading-spinner",{dark:!0,size:12})):(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{class:"bar","data-testid":"legend-icon-"+this.pointType},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{stroke:this.color,"stroke-dasharray":isTrendPoint?_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.T:"","stroke-linecap":_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.S,"stroke-width":_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.a,d:_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.b}))),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"info"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-data-stream-name",{onNameChange:this.updateName,isEditing:this.isEditing,label:this.label,detailedLabel:this.detailedLabel,pointType:this.pointType,date:this.point&&new Date(this.point.x)}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"legend-value",style:this.isEditing?EDIT_MODE_STYLE:VIEW_MODE_STYLE},this.icon&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-chart-icon",{name:this.icon}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("h4",{class:"awsui-util-d-i","data-testid":"current-value",style:{color:this.valueColor}},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.V,{value:this.point?this.point.y:void 0})),this.unit&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("small",null," ",this.unit)))))},ScLegendRow}();ScLegendRow.style="iot-app-kit-vis-legend-row{--color-container-width:18px;overflow:hidden;display:inline-block;margin-right:var(--margin-small);color:var(--secondary-font-color);padding-right:var(--margin-small)}iot-app-kit-vis-legend-row .legend-row-container{display:-ms-flexbox;display:flex;margin-left:8px}iot-app-kit-vis-legend-row .legend-value{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}iot-app-kit-vis-legend-row .color-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;width:var(--color-container-width);height:20px;padding-top:11px}iot-app-kit-vis-data-stream-info .spinner-container{position:relative;top:5px}iot-app-kit-vis-legend-row .bar{width:var(--color-container-width)}iot-app-kit-vis-legend-row .info{padding-left:var(--margin-small);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}iot-app-kit-vis-legend-row .info h4{line-height:0.2em;font-size:14px}iot-app-kit-vis-legend-row .sc-expandable-input{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}";var ScLoadingSpinner=function(){function ScLoadingSpinner(hostRef){(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef)}return ScLoadingSpinner.prototype.render=function(){var size=this.size,_b=this.dark,dark=void 0!==_b&&_b;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{class:{dark},style:null!=size?{width:size+"px",height:size+"px"}:{},"data-testid":"loading",viewBox:"0 0 200 200"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("defs",null,(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("clipPath",{id:"a"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M200 100a100 100 0 11-2.19-20.79l-9.78 2.08A90 90 0 10190 100z"})),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("filter",{id:"b",x:"0",y:"0"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3"})),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{id:"c",d:"M250 100a150 150 0 01-3.28 31.19L100 100z"})),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{"clip-path":"url(#a)"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{filter:"url(#b)",transform:"rotate(-6 100 100)"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":"0"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".03",transform:"rotate(12 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".07",transform:"rotate(24 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".1",transform:"rotate(36 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".14",transform:"rotate(48 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".17",transform:"rotate(60 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".2",transform:"rotate(72 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".24",transform:"rotate(84 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".28",transform:"rotate(96 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".31",transform:"rotate(108 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".34",transform:"rotate(120 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".38",transform:"rotate(132 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".41",transform:"rotate(144 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".45",transform:"rotate(156 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".48",transform:"rotate(168 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".52",transform:"rotate(180 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".55",transform:"rotate(192 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".59",transform:"rotate(204 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".62",transform:"rotate(216 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".66",transform:"rotate(228 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".69",transform:"rotate(240 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".7",transform:"rotate(252 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".72",transform:"rotate(264 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".76",transform:"rotate(276 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".79",transform:"rotate(288 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".83",transform:"rotate(300 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".86",transform:"rotate(312 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".93",transform:"rotate(324 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c","fill-opacity":".97",transform:"rotate(336 100 100)"}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("use",{xlinkHref:"#c",transform:"rotate(348 100 100)"}))))},ScLoadingSpinner}();ScLoadingSpinner.style="@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}svg{-webkit-animation:spin 900ms linear infinite, fadeIn 1s linear;animation:spin 900ms linear infinite, fadeIn 1s linear}path#c{fill:var(--loading-spinner-color)}.dark path#c{fill:var(--loading-spinner-color-dark)}";var lodash_isequal=(0,_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.c)((function(module,exports){var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof _commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a.Object===Object&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:void 0,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=function overArg(func,transform){return function(arg){return func(transform(arg))}}(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function objectToString(value){return nativeObjectToString.call(value)}(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack)}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseKeys(object){if(!function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(key=othIndex,!seen.has(key)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex);var key}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function getAllKeys(object){return function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:function stubArray(){return[]},getTag=baseGetTag;function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;var isBuffer=nativeIsBuffer||function stubFalse(){return!1};function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isTypedArray=nodeIsTypedArray?function baseUnary(func){return function(value){return func(value)}}(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};function keys(object){return function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=function isEqual(value,other){return baseIsEqual(value,other)}})),ScSizeProvider=function(){function ScSizeProvider(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.computedSize=null,this.rect=null,this.rectPollingHandler=null,this.setRect=function(){if(_this_1.el&&_this_1.el.isConnected){var newRect=(0,_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.r)(_this_1.el);!lodash_isequal(newRect,_this_1.rect)&&(_this_1.rect&&_this_1.rect.density!==newRect.density&&_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.onResolutionChange(),_this_1.rect=newRect)}}}return ScSizeProvider.prototype.componentWillLoad=function(){var _this_1=this;this.resizer=new _webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.i((function(entries){entries.forEach((function(entry){var _a=entry.contentRect,width=_a.width,height=_a.height;_this_1.computedSize={width,height}}))}))},ScSizeProvider.prototype.componentDidLoad=function(){this.setRect(),this.rectPollingHandler=window.setInterval(this.setRect,650),this.resizer.observe(this.el.firstElementChild)},ScSizeProvider.prototype.disconnectedCallback=function(){this.resizer.disconnect(),this.rectPollingHandler&&window.clearInterval(this.rectPollingHandler)},ScSizeProvider.prototype.render=function(){var renderFunction,data,rect=(this.size||this.computedSize)&&this.rect?Object.assign(Object.assign(Object.assign({},this.rect),this.computedSize),this.size):void 0;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"sc-size-provider-container"},(renderFunction=this.renderFunc,(data=rect)&&renderFunction(data)))},Object.defineProperty(ScSizeProvider.prototype,"el",{get:function(){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)},enumerable:!1,configurable:!0}),ScSizeProvider}();ScSizeProvider.style="iot-app-kit-vis-size-provider .sc-size-provider-container{width:100%;height:100%}";var ScTooltip=function(){function ScTooltip(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.trendResults=[],this.showDataStreamColor=!0,this.showBlankTooltipRows=!1,this.sortPoints=!0,this.setSelectedDate=function(_a){var offsetX=_a.offsetX;if(_a.buttons>0||null==offsetX)_this_1.selectedDate=void 0;else{var _b=_this_1.viewport,start_1=_b.start,end=_b.end,ratio=offsetX/_this_1.size.width,viewportDuration=end.getTime()-start_1.getTime(),selectedDateMS=start_1.getTime()+viewportDuration*ratio;_this_1.selectedDate=new Date(selectedDateMS)}},this.hideTooltip=function(){_this_1.selectedDate=void 0}}return ScTooltip.prototype.componentDidLoad=function(){this.dataContainer.addEventListener("mousemove",this.setSelectedDate),this.dataContainer.addEventListener("mouseleave",this.hideTooltip),this.dataContainer.addEventListener("mousedown",this.hideTooltip,{capture:!0})},ScTooltip.prototype.disconnectedCallback=function(){this.dataContainer.removeEventListener("mousemove",this.setSelectedDate),this.dataContainer.removeEventListener("mouseleave",this.hideTooltip),this.dataContainer.removeEventListener("mousedown",this.hideTooltip)},ScTooltip.prototype.render=function(){return null==(this.dataStreams.length>0?this.dataStreams[0].resolution:void 0)||null==this.selectedDate?null:(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-tooltip-rows",{trendResults:this.trendResults,size:this.size,dataStreams:this.dataStreams,viewport:this.viewport,selectedDate:this.selectedDate,thresholds:this.thresholds,maxDurationFromDate:this.maxDurationFromDate,showDataStreamColor:this.showDataStreamColor,dataAlignment:this.dataAlignment,supportString:this.supportString,visualizesAlarms:this.visualizesAlarms,showBlankTooltipRows:this.showBlankTooltipRows,sortPoints:this.sortPoints,top:this.top})},ScTooltip}();ScTooltip.style="iot-app-kit-vis-tooltip{--tooltip-size:8px;--tooltip-line-width:2px;pointer-events:none;position:absolute}iot-app-kit-vis-tooltip small{white-space:nowrap}iot-app-kit-vis-tooltip .awsui{position:absolute;z-index:20;min-width:90px}iot-app-kit-vis-tooltip .tooltip-container{background:var(--awsui-color-white);position:relative;display:inline-block;min-width:90px;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-transition-property:left, top;transition-property:left, top;-webkit-transition-duration:120ms;transition-duration:120ms}iot-app-kit-vis-tooltip .tooltip-line{position:relative;margin-left:calc(-1 * calc(var(--tooltip-line-width) / 2));width:var(--selection-width);background-color:var(--selection-color);opacity:var(--selection-opacity)}";var ScTooltipRow=function(){function ScTooltipRow(hostRef){(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.valueColor="#000"}return ScTooltipRow.prototype.render=function(){var isTrendPoint="trend"===this.pointType;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"clearfix"},this.showDataStreamColor&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"awsui-util-mr-xs"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{class:"bar","data-testid":"tooltip-icon-"+this.pointType},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{stroke:this.color,"stroke-dasharray":isTrendPoint?_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.T:void 0,"stroke-linecap":_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.S,"stroke-width":_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.a,d:_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.b}))),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"label awsui-util-d-i","data-testid":"tooltip-row-label"},this.label),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"value awsui-util-d-i","data-testid":"current-value",style:{color:this.valueColor}},this.icon&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-chart-icon",{name:this.icon}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.V,{value:this.point&&this.point.y})),null!=this.resolution&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui-util-pb-s"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("small",null,(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.d)(this.resolution,this.aggregationType))))},ScTooltipRow}();ScTooltipRow.style="iot-app-kit-vis-tooltip-row{font-size:var(--font-size-1);--bar-size:18px}iot-app-kit-vis-tooltip-rows .left-offset{padding-left:4px}iot-app-kit-vis-tooltip-row .clearfix::after{content:'';clear:both;display:table}iot-app-kit-vis-tooltip-row .bar{display:inline-block;float:left;width:var(--bar-size);height:20px;padding-top:8px}iot-app-kit-vis-tooltip-row .label{padding-left:var(--margin-small);color:var(--light-text);float:left}iot-app-kit-vis-tooltip-row .value{font-weight:bold;float:right;margin-left:15px}";var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof _commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a.Object===Object&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")();function arrayIncludes(array,value){return!!(array?array.length:0)&&function baseIndexOf(array,value,fromIndex){if(value!=value)return function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);for(;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}(array,baseIsNaN,fromIndex);var index=fromIndex-1,length=array.length;for(;++index<length;)if(array[index]===value)return index;return-1}(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=array?array.length:0;++index<length;)if(comparator(value,array[index]))return!0;return!1}function baseIsNaN(value){return value!=value}function cacheHas(cache,key){return cache.has(key)}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root$1["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty$1=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$1).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),splice=arrayProto.splice,Map$1=getNative(root$1,"Map"),Set=getNative(root$1,"Set"),nativeCreate=getNative(Object,"create");function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function assocIndexOf(array,key){for(var value,other,length=array.length;length--;)if((value=array[length][0])===(other=key)||value!=value&&other!=other)return length;return-1}function baseIsNative(value){if(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))return!1;var pattern=function isFunction$1(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)||function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}(value)?reIsNative:reIsHostCtor;return pattern.test(function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}(value))}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty$1.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty$1.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)};var createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:function noop$2(){};function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}var lodash_uniq=function uniq(array){return array&&array.length?function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}(array):[]},ScTooltipRows=function(){function ScTooltipRows(hostRef){var _this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.trendResults=[],this.showDataStreamColor=!0,this.sortPoints=!0,this.tooltipHeight=function(numRows){return 21*numRows+71},this.rowsValueColorAndIcon=function(id,_a,date){var y=_a.y,dataStream=_this_1.dataStreams.find((function(info){return info.id===id}));if(null!=dataStream){var threshold=(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.b)({date,value:y,thresholds:_this_1.thresholds,dataStreams:[],dataStream});return null!=threshold?{color:threshold.color,icon:threshold.icon}:void 0}},this.getDisplayedDate=function(points){var resolutions=_this_1.dataStreams.map((function(_a){return _a.resolution}));if(0===(resolutions.length>0?Math.min.apply(Math,resolutions):0))return _this_1.selectedDate;var firstPoint=points[0]&&points[0].point?new Date(points[0].point.x):void 0,firstPointTrend=_this_1.trendResults[0]?_this_1.trendResults[0].startDate:void 0;return firstPoint||firstPointTrend||_this_1.selectedDate},this.visualizedDataStreams=function(){var streams=_this_1.dataStreams.filter((0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.o)(_this_1.supportString));return _this_1.visualizesAlarms?streams:streams.filter((function(_a){return _a.streamType!==_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.S.ALARM}))},this.getTooltipPoints=function(){var resolutions=_this_1.dataStreams.map((function(_a){return _a.resolution})),minResolution=resolutions.length>0?Math.min.apply(Math,resolutions):0,dataPoints=(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.a)({viewport:_this_1.viewport,dataStreams:_this_1.visualizedDataStreams(),dataAlignment:_this_1.dataAlignment,selectedDate:_this_1.selectedDate,allowMultipleDates:0===minResolution,maxDurationFromDate:_this_1.maxDurationFromDate}).map((function(p){return Object.assign(Object.assign({},p),{type:"data"})})),trendPoints=function(_a){var trendResults=_a.trendResults,dataStreams=_a.dataStreams,timestamp=_a.displayedDate.getTime();return trendResults.filter((function(_a){var dataStreamId=_a.dataStreamId;return dataStreams.some((function(_a){return _a.id===dataStreamId}))})).map((function(trendResult){var dataStream=dataStreams.find((function(_a){return _a.id===trendResult.dataStreamId}));return null==dataStream?null:{streamId:dataStream.id,label:getTrendLabel(dataStream.name,trendResult.type),point:{x:timestamp,y:getTrendValue(trendResult,timestamp)},type:"trend",color:trendResult.color}})).filter(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.m)}({dataStreams:_this_1.dataStreams,displayedDate:_this_1.getDisplayedDate(dataPoints),trendResults:_this_1.trendResults}),tooltipPoints=__spreadArrays(dataPoints,trendPoints),points=_this_1.sortPoints?tooltipPoints.sort((0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.s)((function(p){return p.y}))):_this_1.dataStreams.map((function(_a){var id=_a.id;return tooltipPoints.find((function(p){return p.streamId===id}))})).filter(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.m);return _this_1.showBlankTooltipRows?points:points.filter((function(p){return null!=p.point}))}}return ScTooltipRows.prototype.render=function(){var _this_1=this,resolutions=this.dataStreams.map((function(_a){return _a.resolution})),minResolution=resolutions.length>0?Math.min.apply(Math,resolutions):0,isCrossResolution=lodash_uniq(resolutions).length>1,points=this.getTooltipPoints(),displayedDate=this.getDisplayedDate(points),position=function(_a){var viewport=_a.viewport,_b=_a.size,width=_b.width,height=_b.height,points=_a.points,resolution=_a.resolution,selectedTimestamp=_a.selectedTimestamp;if(0!==points.length){var timestamp=function(_a){var isRaw=_a.isRaw,points=_a.points,selectedTimestamp=_a.selectedTimestamp,viewport=_a.viewport;if(isRaw)return selectedTimestamp;var pointDate=points[0].point&&points[0].point.x;return null==pointDate?selectedTimestamp:pointDate<viewport.start.getTime()?viewport.start.getTime():pointDate}({isRaw:0===resolution,points,selectedTimestamp,viewport}),viewportDuration=viewport.end.getTime()-viewport.start.getTime(),pixelX=width*((timestamp-viewport.start.getTime())/viewportDuration),modelY=Math.max.apply(Math,points.map((function(_a){var point=_a.point;return point?point.y:void 0})).filter(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.p));return{x:pixelX,y:Math.max(0,height*(1-(modelY-viewport.yMin)/(viewport.yMax-viewport.yMin)))}}}({points,resolution:minResolution,viewport:this.viewport,size:this.size,selectedTimestamp:this.selectedDate.getTime()});if(0===points.length)return null;if(null==position)return null;var tooltipContainerTop=null!=this.top?this.top+"px":position.y-3*this.tooltipHeight(points.length)/4-this.size.height+"px",toolTipPositioning=position.x>=this.size.width/2?{right:8-position.x+"px",transform:"translateX(-100%)"}:{left:position.x+8+"px"};return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"tooltip-line",style:{left:position.x+"px",height:this.size.height+"px"}}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"tooltip-container",style:Object.assign({top:tooltipContainerTop},toolTipPositioning)},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui-util-shadow awsui-util-p-s"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("small",{class:{"awsui-util-d-b":!0,"left-offset":!this.showDataStreamColor}},(0,_time_33466212_js__WEBPACK_IMPORTED_MODULE_5__.d)(displayedDate,minResolution,this.viewport)),!isCrossResolution&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("small",{class:{"awsui-util-d-b":!0,"awsui-util-mb-s":!0,"left-offset":!this.showDataStreamColor}},(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.d)(minResolution,_dataTypes_aaacf3dd_js__WEBPACK_IMPORTED_MODULE_7__.A.AVERAGE)),points.map((function(tooltipPoint){var streamId=tooltipPoint.streamId,dataStream=_this_1.dataStreams.find((function(_a){return _a.id===streamId}));if(!dataStream)return console.warn("No data stream info associated with id "+streamId),null;var _a=tooltipPoint.point&&_this_1.rowsValueColorAndIcon(streamId,tooltipPoint.point,displayedDate)||{},_b=_a.color,valueColor=void 0===_b?void 0:_b,_c=_a.icon,icon=void 0===_c?void 0:_c;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-tooltip-row",{key:tooltipPoint.streamId+"-"+tooltipPoint.type,showDataStreamColor:_this_1.showDataStreamColor,label:tooltipPoint.label||dataStream.name,aggregationType:dataStream.aggregationType,resolution:isCrossResolution?dataStream.resolution:void 0,color:tooltipPoint.color||dataStream.color||"black",point:tooltipPoint.point,pointType:tooltipPoint.type,valueColor,icon})})))))},ScTooltipRows}(),ScWebglAxis=function(){function ScWebglAxis(hostRef){(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef)}return ScWebglAxis.prototype.render=function(){var _a=this.size,width=_a.width,height=_a.height,marginLeft=_a.marginLeft,marginRight=_a.marginRight,marginTop=_a.marginTop,marginBottom=_a.marginBottom;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{class:"axis",style:{width:width+marginLeft+marginRight+"px",height:height+marginBottom+marginTop+"px"}})},ScWebglAxis}();ScWebglAxis.style="iot-app-kit-vis-webgl-axis{font-size:var(--font-size-0)}iot-app-kit-vis-webgl-axis .axis{font-family:var(--primary-font-family);shape-rendering:crispEdges;position:absolute;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}iot-app-kit-vis-webgl-axis .axis path{display:none}iot-app-kit-vis-webgl-axis .axis .tick{color:var(--polaris-light-gray)}iot-app-kit-vis-webgl-axis line.x-axis-separator{color:var(--primary-light);stroke:var(--primary-light);stroke-width:1px}iot-app-kit-vis-webgl-axis .axis .tick line{color:var(--primary-light)}iot-app-kit-vis-webgl-axis .axis .tick text{font-size:var(--font-size-0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}iot-app-kit-vis-webgl-axis .x-axis .tick:last-child text{font-weight:var(--font-weight-bold)}";var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal$1="object"==typeof _commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a.Object===Object&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a,freeSelf$1="object"==typeof self&&self&&self.Object===Object&&self,root$2=freeGlobal$1||freeSelf$1||Function("return this")(),objectToString$1=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now$1=function(){return root$2.Date.now()};function debounce$2(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now$1();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now$1(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject$1(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now$1())},debounced}function isObject$1(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function toNumber(value){if("number"==typeof value)return value;if(function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString$1.call(value)==symbolTag}(value))return NAN;if(isObject$1(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject$1(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}var dragHandler,lodash_throttle=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject$1(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce$2(func,wait,{leading,maxWait:wait,trailing})},lodash_clonedeep=(0,_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.c)((function(module,exports){var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",boolTag="[object Boolean]",dateTag="[object Date]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,cloneableTags={};cloneableTags[argsTag]=cloneableTags["[object Array]"]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags["[object Error]"]=cloneableTags[funcTag]=cloneableTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof _commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a.Object===Object&&_commonjsHelpers_1d681858_js__WEBPACK_IMPORTED_MODULE_4__.a,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports;function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function Stack(entries){this.__data__=new ListCache(entries)}function arrayLikeKeys(value,inherited){var result=isArray(value)||function isArguments(value){return function isArrayLikeObject(value){return function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&isArrayLike(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(value)?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function initCloneArray(array){var length=array.length,result=array.constructor(length);length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input);return result}(value),!isDeep)return function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));for(;++index<length;)array[index]=source[index];return array}(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}(getPrototype(object))}(isFunc?{}:value),!isDeep)return function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}(value,function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}(object,isDeep);case mapTag:return function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),!0):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),!0):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}(object,isDeep,cloneFunc);case symbolTag:return function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}(object)}}(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?function getAllKeys(object){return function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}(object,keys,getSymbols)}(value):keys(value);return function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&!1!==iteratee(array[index],index,array););return array}(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))})),result}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor).test(toSource(value))}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}return object}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache},Stack.prototype.delete=function stackDelete(key){return this.__data__.delete(key)},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this};var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):function stubArray(){return[]},getTag=function baseGetTag(value){return objectToString.call(value)};function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArray=Array.isArray;function isArrayLike(value){return null!=value&&function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}(value.length)&&!isFunction(value)}var isBuffer=nativeIsBuffer||function stubFalse(){return!1};function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}(object)}module.exports=function cloneDeep(value){return baseClone(value,!0,!0)}})),LoadingStatus=function(_a){var isLoading=_a.isLoading;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{style:{zIndex:"11",position:"absolute",width:"100%",height:"100%",display:isLoading?"flex":"none",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},isLoading&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-loading-spinner",{size:60}))},ErrorStatus=function(_a){var hasError=_a.hasError,_b=_a.size,marginLeft=_b.marginLeft,width=_b.width;return hasError?(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{style:{position:"absolute",width:width+"px"}},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui-util-mt-s",style:{left:marginLeft+"px",position:"relative",width:"100%",display:"flex",flexDirection:"row-reverse"}},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-error-badge",null,"Stopped"))):(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{"data-test-tag":"error-badge-place-holder",style:{display:"none"}})},ChartLegendContainer=function(_a,children){var legendHeight=_a.legendHeight,config=_a.config,_b=_a.size,height=_b.height,marginRight=_b.marginRight,marginLeft=_b.marginLeft,marginBottom=_b.marginBottom,marginTop=_b.marginTop,width=_b.width,sharedStyles={position:"relative",overflowY:"scroll",msOverflowStyle:"none"};return config.position===_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.L.BOTTOM?(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"chart-legend-container",style:Object.assign(Object.assign({},sharedStyles),{top:height+marginTop+marginBottom+"px",marginLeft:marginLeft+"px",marginRight:marginRight+"px",height:legendHeight+"px",width:width+"px"})},children):(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"chart-legend-container",style:Object.assign(Object.assign({},sharedStyles),{top:marginTop+"px",marginLeft:marginLeft+width+marginRight+"px",width:config.width+"px",marginRight:"0",height:height+"px"})},children)},DataContainer=function(_a,children){var _b=_a.size,width=_b.width,height=_b.height,marginLeft=_b.marginLeft,marginTop=_b.marginTop;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{style:{width:width+"px",height:height+"px",marginLeft:marginLeft+"px",marginTop:marginTop+"px"},class:"data-container"},children)},getX=function(_a){var annotation=_a.annotation,width=_a.width,viewport=_a.viewport,start=viewport.start,end=viewport.end;return Math.floor(width/(end.getTime()-start.getTime())*(annotation.value.getTime()-start.getTime()))},getY=function(_a){var annotation=_a.annotation,height=_a.height,viewport=_a.viewport,yMax=viewport.yMax,yMin=viewport.yMin;return height-(annotation.value-yMin)*height/(yMax-yMin)},renderYAnnotations=function(_a){var container=_a.container,yAnnotations=_a.yAnnotations,viewport=_a.viewport,resolution=_a.resolution,_b=_a.size,width=_b.width,height=_b.height,getGroupPosition=function(yAnnotation){return"translate(0,"+(getY({annotation:yAnnotation,height,viewport})+")")},annotationSelectionNotEditable=select(container).selectAll("g.y-annotation").data(yAnnotations.filter((function(annotation){return!annotation.isEditable}))),annotationGroup=annotationSelectionNotEditable.enter().append("g").attr("transform",getGroupPosition).attr("class","y-annotation");annotationGroup.append("line").attr("class","y-line").attr("x1",0).attr("x2",width).attr("y1",0).attr("y2",0).style("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q).style("stroke-width",1.5),annotationGroup.append("text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.v).attr("font-size",10).attr("class","y-value-text").attr("x",width+5).attr("text-anchor","start").attr("y",3).text((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.w)({annotation,resolution,viewport,formatText:!0})})).style("user-select","none").style("pointer-events","none").style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationGroup.append("text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.x).attr("font-size",10).attr("class","y-text").attr("x",width-5).attr("text-anchor","end").attr("y",-5).text(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.y).style("user-select","none").style("pointer-events","none").style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelectionNotEditable.attr("transform",getGroupPosition),annotationSelectionNotEditable.select("text.y-value-text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.v).attr("x",width+5).text((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.w)({annotation,resolution,viewport,formatText:!0})})).style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelectionNotEditable.select("text.y-text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.x).attr("x",width-5).text(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.y).style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelectionNotEditable.select("line.y-line").attr("x2",width).style("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelectionNotEditable.exit().remove()},withinViewport=function(viewport){return function(_a){var value=_a.value;return"number"==typeof value?viewport.yMin<=value&&viewport.yMax>=value:viewport.start<=value&&viewport.end>=value}},renderAnnotations=function(_a){var container=_a.container,resolution=_a.resolution,annotations=_a.annotations,viewport=_a.viewport,size=_a.size,onUpdate=_a.onUpdate,activeViewPort=_a.activeViewPort,emitUpdatedWidgetConfiguration=_a.emitUpdatedWidgetConfiguration,draggable=_a.draggable,startStopDragging=_a.startStopDragging,inDragState=_a.inDragState;if("object"==typeof annotations&&"boolean"==typeof annotations.show&&!annotations.show)return function(_a){select(_a.container).selectAll("g.x-annotation").remove()}({container}),void function(_a){var container=_a.container;select(container).selectAll("g.y-annotation").remove(),select(container).selectAll("g.y-annotation-editable").remove()}({container});var xAnnotations=null==annotations.x?[]:annotations.x.filter(withinViewport(viewport)),yAnnotations=null==annotations.y?[]:annotations.y.filter(withinViewport(viewport));!function(_a){var container=_a.container,xAnnotations=_a.xAnnotations,viewport=_a.viewport,resolution=_a.resolution,_b=_a.size,width=_b.width,height=_b.height,annotationSelection=select(container).selectAll("g.x-annotation").data(xAnnotations),getXAnnotationTextX=function(a){return-getX({annotation:a,width,viewport})},annotationGroup=annotationSelection.enter().append("g").attr("transform","translate(0,0)").attr("class","x-annotation");annotationGroup.append("line").attr("class","x-line").attr("font-size",10).attr("x1",(function(annotation){return getX({annotation,width,viewport})})).attr("x2",(function(annotation){return getX({annotation,width,viewport})})).attr("y1",0).attr("y2",height).style("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q).style("stroke-width",1.5),annotationGroup.append("text").text((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.t)({annotation,resolution,viewport})})).attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.u).attr("font-size",10).attr("class","x-text").attr("y",getXAnnotationTextX).attr("x",0).style("pointer-events","none").style("user-select","none").style("transform","rotate(90deg) translateY(-5px)").style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelection.select("line.x-line").attr("x1",(function(annotation){return getX({annotation,width,viewport})})).attr("x2",(function(annotation){return getX({annotation,width,viewport})})).attr("y2",height).attr("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelection.select("text.x-text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.u).text((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.t)({annotation,resolution,viewport})})).attr("y",getXAnnotationTextX).style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelection.exit().remove()}({container,xAnnotations,viewport,resolution,size}),renderYAnnotations({container,yAnnotations,viewport,resolution,size}),inDragState()||(dragHandler=function(_a){var container=_a.container,yAnnotations=_a.yAnnotations,viewport=_a.viewport,resolution=_a.resolution,_b=_a.size,width=_b.width,height=_b.height,getYPosition=function(annotation){return getY({annotation,height,viewport})},getYHandleWidth=function(yAnnotation){return"inline"===(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.v)(yAnnotation)?45:18},getDraggableLineTwoX=function(yAnnotation){return"inline"===(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.v)(yAnnotation)?width+40+2:width+13+2},getDraggableLineOneX=function(yAnnotation){return"inline"===(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.v)(yAnnotation)?width+40:width+13},getYAnnotationHandleY=function(yAnnotation){return getYPosition(yAnnotation)+-11},getValueFontSize=function(yAnnotation){return yAnnotation.value<-9999?9:10},getGroupPosition=function(yAnnotation){return"translate(0,"+getYPosition(yAnnotation)+")"},annotationSelectionEditable=select(container).selectAll("g.y-annotation-editable").data(yAnnotations.filter((function(annotation){return annotation.isEditable}))),annotationGroupEditable=annotationSelectionEditable.enter().append("g").attr("transform","translate(0,0)").attr("class","y-annotation-editable"),dragHandle=annotationGroupEditable.append("rect").attr("class","y-annotation").attr("width",getYHandleWidth).attr("height",20).attr("x",width+1).attr("y",getYAnnotationHandleY).style("pointer-events","auto").style("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q).style("stroke-width",1.5).style("fill","white"),handleGroup=annotationGroupEditable.append("g").attr("transform",getGroupPosition).attr("class","y-elements-group");return handleGroup.append("line").attr("class","y-line").attr("x1",0).attr("x2",width).attr("y1",0).attr("y2",0).style("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q).style("stroke-width",1.5),handleGroup.append("text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.v).attr("class","y-value-text").attr("x",width+5).attr("text-anchor","start").attr("y",3).text((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.w)({annotation,resolution,viewport,formatText:!0})})).style("font-size",getValueFontSize).style("user-select","none").style("pointer-events","none").style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),handleGroup.append("text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.x).attr("class","y-text").attr("x",width-5).attr("text-anchor","end").attr("y",-5).text(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.y).style("font-size",10).style("user-select","none").style("pointer-events","none").style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),handleGroup.append("line").attr("class","y-handle-one").attr("x1",getDraggableLineOneX).attr("x2",getDraggableLineOneX).attr("y1",-6).attr("y2",4).style("stroke","gray").style("stroke-width",1),handleGroup.append("line").attr("class","y-handle-two").attr("x1",getDraggableLineTwoX).attr("x2",getDraggableLineTwoX).attr("y1",-6).attr("y2",4).style("stroke","gray").style("stroke-width",1),annotationSelectionEditable.select("g.y-elements-group").attr("transform",getGroupPosition),annotationSelectionEditable.select("text.y-value-text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.v).attr("x",width+5).text((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.w)({annotation,resolution,viewport,formatText:!0})})).style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q).style("font-size",getValueFontSize),annotationSelectionEditable.select("text.y-text").attr("display",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.x).attr("x",width-5).text(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.y).style("fill",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelectionEditable.select("line.y-line").attr("x2",width).style("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelectionEditable.select("line.y-handle-one").attr("x1",getDraggableLineOneX).attr("x2",getDraggableLineOneX),annotationSelectionEditable.select("line.y-handle-two").attr("x1",getDraggableLineTwoX).attr("x2",getDraggableLineTwoX),annotationSelectionEditable.select("rect.y-annotation").attr("y",getYAnnotationHandleY).attr("x",width+1).attr("width",getYHandleWidth).style("stroke",_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.q),annotationSelectionEditable.exit().remove(),dragHandle}({container,yAnnotations,viewport,resolution,size}),draggable({container,size,onUpdate,activeViewPort,emitUpdatedWidgetConfiguration,startStopDragging,resolution,dragHandle:dragHandler}))},getLinearPathCommand=function(_a){var trendResult=_a.trendResult,_b=_a.size,width=_b.width,height=_b.height,_c=_a.viewport,start=_c.start,end=_c.end,yMin=_c.yMin,yMax=_c.yMax;return"M 0 "+Math.round(height-(getTrendValue(trendResult,start.getTime())-yMin)*height/(yMax-yMin))+" L "+width+" "+Math.round(height-(getTrendValue(trendResult,end.getTime())-yMin)*height/(yMax-yMin))},slice=Array.prototype.slice;function identity$4(x){return x}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(x){return"translate("+(x+.5)+",0)"}function translateY(y){return"translate(0,"+(y+.5)+")"}function number$3(scale){return function(d){return+scale(d)}}function center(scale){var offset=Math.max(0,scale.bandwidth()-1)/2;return scale.round()&&(offset=Math.round(offset)),function(d){return+scale(d)+offset}}function entering(){return!this.__axis}function axis(orient,scale){var tickArguments=[],tickValues=null,tickFormat=null,tickSizeInner=6,tickSizeOuter=6,tickPadding=3,k=orient===top||orient===left?-1:1,x=orient===left||orient===right?"x":"y",transform=orient===top||orient===bottom?translateX:translateY;function axis(context){var values=null==tickValues?scale.ticks?scale.ticks.apply(scale,tickArguments):scale.domain():tickValues,format=null==tickFormat?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments):identity$4:tickFormat,spacing=Math.max(tickSizeInner,0)+tickPadding,range=scale.range(),range0=+range[0]+.5,range1=+range[range.length-1]+.5,position=(scale.bandwidth?center:number$3)(scale.copy()),selection=context.selection?context.selection():context,path=selection.selectAll(".domain").data([null]),tick=selection.selectAll(".tick").data(values,scale).order(),tickExit=tick.exit(),tickEnter=tick.enter().append("g").attr("class","tick"),line=tick.select("line"),text=tick.select("text");path=path.merge(path.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tick=tick.merge(tickEnter),line=line.merge(tickEnter.append("line").attr("stroke","currentColor").attr(x+"2",k*tickSizeInner)),text=text.merge(tickEnter.append("text").attr("fill","currentColor").attr(x,k*spacing).attr("dy",orient===top?"0em":orient===bottom?"0.71em":"0.32em")),context!==selection&&(path=path.transition(context),tick=tick.transition(context),line=line.transition(context),text=text.transition(context),tickExit=tickExit.transition(context).attr("opacity",epsilon).attr("transform",(function(d){return isFinite(d=position(d))?transform(d):this.getAttribute("transform")})),tickEnter.attr("opacity",epsilon).attr("transform",(function(d){var p=this.parentNode.__axis;return transform(p&&isFinite(p=p(d))?p:position(d))}))),tickExit.remove(),path.attr("d",orient===left||orient==right?tickSizeOuter?"M"+k*tickSizeOuter+","+range0+"H0.5V"+range1+"H"+k*tickSizeOuter:"M0.5,"+range0+"V"+range1:tickSizeOuter?"M"+range0+","+k*tickSizeOuter+"V0.5H"+range1+"V"+k*tickSizeOuter:"M"+range0+",0.5H"+range1),tick.attr("opacity",1).attr("transform",(function(d){return transform(position(d))})),line.attr(x+"2",k*tickSizeInner),text.attr(x,k*spacing).text(format),selection.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",orient===right?"start":orient===left?"end":"middle"),selection.each((function(){this.__axis=position}))}return axis.scale=function(_){return arguments.length?(scale=_,axis):scale},axis.ticks=function(){return tickArguments=slice.call(arguments),axis},axis.tickArguments=function(_){return arguments.length?(tickArguments=null==_?[]:slice.call(_),axis):tickArguments.slice()},axis.tickValues=function(_){return arguments.length?(tickValues=null==_?null:slice.call(_),axis):tickValues&&tickValues.slice()},axis.tickFormat=function(_){return arguments.length?(tickFormat=_,axis):tickFormat},axis.tickSize=function(_){return arguments.length?(tickSizeInner=tickSizeOuter=+_,axis):tickSizeInner},axis.tickSizeInner=function(_){return arguments.length?(tickSizeInner=+_,axis):tickSizeInner},axis.tickSizeOuter=function(_){return arguments.length?(tickSizeOuter=+_,axis):tickSizeOuter},axis.tickPadding=function(_){return arguments.length?(tickPadding=+_,axis):tickPadding},axis}function formatDecimalParts$1(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}var prefixExponent$1,re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier$1(specifier){if(!(match=re$1.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier$1({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier$1(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded$1(x,p){var d=formatDecimalParts$1(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier$1.prototype=FormatSpecifier$1.prototype,FormatSpecifier$1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes$1={"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function formatDecimal$1(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return formatRounded$1(100*x,p)},r:formatRounded$1,s:function formatPrefixAuto$1(x,p){var d=formatDecimalParts$1(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent$1=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts$1(x,Math.max(0,p+i-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function identity$5(x){return x}var locale$2,format$1,map$1=Array.prototype.map,prefixes$1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$2(locale){var group=void 0===locale.grouping||void 0===locale.thousands?identity$5:function formatGroup$1(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}(map$1.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?identity$5:function formatNumerals$1(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(map$1.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"−":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier$1(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes$1[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes$1[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function formatTrim$1(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0==+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes$1[8+prefixExponent$1/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=formatSpecifier$1(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(function exponent$1(x){return(x=formatDecimalParts$1(Math.abs(x)))?x[1]:NaN}(value)/3))),k=Math.pow(10,-e),prefix=prefixes$1[8+e/3];return function(value){return f(k*value)+prefix}}}}!function defaultLocale$2(definition){return locale$2=formatLocale$2(definition),format$1=locale$2.format,locale$2}({thousands:",",grouping:[3],currency:["$",""]});var DEFAULT_AXIS_OPTIONS={showX:!0,showY:!0},scales=function(size,viewport){return{xScale:time().domain([viewport.start.getTime(),viewport.end.getTime()]).range([0,size.width]),yScale:linear$1().domain([viewport.yMin,viewport.yMax]).range([size.height,0])}},tickCount=function(size){return function(_a,_b){var width=_a.width,height=_a.height,yScaleType=_b.yScaleType;return{xTickCount:Math.max(Math.floor(width/100),2),yTickCount:Math.max(Math.floor(height/(30+(yScaleType===_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.S.Log?60:0))),2)}}({width:size.width,height:size.height},{xScaleSide:"bottom",yScaleSide:"left",yScaleType:_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.S.Linear,xScaleType:_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.S.Linear})},xAxisConstructor=function(size,viewport){var xTickCount=tickCount(size).xTickCount;return function axisBottom(scale){return axis(bottom,scale)}(scales(size,viewport).xScale).ticks(xTickCount).tickPadding(10).tickSize(0)},yAxisConstructor=function(size,viewport){var yTickCount=tickCount(size).yTickCount;return function axisLeft(scale){return axis(left,scale)}(scales(size,viewport).yScale).ticks(yTickCount).tickFormat(format$1(".2s")).tickSize(-size.width).tickPadding(10)},xAxisCall=function(size,viewport){return function(selection){return selection.attr("transform","translate("+size.marginLeft+", "+(size.marginTop+size.height)+")").call(xAxisConstructor(size,viewport))}},yAxisCall=function(size,viewport){return function(selection){return selection.attr("transform","translate("+size.marginLeft+", "+size.marginTop+")").call(yAxisConstructor(size,viewport))}},roundedMagnitude=function(n){var m=function(n){var o=Math.log10(Math.abs(n));return Math.ceil(o)}(n);return n>0?Math.pow(10,m):-1*Math.pow(10,m)},roundToOrderOfMagnitude=function(n,min){if(0===n)return 0;var roundedY=function(rMag,n){return function(roundUp){var a=n/(rMag/50),b=rMag/50;return roundUp?Math.ceil(a)*b:Math.floor(a)*b}}(roundedMagnitude(n),n);return roundedY(n<0?min:!min)},DEFAULT_Y_RANGE={yMax:1e3,yMin:1},getYRangeWithBuffers=function(_a){var yValues=_a.yValues,startFromZero=_a.startFromZero;if(0===yValues.length)return DEFAULT_Y_RANGE;var dataRange=yValues.reduce((function(yRange,currentY){return{yMin:Math.min(currentY,yRange.yMin),yMax:Math.max(currentY,yRange.yMax)}}),{yMin:1/0,yMax:-1/0}),noNegativeValues=dataRange.yMin>=0,noPositiveValues=dataRange.yMax<=0,bufferHeight=function(yMin,yMax){return yMax===yMin?0!==yMax?Math.abs(.5*yMax):.5:.15*(yMax-yMin)}(dataRange.yMin,dataRange.yMax),yMax=dataRange.yMax+bufferHeight,yMin=dataRange.yMin-bufferHeight;return 0===dataRange.yMax&&0===dataRange.yMin||(startFromZero&&noNegativeValues&&(yMin=0),startFromZero&&noPositiveValues&&(yMax=0)),{yMin:roundToOrderOfMagnitude(yMin,!0),yMax:roundToOrderOfMagnitude(yMax,!1)}},EmptyStatus=function(_a){var isLoading=_a.isLoading,hasNoDataPresent=_a.hasNoDataPresent,hasNoDataStreamsPresent=_a.hasNoDataStreamsPresent,messageOverrides=_a.messageOverrides,displaysNoDataPresentMsg=_a.displaysNoDataPresentMsg;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"empty-status",style:(!(hasNoDataPresent||hasNoDataStreamsPresent)||isLoading)&&{display:"none"}||void 0},!isLoading&&hasNoDataStreamsPresent&&[(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("h3",null,messageOverrides.noDataStreamsPresentHeader||_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.f),messageOverrides.noDataStreamsPresentSubHeader||_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.h],!isLoading&&displaysNoDataPresentMsg&&!hasNoDataStreamsPresent&&hasNoDataPresent&&[(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("h3",null,messageOverrides.noDataPresentHeader||_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.N),messageOverrides.noDataPresentSubHeader||_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.e])},UnsupportedDataTypeStatus=function(_a){var supportedDataTypes=_a.supportedDataTypes,messageOverrides=_a.messageOverrides,size=_a.size,width=size.width,height=size.height,marginLeft=size.marginLeft,marginRight=size.marginRight,marginTop=size.marginTop,marginBottom=size.marginBottom;return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{id:"unsupported-data-type-error",class:"unsupported-data-type-status",style:{width:width+marginLeft+marginRight+"px",height:height+marginBottom+marginTop+"px",padding:"24px",background:"white",border:"solid 4px black"}},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("h2",null,messageOverrides.unsupportedDataTypeHeader||"Unable to render your data"),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("h2",null,messageOverrides.unsupportedDataTypeSubHeader||"This chart only supports the following DataType(s):"),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,messageOverrides.supportedTypes||supportedDataTypes.map((function(type){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,type)}))))},needAxisRescale=function(_a){var annotationValue=_a.annotationValue,viewport=_a.viewport,yMax=viewport.yMax,yMin=viewport.yMin;return annotationValue<yMin+.01*(yMax-yMin)||annotationValue>yMin+.99*(yMax-yMin)},maskNonDraggedAnnotations=function(_a){var on=_a.on,container=_a.container,currentDraggedAnnotation=_a.currentDraggedAnnotation;select(container).selectAll("g.y-annotation-editable,g.y-annotation").filter((function(annotation){return annotation!==currentDraggedAnnotation})).transition().duration(100).attr("opacity",on?.32:1)},attachDraggable=function(){var draggedAnnotationValue,internalUpdate=lodash_throttle((function(_a){(0,_a[0])(_a[1],!1,!1,!0)}),90);return function(_a){var container=_a.container,size=_a.size,onUpdate=_a.onUpdate,activeViewPort=_a.activeViewPort,emitUpdatedWidgetConfiguration=_a.emitUpdatedWidgetConfiguration,startStopDragging=_a.startStopDragging,dragHandle=_a.dragHandle,resolution=_a.resolution,height=size.height,getGroupPosition=function(annotation,viewport){return"translate(0,"+getY({annotation,height,viewport})+")"};dragHandle.call(function drag(){var mousedownx,mousedowny,mousemoving,touchending,filter=defaultFilter,container=defaultContainer,subject=defaultSubject,touchable=defaultTouchable,gestures={},listeners=dispatch("start","drag","end"),active=0,clickDistance2=0;function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var gesture=beforestart("mouse",container.apply(this,arguments),mouse,this,arguments);gesture&&(select(event.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),dragDisable(event.view),nopropagation(),mousemoving=!1,mousedownx=event.clientX,mousedowny=event.clientY,gesture("start"))}}function mousemoved(){if(noevent(),!mousemoving){var dx=event.clientX-mousedownx,dy=event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag")}function mouseupped(){select(event.view).on("mousemove.drag mouseup.drag",null),yesdrag(event.view,mousemoving),noevent(),gestures.mouse("end")}function touchstarted(){if(filter.apply(this,arguments)){var i,gesture,touches=event.changedTouches,c=container.apply(this,arguments),n=touches.length;for(i=0;i<n;++i)(gesture=beforestart(touches[i].identifier,c,touch,this,arguments))&&(nopropagation(),gesture("start"))}}function touchmoved(){var i,gesture,touches=event.changedTouches,n=touches.length;for(i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(noevent(),gesture("drag"))}function touchended(){var i,gesture,touches=event.changedTouches,n=touches.length;for(touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500),i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(nopropagation(),gesture("end"))}function beforestart(id,container,point,that,args){var s,dx,dy,p=point(container,id),sublisteners=listeners.copy();if(customEvent(new DragEvent(drag,"beforestart",s,id,active,p[0],p[1],0,0,sublisteners),(function(){return null!=(event.subject=s=subject.apply(that,args))&&(dx=s.x-p[0]||0,dy=s.y-p[1]||0,!0)})))return function gesture(type){var n,p0=p;switch(type){case"start":gestures[id]=gesture,n=active++;break;case"end":delete gestures[id],--active;case"drag":p=point(container,id),n=active}customEvent(new DragEvent(drag,type,s,id,n,p[0]+dx,p[1]+dy,p[0]-p0[0],p[1]-p0[1],sublisteners),sublisteners.apply,sublisteners,[type,that,args])}}return drag.filter=function(_){return arguments.length?(filter="function"==typeof _?_:constant$2(!!_),drag):filter},drag.container=function(_){return arguments.length?(container="function"==typeof _?_:constant$2(_),drag):container},drag.subject=function(_){return arguments.length?(subject="function"==typeof _?_:constant$2(_),drag):subject},drag.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:constant$2(!!_),drag):touchable},drag.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?drag:value},drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)},drag}().on("start",(function dragStarted(yAnnotation){var annotationDragged=yAnnotation;annotationDragged.isEditable&&(startStopDragging(!0),draggedAnnotationValue=+annotationDragged.value,select(this).classed("active",!0),maskNonDraggedAnnotations({container,on:!0,currentDraggedAnnotation:yAnnotation}))})).on("drag",(function handleDragged(yAnnotation){var annotationDragged=yAnnotation;if(annotationDragged.isEditable){var viewport=activeViewPort(),draggedValue=function(_a){var yPos=_a.yPos,viewport=_a.viewport,height=_a.size.height,yMax=viewport.yMax,yMin=viewport.yMin,newVal=(height*yMax-yMax*yPos+yMin*yPos)/height,yAxisScale=(yMax-yMin)/1e3,decimalDigits=Math.log(yAxisScale)/Math.log(10);return+newVal.toFixed(decimalDigits>=0?0:-decimalDigits)}({yPos:event.y,viewport,size});annotationDragged.value=draggedValue,draggedAnnotationValue=draggedValue;var axisRescale=needAxisRescale({annotationValue:annotationDragged.value,viewport});axisRescale?(onUpdate(viewport,!1,axisRescale,!0),viewport=activeViewPort()):internalUpdate([onUpdate,viewport]),select(container).selectAll("g.y-annotation-editable").selectAll("g.y-elements-group").attr("transform",(function(annotation){return getGroupPosition(annotation,viewport)})),select(container).selectAll("rect.y-annotation").attr("y",(function(annotation){return function(annotation,viewport){return getY({annotation,height,viewport})+-11}(annotation,viewport)})),select(container).selectAll("g.y-annotation-editable,g.y-annotation").select("text.y-value-text").text((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.w)({annotation,resolution,viewport,formatText:!0})})),select(container).selectAll("g.y-annotation").attr("transform",(function(annotation){return getGroupPosition(annotation,viewport)}))}})).on("end",(function dragEnded(yAnnotation){var annotationDragged=yAnnotation;if(annotationDragged.isEditable){annotationDragged.value=null!=draggedAnnotationValue?draggedAnnotationValue:annotationDragged.value;var viewport=activeViewPort();emitUpdatedWidgetConfiguration();var axisRescale=needAxisRescale({annotationValue:annotationDragged.value,viewport});onUpdate(viewport,!1,axisRescale,!0),select(this).classed("active",!1),startStopDragging(!1),maskNonDraggedAnnotations({container,on:!1,currentDraggedAnnotation:yAnnotation})}})))}},DATE_RANGE_EMIT_EVENT_MS=.5*_time_33466212_js__WEBPACK_IMPORTED_MODULE_5__.S,ScWebglBaseChart=function(){function ScWebglBaseChart(hostRef){var yAxis,xAxisSeparator,xAxis,_this_1=this;(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.widgetUpdated=(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"widgetUpdated",7),this.dateRangeChange=(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"dateRangeChange",7),this.isEditing=!1,this.renderLegend=function(props){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-legend",Object.assign({},props))},this.annotations={},this.trends=[],this.displaysError=!0,this.supportedDataTypes=Object.values(_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.D),this.yRangeStartFromZero=!1,this.isMounted=!1,this.yMin=this.viewport.yMin||0,this.yMax=this.viewport.yMax||100,this.start=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.j)(this.viewport)?new Date(this.viewport.start):new Date(Date.now()-(0,_time_33466212_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.viewport.duration)),this.end=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.j)(this.viewport)?new Date(this.viewport.end):new Date,this.trendResults=[],this.axisRenderer=function(_a){var container=_a.container,viewport=_a.viewport,size=_a.size,axis=_a.axis,sel=select(container),_b=Object.assign(Object.assign({},DEFAULT_AXIS_OPTIONS),axis),showX=_b.showX,showY=_b.showY,labels=_b.labels;if(!showX&&xAxis&&xAxisSeparator&&(xAxis.remove(),xAxis=null,xAxisSeparator.remove(),xAxisSeparator=null),!showY&&yAxis&&(yAxis.remove(),yAxis=null),showX&&!xAxis&&(sel.append("line").attr("class","x-axis-separator").attr("x1",size.marginLeft).attr("y1",size.height+size.marginTop).attr("x2",size.width+size.marginLeft).attr("y2",size.height+size.marginTop),sel.append("g").attr("class","axis x-axis").call(xAxisCall(size,viewport)),xAxis=select(container.querySelector(".x-axis")),xAxisSeparator=select(container.querySelector(".x-axis-separator")),!xAxis))throw new Error("Failed to initialize the axis component");if(showY&&!yAxis&&(sel.append("g").attr("class","axis y-axis").call(yAxisCall(size,viewport)),!(yAxis=select(container.querySelector(".y-axis")))))throw new Error("Failed to initialize the axis component");if(xAxis&&(xAxis.call(xAxisCall(size,viewport)),xAxisSeparator&&xAxisSeparator.attr("x1",size.marginLeft).attr("y1",size.height+size.marginTop).attr("x2",size.width+size.marginLeft).attr("y2",size.height+size.marginTop)),yAxis){if(labels&&labels.yAxis){var newContent_1=labels.yAxis.content,currentLabel=sel.select(".y-axis-label");(currentLabel.empty()||newContent_1!==currentLabel.text())&&(currentLabel.empty()||currentLabel.remove(),sel.append("text").attr("class","y-axis-label").attr("transform","translate(10, 10)").text((function(){return newContent_1})))}yAxis.call(yAxisCall(size,viewport))}},this.draggable=attachDraggable(),this.isDragging=!1,this.startStopDragging=function(dragState){_this_1.isDragging=dragState},this.inDragState=function(){return _this_1.isDragging},this.getAxisContainer=function(){return _this_1.axisContainer||(_this_1.axisContainer=_this_1.el.querySelector("svg.axis")),_this_1.axisContainer},this.emitUpdatedWidgetConfiguration=function(dataStreams){var configUpdate={movement:void 0,scale:void 0,layout:void 0,legend:_this_1.legend,annotations:_this_1.internalAnnotations,axis:_this_1.axis,widgetId:_this_1.configId,dataStreams:dataStreams?(0,_common_a5fcad18_js__WEBPACK_IMPORTED_MODULE_10__.g)(dataStreams):_this_1.dataStreams};_this_1.widgetUpdated.emit(configUpdate)},this.updateDataStreamName=function(_a){var streamId=_a.streamId,name=_a.name,updatedDataStreams=_this_1.dataStreams.map((function(dataStream){return Object.assign(Object.assign({},dataStream),{name:dataStream.id===streamId?name:dataStream.name})}));_this_1.emitUpdatedWidgetConfiguration(updatedDataStreams)},this.onDateRangeChange=lodash_throttle((function(_a){var start=_a[0],end=_a[1],from=_a[2];_this_1.dateRangeChange.emit([start,end,from])}),DATE_RANGE_EMIT_EVENT_MS,{leading:!0,trailing:!0}),this.chartSizeConfig=function(){var size=_this_1.chartSize(),marginTop=size.marginTop,marginBottom=size.marginBottom,marginLeft=size.marginLeft,marginRight=size.marginRight,height=size.height,width=size.width,chartHeight=height-marginBottom-marginTop,isRightLegend=_this_1.legend&&_this_1.legend.position===_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.L.RIGHT,isBottomLegend=_this_1.legend&&_this_1.legend.position===_constants_ebd051c2_js__WEBPACK_IMPORTED_MODULE_6__.L.BOTTOM;return Object.assign(Object.assign({},size),{width:Math.max(width-marginLeft-marginRight-(isRightLegend?_this_1.legend.width:0),50),height:chartHeight-(isBottomLegend?100:0)})},this.activeViewPort=function(){return{start:_this_1.start,end:_this_1.end,yMin:_this_1.yMin,yMax:_this_1.yMax,group:_this_1.viewport.group,duration:(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.j)(_this_1.viewport)?void 0:(0,_time_33466212_js__WEBPACK_IMPORTED_MODULE_5__.b)(_this_1.viewport.duration)}},this.handleCameraEvent=function(_a){var start=_a.start,end=_a.end;if(_this_1.scene){var oldViewport={yMin:_this_1.yMin,yMax:_this_1.yMax,start,end};_this_1.shouldRerenderOnViewportChange&&_this_1.shouldRerenderOnViewportChange({oldViewport,newViewport:_this_1.activeViewPort()})&&_this_1.onUpdate({start,end},!1,!1,!1,!0),_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.updateViewPorts({start,end,manager:_this_1.scene})}},this.updateYRange=function(){var _a=function(_a){var points=_a.points,yAnnotations=_a.yAnnotations,startFromZero=_a.startFromZero,yDataValues=points.map((function(point){return point.y})),yAnnotationValues=yAnnotations.map((function(yAnnotation){return yAnnotation.value}));return getYRangeWithBuffers({yValues:__spreadArrays(yDataValues,yAnnotationValues),startFromZero})}({points:_this_1.dataStreams.filter(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.i).map((function(stream){return(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.g)((0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.d)(stream,stream.resolution),{start:_this_1.start,end:_this_1.end},!1)})).flat(),yAnnotations:(_this_1.internalAnnotations&&Array.isArray(_this_1.internalAnnotations.y)&&_this_1.internalAnnotations.y||[]).filter((function(annotation){return(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.z)(annotation.value)})),startFromZero:_this_1.yRangeStartFromZero}),yMin=_a.yMin,yMax=_a.yMax,prevYMin=_this_1.yMin,prevYMax=_this_1.yMax;_this_1.yMin=null!=_this_1.viewport.yMin?_this_1.viewport.yMin:yMin,_this_1.yMax=null!=_this_1.viewport.yMax?_this_1.viewport.yMax:yMax;var oldViewport={yMin:prevYMin,yMax:prevYMax,start:_this_1.start,end:_this_1.end};_this_1.shouldRerenderOnViewportChange&&_this_1.shouldRerenderOnViewportChange({oldViewport,newViewport:_this_1.activeViewPort()})&&_this_1.onUpdate(_this_1.activeViewPort(),!1,!1,!1,!0),_this_1.applyYRangeChanges()},this.applyYRangeChanges=function(){_this_1.scene&&(_this_1.scene.camera.top=_this_1.yMax,_this_1.scene.camera.bottom=_this_1.yMin,_this_1.scene.camera.updateProjectionMatrix())},this.getDataContainer=function(){return null==_this_1.dataContainer&&(_this_1.dataContainer=_this_1.el.querySelector(".data-container")),_this_1.dataContainer},this.getThresholdContainer=function(){return null==_this_1.thresholdContainer&&(_this_1.thresholdContainer=_this_1.el.querySelector(".threshold-container")),_this_1.thresholdContainer},this.getTrendContainer=function(){return null==_this_1.trendContainer&&(_this_1.trendContainer=_this_1.el.querySelector(".trend-container")),_this_1.trendContainer},this.getHasSupportedData=function(){return _this_1.dataStreams.every((function(_a){var streamType=_a.streamType,dataType=_a.dataType;return streamType===_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.S.ALARM||_this_1.supportedDataTypes.includes(dataType)}))},this.thresholds=function(){return _this_1.internalAnnotations&&_this_1.internalAnnotations.y?_this_1.internalAnnotations.y.filter(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.k):[]},this.getThresholdOptions=function(){if(null==_this_1.internalAnnotations||null==_this_1.internalAnnotations.thresholdOptions)return _chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.a;var thresholdOptions=_this_1.internalAnnotations.thresholdOptions;return"boolean"==typeof thresholdOptions?thresholdOptions?_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.a:_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.b:Object.assign(Object.assign({},_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.a),thresholdOptions)},this.onUpdate=function(_a,hasDataChanged,hasSizeChanged,hasAnnotationChanged,shouldRerender){var start=_a.start,end=_a.end,shouldBlockDateRangeChangedEvent=_a.shouldBlockDateRangeChangedEvent;if(void 0===hasDataChanged&&(hasDataChanged=!1),void 0===hasSizeChanged&&(hasSizeChanged=!1),void 0===hasAnnotationChanged&&(hasAnnotationChanged=!1),void 0===shouldRerender&&(shouldRerender=!1),_this_1.getHasSupportedData()&&(_this_1.scene||_this_1.el.isConnected)){if(!_this_1.el.isConnected&&_this_1.scene)return console.error("[SynchroCharts] chart with associated scene id of "+_this_1.scene.id+" is disconnected,\n         but still being called via the view port manager. removing from the view port manager."),_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.removeChartScene(_this_1.scene.id),void(_this_1.scene=null);if(!_this_1.scene)throw new Error("[SynchroCharts] Scene is not present but update is being called.");(_this_1.start.getTime()!==start.getTime()||_this_1.end.getTime()!==end.getTime())&&!shouldBlockDateRangeChangedEvent&&_this_1.onDateRangeChange([start,end,_this_1.viewport.group]),_this_1.start=start,_this_1.end=end,_this_1.supportString||shouldRerender||_this_1.updateYRange(),_this_1.updateAndRegisterChartScene({hasDataChanged,hasSizeChanged,hasAnnotationChanged,shouldRerender});var viewport=_this_1.activeViewPort(),size=_this_1.chartSizeConfig();if(_this_1.onUpdateLifeCycle&&_this_1.onUpdateLifeCycle(_this_1.activeViewPort()),!_this_1.supportString){var numberAnnotations=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.A)(_this_1.internalAnnotations);renderAnnotations({container:_this_1.getThresholdContainer(),annotations:numberAnnotations,viewport,size,resolution:_this_1.dataStreams[0]?_this_1.dataStreams[0].resolution:0,onUpdate:_this_1.onUpdate,activeViewPort:_this_1.activeViewPort,emitUpdatedWidgetConfiguration:_this_1.emitUpdatedWidgetConfiguration,draggable:_this_1.draggable,startStopDragging:_this_1.startStopDragging,inDragState:_this_1.inDragState})}if(!_this_1.supportString){var dataStreamsWithTrends=_this_1.visualizedDataStreams().filter(_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.i);_this_1.trendResults=function(viewport,dataStreams,trends){var trendResults=[];return dataStreams.forEach((function(stream){var id=stream.id,dataPoints=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.d)(stream,stream.resolution),dataInViewport=(0,_Value_bea966b5_js__WEBPACK_IMPORTED_MODULE_9__.g)(dataPoints,viewport);dataInViewport.length>=2&&trends.filter((function(_a){var dataStreamId=_a.dataStreamId;return id===dataStreamId})).forEach((function(_a){var type=_a.type,color=_a.color,trendResult=computeTrendResult(Object.assign(Object.assign({},stream),{data:dataInViewport}),type);trendResult&&trendResults.push(Object.assign(Object.assign({},trendResult),{color}))}))})),trendResults}(viewport,dataStreamsWithTrends,_this_1.trends),function(_a){var container=_a.container,viewport=_a.viewport,_b=_a.size,width=_b.width,height=_b.height,dataStreams=_a.dataStreams,trendResults=_a.trendResults,linearPathCommands=[];trendResults.forEach((function(trendResult){var dataStream=dataStreams.find((function(elt){return elt.id===trendResult.dataStreamId}));dataStream&&(trendResult.type===_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.T.LINEAR?linearPathCommands.push({color:trendResult.color||dataStream.color||"black",command:getLinearPathCommand({trendResult,size:{width,height},viewport})}):console.error("Unable to render trend line for trend type '"+trendResult.type+"'."))}));var linearSelection=select(container).selectAll("path.linear-regression").data(linearPathCommands);linearSelection.enter().append("path").attr("class","linear-regression").attr("stroke",(function(data){return data.color})).attr("stroke-dasharray","4, 7").attr("stroke-linecap","round").attr("stroke-width",2).attr("d",(function(data){return data.command})),linearSelection.attr("stroke",(function(data){return data.color})).attr("d",(function(data){return data.command})),linearSelection.exit().remove()}({container:_this_1.getTrendContainer(),viewport,size,dataStreams:_this_1.visualizedDataStreams(),trendResults:_this_1.trendResults})}_this_1.axisRenderer({container:_this_1.getAxisContainer(),viewport,size,axis:_this_1.axis})}},this.setChartRenderingPosition=function(){if(_this_1.scene){var chartSize=_this_1.chartSizeConfig();_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.setChartRect(_this_1.scene.id,{width:chartSize.width,height:chartSize.height,x:_this_1.size.x+chartSize.marginLeft,y:_this_1.size.y+chartSize.marginTop,left:_this_1.size.left+chartSize.marginLeft,top:_this_1.size.top+chartSize.marginTop,right:_this_1.size.left+chartSize.marginLeft+chartSize.width,bottom:_this_1.size.top+chartSize.marginTop+chartSize.height,density:window.devicePixelRatio})}},this.chartSize=function(){var marginLeft=null==_this_1.size.marginLeft?_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.D.size.marginLeft:_this_1.size.marginLeft,marginRight=null==_this_1.size.marginRight?_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.D.size.marginRight:_this_1.size.marginRight,marginTop=null==_this_1.size.marginTop?_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.D.size.marginTop:_this_1.size.marginTop,marginBottom=null==_this_1.size.marginBottom?_chartDefaults_1d69f98e_js__WEBPACK_IMPORTED_MODULE_8__.D.size.marginBottom:_this_1.size.marginBottom,minWidth=marginLeft+marginRight+50,minHeight=marginTop+marginBottom+50;return{marginLeft,marginRight,marginTop,marginBottom,width:Math.max(_this_1.size.width,minWidth),height:Math.max(_this_1.size.height,minHeight)}},this.renderTooltipComponent=function(marginLeft,marginTop,thresholds){return _this_1.renderTooltip({size:_this_1.chartSizeConfig(),style:{marginLeft:marginLeft+"px",marginTop:marginTop+"px"},dataStreams:_this_1.dataStreams,viewport:_this_1.activeViewPort(),dataContainer:_this_1.getDataContainer(),thresholds,trendResults:_this_1.trendResults,visualizesAlarms:_this_1.visualizesAlarms})},this.renderLegendComponent=function(_a){var isLoading=_a.isLoading,thresholds=_a.thresholds,showDataStreamColor=_a.showDataStreamColor;return _this_1.renderLegend({config:_this_1.legend,dataStreams:_this_1.dataStreams,visualizesAlarms:_this_1.visualizesAlarms,updateDataStreamName:_this_1.updateDataStreamName,viewport:_this_1.activeViewPort(),isEditing:_this_1.isEditing,isLoading,thresholds,supportString:_this_1.supportString,trendResults:_this_1.trendResults,showDataStreamColor})}}return ScWebglBaseChart.prototype.componentDidLoad=function(){this.el.isConnected&&(this.setupChartScene(),this.isMounted=!0)},ScWebglBaseChart.prototype.componentWillLoad=function(){this.isDragging||this.setInternalAnnotations()},ScWebglBaseChart.prototype.setInternalAnnotations=function(){this.internalAnnotations=lodash_clonedeep(this.annotations)},ScWebglBaseChart.prototype.visualizedDataStreams=function(){return this.visualizesAlarms?this.dataStreams:this.dataStreams.filter((function(_a){return _a.streamType!==_dataConstants_8e079f60_js__WEBPACK_IMPORTED_MODULE_3__.S.ALARM}))},ScWebglBaseChart.prototype.onViewPortChange=function(newViewPort,oldViewPort){this.scene&&!lodash_isequal(newViewPort,oldViewPort)&&((newViewPort.yMin!==oldViewPort.yMin||newViewPort.yMax!==oldViewPort.yMax)&&(this.yMin=newViewPort.yMin,this.yMax=newViewPort.yMax,this.applyYRangeChanges()),this.start=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.j)(newViewPort)?new Date(newViewPort.start):new Date(Date.now()-(0,_time_33466212_js__WEBPACK_IMPORTED_MODULE_5__.b)(newViewPort.duration)),this.end=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.j)(newViewPort)?new Date(newViewPort.end):new Date,this.scene.updateViewPort(this.activeViewPort()),_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.updateViewPorts({start:this.start,end:this.end,manager:this.scene,duration:this.activeViewPort().duration}),this.updateAndRegisterChartScene({hasDataChanged:!1,hasSizeChanged:!1,hasAnnotationChanged:!1,shouldRerender:!1}),this.shouldRerenderOnViewportChange&&this.shouldRerenderOnViewportChange({oldViewport:oldViewPort,newViewport:newViewPort})&&this.onUpdate({start:this.start,end:this.end},!1,!1,!1,!0));var duration=this.activeViewPort().duration;null!=this.scene&&null!=duration&&(_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.stopTick({manager:this.scene}),_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.startTick({manager:this.scene,duration,chartSize:this.chartSizeConfig()}))},ScWebglBaseChart.prototype.onSizeChange=function(newProp,oldProp){if(lodash_isequal(newProp,oldProp)||this.onUpdate(this.activeViewPort(),!1,!0),null!=newProp.width&&newProp.width!==oldProp.width){var duration=this.activeViewPort().duration;null!=this.scene&&null!=duration&&(_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.stopTick({manager:this.scene}),_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.startTick({manager:this.scene,duration,chartSize:this.chartSizeConfig()}))}},ScWebglBaseChart.prototype.onDataStreamsChange=function(){this.onUpdate(this.activeViewPort(),!0)},ScWebglBaseChart.prototype.onAnnotationsChange=function(newProp,oldProp){lodash_isequal(newProp,oldProp)||this.isDragging||(this.setInternalAnnotations(),this.onUpdate(this.activeViewPort(),!1,!1,!0))},ScWebglBaseChart.prototype.onTrendsChange=function(newProp,oldProp){lodash_isequal(newProp,oldProp)||this.onUpdate(this.activeViewPort(),!1)},ScWebglBaseChart.prototype.onAxisChange=function(newProp,oldProp){var viewport=this.activeViewPort(),size=this.chartSizeConfig();lodash_isequal(newProp,oldProp)||this.axisRenderer({container:this.getAxisContainer(),viewport,size,axis:this.axis})},ScWebglBaseChart.prototype.componentDidUnload=function(){this.scene&&_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.removeChartScene(this.scene.id),this.scene=null},ScWebglBaseChart.prototype.setupChartScene=function(){this.scene=this.createChartScene({viewport:this.activeViewPort(),chartSize:this.chartSizeConfig(),dataStreams:this.visualizedDataStreams(),alarms:this.alarms,container:this.getDataContainer(),minBufferSize:this.minBufferSize,bufferFactor:this.bufferFactor,onUpdate:this.onUpdate,thresholdOptions:this.getThresholdOptions(),thresholds:this.thresholds()});var duration=this.activeViewPort().duration;_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.addChartScene({manager:this.scene,duration,chartSize:this.chartSizeConfig()}),this.setChartRenderingPosition(),_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.render(this.scene),this.onUpdate(this.activeViewPort())},ScWebglBaseChart.prototype.updateAndRegisterChartScene=function(_a){var _this_1=this,hasDataChanged=_a.hasDataChanged,hasSizeChanged=_a.hasSizeChanged,hasAnnotationChanged=_a.hasAnnotationChanged,shouldRerender=_a.shouldRerender;if(this.scene){hasSizeChanged&&this.setChartRenderingPosition();var container=this.getDataContainer(),updatedScene=this.updateChartScene({scene:this.scene,chartSize:this.chartSizeConfig(),dataStreams:this.visualizedDataStreams(),alarms:this.alarms,container,viewport:this.activeViewPort(),minBufferSize:this.minBufferSize,bufferFactor:this.bufferFactor,onUpdate:this.onUpdate,thresholdOptions:this.getThresholdOptions(),thresholds:this.thresholds(),hasSizeChanged,hasDataChanged,shouldRerender,hasAnnotationChanged});if(updatedScene.id!==this.scene.id){_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.removeChartScene(this.scene.id),this.scene=updatedScene;var duration=this.activeViewPort().duration;_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.addChartScene({manager:updatedScene,duration,shouldSync:!1,chartSize:this.chartSizeConfig()}),this.setChartRenderingPosition()}_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.render(this.scene),hasSizeChanged&&window.setTimeout((function(){_this_1.scene&&_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.render(_this_1.scene)}),0)}},ScWebglBaseChart.prototype.render=function(){var _this_1=this,chartSizeConfig=this.chartSizeConfig(),marginLeft=chartSizeConfig.marginLeft,marginTop=chartSizeConfig.marginTop,marginRight=chartSizeConfig.marginRight,marginBottom=chartSizeConfig.marginBottom,hasError=this.dataStreams.some((function(_a){return null!=_a.error})),shouldDisplayAsLoading=!hasError&&this.visualizedDataStreams().some((function(_a){return _a.isLoading})),hasNoDataStreamsPresent=0===this.visualizedDataStreams().length,hasNoDataPresent=this.visualizedDataStreams().every((function(stream){var points=(0,_getDataPoints_1a3cf1be_js__WEBPACK_IMPORTED_MODULE_1__.d)(stream,stream.resolution);return 0===points.length||points[points.length-1].x<_this_1.start.getTime()})),thresholds=this.thresholds(),showDataStreamColor=null==this.legend||null==this.legend.showDataStreamColor||this.legend.showDataStreamColor;return this.getHasSupportedData()?[(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui sc-webgl-base-chart"},this.displaysError&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(ErrorStatus,{hasError,size:chartSizeConfig}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-webgl-axis",{size:chartSizeConfig}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(DataContainer,{size:chartSizeConfig},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(EmptyStatus,{displaysNoDataPresentMsg:null==this.displaysNoDataPresentMsg||this.displaysNoDataPresentMsg,messageOverrides:this.messageOverrides||{},isLoading:shouldDisplayAsLoading,hasNoDataPresent,hasNoDataStreamsPresent}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(LoadingStatus,{isLoading:shouldDisplayAsLoading}),this.gestures&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("iot-app-kit-vis-gesture-handler",{onDateRangeChange:this.handleCameraEvent,size:chartSizeConfig,viewport:this.activeViewPort()})),this.legend&&(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(ChartLegendContainer,{config:this.legend,legendHeight:100,size:chartSizeConfig},this.renderLegendComponent({isLoading:shouldDisplayAsLoading,thresholds,showDataStreamColor}))),this.isMounted&&this.renderTooltipComponent(marginLeft,marginTop,thresholds),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{class:"threshold-container",width:chartSizeConfig.width+marginRight,height:chartSizeConfig.height+marginBottom,style:{marginLeft:marginLeft+"px",marginTop:marginTop+"px"}}),(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{class:"trend-container",width:chartSizeConfig.width,height:chartSizeConfig.height,style:{marginLeft:marginLeft+"px",marginTop:marginTop+"px"}})]:(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"awsui sc-webgl-base-chart"},(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)(UnsupportedDataTypeStatus,{size:chartSizeConfig,messageOverrides:this.messageOverrides||{},supportedDataTypes:this.supportedDataTypes}))},Object.defineProperty(ScWebglBaseChart.prototype,"el",{get:function(){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ScWebglBaseChart,"watchers",{get:function(){return{viewport:["onViewPortChange"],size:["onSizeChange"],legend:["onSizeChange"],dataStreams:["onDataStreamsChange"],annotations:["onAnnotationsChange"],trends:["onTrendsChange"],axis:["onAxisChange"]}},enumerable:!1,configurable:!0}),ScWebglBaseChart}();ScWebglBaseChart.style="iot-app-kit-vis-webgl-base-chart .sc-webgl-base-chart{height:0}iot-app-kit-vis-webgl-base-chart .empty-status{z-index:11;position:absolute;width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;text-align:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;pointer-events:none;color:var(--light-text);font-size:var(--font-size-1)}iot-app-kit-vis-webgl-base-chart .empty-status h3{font-size:var(--font-size-3);line-height:var(--line-height-3);padding-bottom:var(--font-size-2);font-weight:normal}iot-app-kit-vis-webgl-base-chart .data-container{position:absolute}iot-app-kit-vis-webgl-base-chart .selection{fill:rgba(41, 168, 221, var(--selection-opacity));stroke-width:var(--selection-width);stroke:var(--selection-color);stroke-opacity:var(--selection-opacity);z-index:11}iot-app-kit-vis-webgl-base-chart .chart-legend-container{-ms-overflow-style:none;scrollbar-width:none}iot-app-kit-vis-webgl-base-chart .chart-legend-container::-webkit-scrollbar{display:none}iot-app-kit-vis-webgl-base-chart .threshold-container{z-index:5;position:absolute;pointer-events:none;font-size:12px}iot-app-kit-vis-webgl-base-chart .trend-container{z-index:4;position:absolute;pointer-events:none}";var ScWebglContext=function(){function ScWebglContext(hostRef){(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef)}return ScWebglContext.prototype.componentDidLoad=function(){var canvas=this.el.querySelector("canvas");_webglContext_f702bea7_js__WEBPACK_IMPORTED_MODULE_2__.w.initRendering(canvas,this.onContextInitialization,this.viewFrame)},ScWebglContext.prototype.render=function(){var classes="webgl-context-canvas "+(void 0===this.viewFrame||this.viewFrame instanceof Window?"webgl-context-canvas-viewport":"");return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.h)("canvas",{class:classes})},Object.defineProperty(ScWebglContext.prototype,"el",{get:function(){return(0,_index_c7728300_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)},enumerable:!1,configurable:!0}),ScWebglContext}();ScWebglContext.style="iot-app-kit-vis-webgl-context{--scroll-bar-size:16px;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;pointer-events:none}.webgl-context-canvas{position:absolute;left:0;top:0;width:100%;height:100%;max-width:100vw;max-height:100vh;display:block;pointer-events:none;z-index:10}.webgl-context-canvas-viewport{width:calc(100vw - var(--scroll-bar-size));height:calc(100vh - var(--scroll-bar-size))}"}}]);